/*! For license information please see main.27caaaa3.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},121:function(e,t,n){var r;!function(i,s){"use strict";var o="function",a="undefined",A="object",c="string",l="major",u="model",d="name",h="type",p="vendor",f="version",g="architecture",m="console",w="mobile",y="tablet",v="smarttv",b="wearable",C="embedded",B="Amazon",S="Apple",E="ASUS",k="BlackBerry",I="Browser",T="Chrome",x="Firefox",U="Google",F="Huawei",Q="LG",_="Microsoft",R="Motorola",P="Opera",N="Samsung",O="Sharp",L="Sony",D="Xiaomi",H="Zebra",M="Facebook",j="Chromium OS",K="Mac OS",V=" Browser",q=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},G=function(e,t){return typeof e===c&&-1!==$(t).indexOf($(e))},$=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},z=function(e,t){for(var n,r,i,a,c,l,u=0;u<t.length&&!c;){var d=t[u],h=t[u+1];for(n=r=0;n<d.length&&!c&&d[n];)if(c=d[n++].exec(e))for(i=0;i<h.length;i++)l=c[++r],typeof(a=h[i])===A&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):s:this[a[0]]=l?a[1].call(this,l,a[2]):s:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):s):this[a]=l||s;u+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===A&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(G(t[n][r],e))return"?"===n?s:n}else if(G(t[n],e))return"?"===n?s:n;return t.hasOwnProperty("*")?t["*"]:e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,f],[/opios[\/ ]+([\w\.]+)/i],[f,[d,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[d,P+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[d,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[f,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,f],[/quark(?:pc)?\/([-\w\.]+)/i],[f,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[f,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[d,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[d,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+I],f],[/\bfocus\/([\w\.]+)/i],[f,[d,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[d,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[d,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[d,"MIUI"+V]],[/fxios\/([\w\.-]+)/i],[f,[d,x]],[/\bqihoobrowser\/?([\w\.]*)/i],[f,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],f],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+V],f],[/samsungbrowser\/([\w\.]+)/i],[f,[d,N+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[f,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,f],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[f,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,M],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[d,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,T+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[d,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[f,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],f],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[d,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[f,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,$]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",$]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,N],[h,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,N],[h,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[p,S],[h,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,S],[h,y]],[/(macintosh);/i],[u,[p,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,O],[h,w]],[/(?:honor)([-\w ]+)[;\)]/i],[u,[p,"Honor"],[h,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,F],[h,y]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,F],[h,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[p,D],[h,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,D],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[h,w]],[/\b(opd2\d{3}a?) bui/i],[u,[p,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[h,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[h,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,R],[h,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,R],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,Q],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,Q],[h,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[h,w]],[/(pixel c)\b/i],[u,[p,U],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,U],[h,w]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,L],[h,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,L],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[h,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,B],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,B],[h,w]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,k],[h,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,E],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,E],[h,w]],[/(nexus 9)/i],[u,[p,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[h,w]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[p,"TCL"],[h,y]],[/(itel) ((\w+))/i],[[p,$],u,[h,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[h,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[p,"Ulefone"],[h,w]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[p,"Energizer"],[h,w]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[p,"Cat"],[h,w]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[p,"Smartfren"],[h,w]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[p,"Nothing"],[h,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[h,w]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[h,y]],[/(surface duo)/i],[u,[p,_],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[h,w]],[/(u304aa)/i],[u,[p,"AT&T"],[h,w]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[h,w]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[h,y]],[/\b(k88) b/i],[u,[p,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[h,w]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[h,w]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[h,y]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[h,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[h,w]],[/\b(ph-1) /i],[u,[p,"Essential"],[h,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[p,u,[h,w]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,_],[h,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,H],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,H],[h,w]],[/smart-tv.+(samsung)/i],[p,[h,v]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,N],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Q],[h,v]],[/(apple) ?tv/i],[p,[u,S+" TV"],[h,v]],[/crkey/i],[[u,T+"cast"],[p,U],[h,v]],[/droid.+aft(\w+)( bui|\))/i],[u,[p,B],[h,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,O],[h,v]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,L],[h,v]],[/(mitv-\w{5}) bui/i],[u,[p,D],[h,v]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,W],[u,W],[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[h,m]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[u,[p,L],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,_],[h,m]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[p,N],[h,b]],[/((pebble))app/i],[p,u,[h,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,S],[h,b]],[/droid.+; (glass) \d/i],[u,[p,U],[h,b]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,H],[h,b]],[/droid.+; (glass) \d/i],[u,[p,U],[h,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,u,[h,b]],[/; (quest( \d| pro)?)/i],[u,[p,M],[h,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,C]],[/(aeobc)\b/i],[u,[p,B],[h,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[h,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,w]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[d,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[d,f],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[f,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,J,Y],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,K],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,f],[/\(bb(10);/i],[f,[d,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[d,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[d,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,j],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,f],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,f]]},Z=function(e,t){if(typeof e===A&&(t=e,e=s),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:s,r=e||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:s,v=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(X,t):X,b=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[d]=s,t[f]=s,z.call(t,r,v.browser),t[l]=typeof(e=t[f])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:s,b&&n&&n.brave&&typeof n.brave.isBrave==o&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=s,z.call(e,r,v.cpu),e},this.getDevice=function(){var e={};return e[p]=s,e[u]=s,e[h]=s,z.call(e,r,v.device),b&&!e[h]&&m&&m.mobile&&(e[h]=w),b&&"Macintosh"==e[u]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[u]="iPad",e[h]=y),e},this.getEngine=function(){var e={};return e[d]=s,e[f]=s,z.call(e,r,v.engine),e},this.getOS=function(){var e={};return e[d]=s,e[f]=s,z.call(e,r,v.os),b&&!e[d]&&m&&m.platform&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,j).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?W(e,500):e,this},this.setUA(r),this};Z.VERSION="1.0.40",Z.BROWSER=q([d,f,l]),Z.CPU=q([g]),Z.DEVICE=q([u,p,h,m,w,v,y,b,C]),Z.ENGINE=Z.OS=q([d,f]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===s||(e.exports=r):typeof i!==a&&(i.UAParser=Z);var ee=typeof i!==a&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var te=new Z;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"===typeof window?window:this)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!A.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function w(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var v=y.prototype=new w;v.constructor=y,f(v,m.prototype),v.isPureReactComponent=!0;var b=Array.isArray,C=Object.prototype.hasOwnProperty,B={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var A=arguments.length-2;if(1===A)s.children=r;else if(1<A){for(var c=Array(A),l=0;l<A;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(i in A=e.defaultProps)void 0===s[i]&&(s[i]=A[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:B.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var A=!1;if(null===e)A=!0;else switch(a){case"string":case"number":A=!0;break;case"object":switch(e.$$typeof){case n:case r:A=!0}}if(A)return o=o(A=e),e=""===s?"."+T(A,0):s,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),x(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||A&&A.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(A=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var l=s+T(a=e[c],c);A+=x(a,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)A+=x(a=a.value,t,i,l=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return A}function U(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Q={current:null},_={transition:null},R={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:_,ReactCurrentOwner:B};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:U,forEach:function(e,t,n){U(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return U(e,(function(){t++})),t},toArray:function(e){return U(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=s,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=B.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(c in t)C.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==A?A[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){A=Array(c);for(var l=0;l<c;l++)A[l]=arguments[l+2];i.children=A}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:A,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return Q.current.useCallback(e,t)},t.useContext=function(e){return Q.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return Q.current.useDeferredValue(e)},t.useEffect=function(e,t){return Q.current.useEffect(e,t)},t.useId=function(){return Q.current.useId()},t.useImperativeHandle=function(e,t,n){return Q.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return Q.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return Q.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return Q.current.useMemo(e,t)},t.useReducer=function(e,t,n){return Q.current.useReducer(e,t,n)},t.useRef=function(e){return Q.current.useRef(e)},t.useState=function(e){return Q.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return Q.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return Q.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,A=e[a],c=a+1,l=e[c];if(0>s(A,n))c<i&&0>s(l,A)?(e[r]=l,e[c]=n,r=c):(e[r]=A,e[a]=n,r=a);else{if(!(c<i&&0>s(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var c=[],l=[],u=1,d=null,h=3,p=!1,f=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(g=!1,v(e),!f)if(null!==r(c))f=!0,_(C);else{var t=r(l);null!==t&&R(b,t.startTime-e)}}function C(e,n){f=!1,g&&(g=!1,w(k),k=-1),p=!0;var s=h;try{for(v(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!x());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),v(n)}else i(c);d=r(c)}if(null!==d)var A=!0;else{var u=r(l);null!==u&&R(b,u.startTime-n),A=!1}return A}finally{d=null,h=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,S=!1,E=null,k=-1,I=5,T=-1;function x(){return!(t.unstable_now()-T<I)}function U(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?B():(S=!1,E=null)}}else S=!1}if("function"===typeof y)B=function(){y(U)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,Q=F.port2;F.port1.onmessage=U,B=function(){Q.postMessage(null)}}else B=function(){m(U,0)};function _(e){E=e,S||(S=!0,B())}function R(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,_(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(l,e),null===r(c)&&e===r(l)&&(g?(w(k),k=-1):g=!0,R(b,s-o))):(e.sortIndex=a,n(c,e),f||p||(f=!0,_(C))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{A(r.next(e))}catch(Ot){s(Ot)}}function a(e){try{A(r.throw(e))}catch(Ot){s(Ot)}}function A(e){e.done?n(e.value):i(e.value).then(o,a)}A((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return A([e,t])}}function A(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(Ot){s=[6,Ot],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},A=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)f[p.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,s,o=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=f[e.charCodeAt(t)],r=f[e.charCodeAt(t+1)],i=f[e.charCodeAt(t+2)],s=f[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&s;return c},w=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},v=5,b=11,C=2,B=65536>>v,S=(1<<v)-1,E=B+(1024>>v)+32,k=65536>>b,I=(1<<b-v)-1,T=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},x=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},U=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?w(n):new Uint16Array(n),s=24,o=T(i,s/2,r[4]/2),a=2===r[5]?T(i,(s+r[4])/2):x(r,Math.ceil((s+r[4])/4));return new F(r[0],r[1],r[2],r[3],o,a)},F=function(){function e(e,t,n,r,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>v])<<C)+(e&S),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>v)])<<C)+(e&S),this.data[t];if(e<this.highStart)return t=E-k+(e>>b),t=this.index[t],t+=e>>v&I,t=((t=this.index[t])<<C)+(e&S),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="undefined"===typeof Uint8Array?[]:new Uint8Array(256),R=0;R<Q.length;R++)_[Q.charCodeAt(R)]=R;var P=50,N=1,O=2,L=3,D=4,H=5,M=7,j=8,K=9,V=10,q=11,G=12,$=13,W=14,z=15,J=16,Y=17,X=18,Z=19,ee=20,te=21,ne=22,re=23,ie=24,se=25,oe=26,ae=27,Ae=28,ce=29,le=30,ue=31,de=32,he=33,pe=34,fe=35,ge=36,me=37,we=38,ye=39,ve=40,be=41,Ce=42,Be=43,Se=[9001,65288],Ee="!",ke="\xd7",Ie="\xf7",Te=U("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),xe=[le,ge],Ue=[N,O,L,H],Fe=[V,j],Qe=[ae,oe],_e=Ue.concat(Fe),Re=[we,ye,ve,pe,fe],Pe=[z,$],Ne=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,s){var o=Te.get(e);if(o>P?(i.push(!0),o-=P):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(s),n.push(J);if(o===D||o===q){if(0===s)return r.push(s),n.push(le);var a=n[s-1];return-1===_e.indexOf(a)?(r.push(r[s-1]),n.push(a)):(r.push(s),n.push(le))}return r.push(s),o===ue?n.push("strict"===t?te:me):o===Ce||o===ce?n.push(le):o===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(le):void n.push(o)})),[r,n,i]},Oe=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var s=n;s<=r.length;){if((A=r[++s])===t)return!0;if(A!==V)break}if(i===V)for(s=n;s>0;){var o=r[--s];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var a=n;a<=r.length;){var A;if((A=r[++a])===t)return!0;if(A!==V)break}if(o!==V)break}return!1},Le=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==V)return r;n--}return 0},De=function(e,t,n,r,i){if(0===n[r])return ke;var s=r-1;if(Array.isArray(i)&&!0===i[s])return ke;var o=s-1,a=s+1,A=t[s],c=o>=0?t[o]:0,l=t[a];if(A===O&&l===L)return ke;if(-1!==Ue.indexOf(A))return Ee;if(-1!==Ue.indexOf(l))return ke;if(-1!==Fe.indexOf(l))return ke;if(Le(s,t)===j)return Ie;if(Te.get(e[s])===q)return ke;if((A===de||A===he)&&Te.get(e[a])===q)return ke;if(A===M||l===M)return ke;if(A===K)return ke;if(-1===[V,$,z].indexOf(A)&&l===K)return ke;if(-1!==[Y,X,Z,ie,Ae].indexOf(l))return ke;if(Le(s,t)===ne)return ke;if(Oe(re,ne,s,t))return ke;if(Oe([Y,X],te,s,t))return ke;if(Oe(G,G,s,t))return ke;if(A===V)return Ie;if(A===re||l===re)return ke;if(l===J||A===J)return Ie;if(-1!==[$,z,te].indexOf(l)||A===W)return ke;if(c===ge&&-1!==Pe.indexOf(A))return ke;if(A===Ae&&l===ge)return ke;if(l===ee)return ke;if(-1!==xe.indexOf(l)&&A===se||-1!==xe.indexOf(A)&&l===se)return ke;if(A===ae&&-1!==[me,de,he].indexOf(l)||-1!==[me,de,he].indexOf(A)&&l===oe)return ke;if(-1!==xe.indexOf(A)&&-1!==Qe.indexOf(l)||-1!==Qe.indexOf(A)&&-1!==xe.indexOf(l))return ke;if(-1!==[ae,oe].indexOf(A)&&(l===se||-1!==[ne,z].indexOf(l)&&t[a+1]===se)||-1!==[ne,z].indexOf(A)&&l===se||A===se&&-1!==[se,Ae,ie].indexOf(l))return ke;if(-1!==[se,Ae,ie,Y,X].indexOf(l))for(var u=s;u>=0;){if((d=t[u])===se)return ke;if(-1===[Ae,ie].indexOf(d))break;u--}if(-1!==[ae,oe].indexOf(l))for(u=-1!==[Y,X].indexOf(A)?o:s;u>=0;){var d;if((d=t[u])===se)return ke;if(-1===[Ae,ie].indexOf(d))break;u--}if(we===A&&-1!==[we,ye,pe,fe].indexOf(l)||-1!==[ye,pe].indexOf(A)&&-1!==[ye,ve].indexOf(l)||-1!==[ve,fe].indexOf(A)&&l===ve)return ke;if(-1!==Re.indexOf(A)&&-1!==[ee,oe].indexOf(l)||-1!==Re.indexOf(l)&&A===ae)return ke;if(-1!==xe.indexOf(A)&&-1!==xe.indexOf(l))return ke;if(A===ie&&-1!==xe.indexOf(l))return ke;if(-1!==xe.concat(se).indexOf(A)&&l===ne&&-1===Se.indexOf(e[a])||-1!==xe.concat(se).indexOf(l)&&A===X)return ke;if(A===be&&l===be){for(var h=n[s],p=1;h>0&&t[--h]===be;)p++;if(p%2!==0)return ke}return A===de&&l===he?ke:Ie},He=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Ne(e,t.lineBreak),r=n[0],i=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[se,le,Ce].indexOf(e)?me:e})));var o="keep-all"===t.wordBreak?s.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,o]},Me=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ee,this.start=n,this.end=r}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=c(e),r=He(n,t),i=r[0],s=r[1],o=r[2],a=n.length,A=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var e=ke;l<a&&(e=De(n,s,i,++l,o))===ke;);if(e!==ke||l===a){var t=new Me(n,e,A,l);return A=l,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ve=2,qe=4,Ge=8,$e=10,We=47,ze=92,Je=9,Ye=32,Xe=34,Ze=61,et=35,tt=36,nt=37,rt=39,it=40,st=41,ot=95,at=45,At=33,ct=60,lt=62,ut=64,dt=91,ht=93,pt=61,ft=123,gt=63,mt=125,wt=124,yt=126,vt=128,bt=65533,Ct=42,Bt=43,St=44,Et=58,kt=59,It=46,Tt=0,xt=8,Ut=11,Ft=14,Qt=31,_t=127,Rt=-1,Pt=48,Nt=97,Ot=101,Lt=102,Dt=117,Ht=122,Mt=65,jt=69,Kt=70,Vt=85,qt=90,Gt=function(e){return e>=Pt&&e<=57},$t=function(e){return e>=55296&&e<=57343},Wt=function(e){return Gt(e)||e>=Mt&&e<=Kt||e>=Nt&&e<=Lt},zt=function(e){return e>=Nt&&e<=Ht},Jt=function(e){return e>=Mt&&e<=qt},Yt=function(e){return zt(e)||Jt(e)},Xt=function(e){return e>=vt},Zt=function(e){return e===$e||e===Je||e===Ye},en=function(e){return Yt(e)||Xt(e)||e===ot},tn=function(e){return en(e)||Gt(e)||e===at},nn=function(e){return e>=Tt&&e<=xt||e===Ut||e>=Ft&&e<=Qt||e===_t},rn=function(e,t){return e===ze&&t!==$e},sn=function(e,t,n){return e===at?en(t)||rn(t,n):!!en(e)||!(e!==ze||!rn(e,t))},on=function(e,t,n){return e===Bt||e===at?!!Gt(t)||t===It&&Gt(n):Gt(e===It?t:e)},an=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==at||(e[t]===at&&(n=-1),t++);for(var r=[];Gt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(l.apply(void 0,r),10):0;e[t]===It&&t++;for(var s=[];Gt(e[t]);)s.push(e[t++]);var o=s.length,a=o?parseInt(l.apply(void 0,s),10):0;e[t]!==jt&&e[t]!==Ot||t++;var A=1;e[t]!==Bt&&e[t]!==at||(e[t]===at&&(A=-1),t++);for(var c=[];Gt(e[t]);)c.push(e[t++]);var u=c.length?parseInt(l.apply(void 0,c),10):0;return n*(i+a*Math.pow(10,-o))*Math.pow(10,A*u)},An={type:2},cn={type:3},ln={type:4},un={type:13},dn={type:8},hn={type:21},pn={type:9},fn={type:10},gn={type:11},mn={type:12},wn={type:14},yn={type:23},vn={type:1},bn={type:25},Cn={type:24},Bn={type:26},Sn={type:27},En={type:28},kn={type:29},In={type:31},Tn={type:32},xn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Tn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xe:return this.consumeStringToken(Xe);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=sn(t,n,r)?Ve:Ke;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case it:return An;case st:return cn;case Ct:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),wn;break;case Bt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case St:return ln;case at:var s=e,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(on(s,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(s,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===at&&a===lt)return this.consumeCodePoint(),this.consumeCodePoint(),Cn;break;case It:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case We:if(this.peekCodePoint(0)===Ct)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===Ct&&(A=this.consumeCodePoint())===We)return this.consumeToken();if(A===Rt)return this.consumeToken()}break;case Et:return Bn;case kt:return Sn;case ct:if(this.peekCodePoint(0)===At&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(sn(c,u,d))return{type:7,value:this.consumeName()};break;case dt:return En;case ze:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return kn;case pt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),dn;break;case ft:return gn;case mt:return mn;case Dt:case Vt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==Bt||!Wt(p)&&p!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===wt)return this.consumeCodePoint(),hn;break;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;break;case Rt:return Tn}return Zt(e)?(this.consumeWhiteSpace(),In):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Wt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(l.apply(void 0,e.map((function(e){return e===gt?Pt:e}))),16),end:parseInt(l.apply(void 0,e.map((function(e){return e===gt?Kt:e}))),16)};var r=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&Wt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Wt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(l.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Xe){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rt||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Rt||r===st)return{type:22,value:l.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Rt||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Xe||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===ze){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===Rt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=l.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Rt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===$e)return this._value.splice(0,n),vn;if(r===ze){var i=this._value[n+1];i!==Rt&&void 0!==i&&(i===$e?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=qe,n=this.peekCodePoint(0);for(n!==Bt&&n!==at||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===It&&Gt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===jt||n===Ot)&&((r===Bt||r===at)&&Gt(i)||Gt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[an(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);return sn(r,i,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Wt(e)){for(var t=l(e);Wt(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||$t(n)||n>1114111?bt:n}return e===Rt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=l(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),Un=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new xn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Dn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Tn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Fn=function(e){return 15===e.type},Qn=function(e){return 17===e.type},_n=function(e){return 20===e.type},Rn=function(e){return 0===e.type},Pn=function(e,t){return _n(e)&&e.value===t},Nn=function(e){return 31!==e.type},On=function(e){return 31!==e.type&&4!==e.type},Ln=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Dn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Hn=function(e){return 17===e.type||15===e.type},Mn=function(e){return 16===e.type||Hn(e)},jn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:qe},Vn={type:16,number:50,flags:qe},qn={type:16,number:100,flags:qe},Gn=function(e,t,n){var r=e[0],i=e[1];return[$n(r,t),$n("undefined"!==typeof i?i:r,n)]},$n=function(e,t){if(16===e.type)return e.number/100*t;if(Fn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Wn="deg",zn="grad",Jn="rad",Yn="turn",Xn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Wn:return Math.PI*t.number/180;case zn:return Math.PI/200*t.number;case Jn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===Wn||e.unit===zn||e.unit===Jn||e.unit===Yn)},er=function(e){switch(e.filter(_n).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,qn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qn,qn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qn,Kn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=lr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return sr(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);var o=t.value.substring(3,4);return sr(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),sr(parseInt(r,16),parseInt(i,16),parseInt(s,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8),sr(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}if(20===t.type){var a=dr[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},sr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ar=function(e,t){var n=t.filter(On);if(3===n.length){var r=n.map(or),i=r[0],s=r[1],o=r[2];return sr(i,s,o,1)}if(4===n.length){var a=n.map(or),A=(i=a[0],s=a[1],o=a[2],a[3]);return sr(i,s,o,A)}return 0};function Ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(On),r=n[0],i=n[1],s=n[2],o=n[3],a=(17===r.type?tr(r.number):Xn.parse(e,r))/(2*Math.PI),A=Mn(i)?i.number/100:0,c=Mn(s)?s.number/100:0,l="undefined"!==typeof o&&Mn(o)?$n(o,1):1;if(0===A)return sr(255*c,255*c,255*c,1);var u=c<=.5?c*(A+1):c+A-c*A,d=2*c-u,h=Ar(d,u,a+1/3),p=Ar(d,u,a),f=Ar(d,u,a-1/3);return sr(255*h,255*p,255*f,l)},lr={hsl:cr,hsla:cr,rgb:ar,rgba:ar},ur=function(e,t){return nr.parse(e,Un.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(_n(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Mn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=qn);for(var i=[],s=0,o=0;o<e.length;o++){var a=e[o].stop;if(null!==a){var A=$n(a,t);A>s?i.push(A):i.push(s),s=A}else i.push(null)}var c=null;for(o=0;o<i.length;o++){var l=i[o];if(null===l)null===c&&(c=o);else if(null!==c){for(var u=o-c,d=(l-i[c-1])/(u+1),h=1;h<=u;h++)i[c+h-1]=d*h;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,i=n/2,s=$n(e[0],t)-r,o=i-$n(e[1],n);return(Math.atan2(o,s)+2*Math.PI)%(2*Math.PI)},wr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,o=n/2,a=i/2,A=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[i,s-c,s+c,o-A,o+A]},yr=function(e,t){return Math.sqrt(e*e+t*t)},vr=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var s=t[0],o=t[1],a=yr(n-s,r-o);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,i){var s=0,o=0;switch(e.size){case 0:0===e.shape?s=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)s=o=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),A=vr(r,i,t,n,!0),c=A[0],l=A[1];o=a*(s=yr(c-t,(l-n)/a))}break;case 1:0===e.shape?s=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)s=o=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=vr(r,i,t,n,!1);c=u[0],l=u[1],o=a*(s=yr(c-t,(l-n)/a))}}return Array.isArray(e.size)&&(s=$n(e.size[0],r),o=2===e.size.length?$n(e.size[1],i):s),[s,o]},Cr=function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,i){if(0===i){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=er(t));if(Zn(s))return void(n=(Xn.parse(e,s)+tr(270))%tr(360))}var o=fr(e,t);r.push(o)})),{angle:n,stops:r,type:1}},Br="closest-side",Sr="farthest-side",Er="closest-corner",kr="farthest-corner",Ir="circle",Tr="ellipse",xr="cover",Ur="contain",Fr=function(e,t){var n=0,r=3,i=[],s=[];return Ln(t).forEach((function(t,o){var a=!0;if(0===o?a=t.reduce((function(e,t){if(_n(t))switch(t.value){case"center":return s.push(Vn),!1;case"top":case"left":return s.push(Kn),!1;case"right":case"bottom":return s.push(qn),!1}else if(Mn(t)||Hn(t))return s.push(t),!1;return e}),a):1===o&&(a=t.reduce((function(e,t){if(_n(t))switch(t.value){case Ir:return n=0,!1;case Tr:return n=1,!1;case Ur:case Br:return r=0,!1;case Sr:return r=1,!1;case Er:return r=2,!1;case xr:case kr:return r=3,!1}else if(Hn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)),a){var A=fr(e,t);i.push(A)}})),{size:r,shape:n,stops:i,position:s,type:2}},Qr=function(e){return 1===e.type},_r=function(e){return 2===e.type},Rr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Or[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Pr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Or[e.name])}var Nr,Or={"linear-gradient":function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,i){if(0===i){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=er(t));if(Zn(s))return void(n=Xn.parse(e,s))}var o=fr(e,t);r.push(o)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Cr,"-ms-linear-gradient":Cr,"-o-linear-gradient":Cr,"-webkit-linear-gradient":Cr,"radial-gradient":function(e,t){var n=0,r=3,i=[],s=[];return Ln(t).forEach((function(t,o){var a=!0;if(0===o){var A=!1;a=t.reduce((function(e,t){if(A)if(_n(t))switch(t.value){case"center":return s.push(Vn),e;case"top":case"left":return s.push(Kn),e;case"right":case"bottom":return s.push(qn),e}else(Mn(t)||Hn(t))&&s.push(t);else if(_n(t))switch(t.value){case Ir:return n=0,!1;case Tr:return n=1,!1;case"at":return A=!0,!1;case Br:return r=0,!1;case xr:case Sr:return r=1,!1;case Ur:case Er:return r=2,!1;case kr:return r=3,!1}else if(Hn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)}if(a){var c=fr(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:s,type:2}},"-moz-radial-gradient":Fr,"-ms-radial-gradient":Fr,"-o-radial-gradient":Fr,"-webkit-radial-gradient":Fr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,s=0,o=3,a=[];return Ln(t).forEach((function(t,n){var s=t[0];if(0===n){if(_n(s)&&"linear"===s.value)return void(i=1);if(_n(s)&&"radial"===s.value)return void(i=2)}if(18===s.type)if("from"===s.name){var o=nr.parse(e,s.values[0]);r.push({stop:Kn,color:o})}else if("to"===s.name)o=nr.parse(e,s.values[0]),r.push({stop:qn,color:o});else if("color-stop"===s.name){var a=s.values.filter(On);if(2===a.length){o=nr.parse(e,a[1]);var A=a[0];Qn(A)&&r.push({stop:{type:16,number:100*A.number,flags:A.flags},color:o})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}}},Lr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return On(e)&&Pr(e)})).map((function(t){return Rr.parse(e,t)}))}},Dr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(_n(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Hr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Mn)})).map(jn)}},Mr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(_n).map((function(e){return e.value})).join(" ")})).map(jr)}},jr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Nr||(Nr={}));var Kr,Vr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(qr)}))}},qr=function(e){return _n(e)||Mn(e)},Gr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},$r=Gr("top"),Wr=Gr("right"),zr=Gr("bottom"),Jr=Gr("left"),Yr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return jn(t.filter(Mn))}}},Xr=Yr("top-left"),Zr=Yr("top-right"),ei=Yr("bottom-right"),ti=Yr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),si=ni("bottom"),oi=ni("left"),ai=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}}},Ai=ai("top"),ci=ai("right"),li=ai("bottom"),ui=ai("left"),di={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},pi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).reduce((function(e,t){return e|fi(t.value)}),0)}},fi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kr||(Kr={}));var wi,yi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kr.STRICT:Kr.NORMAL}},vi={name:"line-height",initialValue:"normal",prefix:!1,type:4},bi=function(e,t){return _n(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Mn(e)?$n(e,t):t},Ci={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Rr.parse(e,t)}},Bi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Si={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ei=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},ki=Ei("top"),Ii=Ei("right"),Ti=Ei("bottom"),xi=Ei("left"),Ui={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Fi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Qi=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_i=Qi("top"),Ri=Qi("right"),Pi=Qi("bottom"),Ni=Qi("left"),Oi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Li={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Di={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Pn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:dr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,i=0;i<t.length;i++){var s=t[i];Hn(s)?(0===r?n.offsetX=s:1===r?n.offsetY=s:n.blur=s,r++):n.color=nr.parse(e,s)}return n}))}},Hi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Mi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=ji[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ji={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],16===t.length?[n,r,i,s,o,a]:null}},Ki={type:16,number:50,flags:qe},Vi=[Ki,Ki],qi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Mn);return 2!==n.length?Vi:[n[0],n[1]]}},Gi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(wi||(wi={}));for(var $i={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wi.BREAK_ALL;case"keep-all":return wi.KEEP_ALL;default:return wi.NORMAL}}},Wi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Qn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Ji={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Qn(t)?t.number:1}},Yi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Zi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ts={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Qn(t)?t.number:_n(t)&&"bold"===t.value?700:400}},ns={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(_n).map((function(e){return e.value}))}},rs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},is=function(e,t){return 0!==(e&t)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},os={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Nn),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(20===o.type){var A=a&&Qn(a)?a.number:1;r.push({counter:o.value,increment:A})}}return r}},as={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Nn),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(_n(s)&&"none"!==s.value){var a=o&&Qn(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},As={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(t){return zi.parse(e,t)}))}},cs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Rn);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},ls=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},us={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Pn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,i=0;i<t.length;i++){var s=t[i];Pn(s,"inset")?n.inset=!0:Hn(s)?(0===r?n.offsetX=s:1===r?n.offsetY=s:2===r?n.blur=s:n.spread=s,r++):n.color=nr.parse(e,s)}return n}))}},ds={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(_n).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},hs={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ps={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}},fs=function(){function e(e,t){var n,r;this.animationDuration=ws(e,As,t.animationDuration),this.backgroundClip=ws(e,hr,t.backgroundClip),this.backgroundColor=ws(e,pr,t.backgroundColor),this.backgroundImage=ws(e,Lr,t.backgroundImage),this.backgroundOrigin=ws(e,Dr,t.backgroundOrigin),this.backgroundPosition=ws(e,Hr,t.backgroundPosition),this.backgroundRepeat=ws(e,Mr,t.backgroundRepeat),this.backgroundSize=ws(e,Vr,t.backgroundSize),this.borderTopColor=ws(e,$r,t.borderTopColor),this.borderRightColor=ws(e,Wr,t.borderRightColor),this.borderBottomColor=ws(e,zr,t.borderBottomColor),this.borderLeftColor=ws(e,Jr,t.borderLeftColor),this.borderTopLeftRadius=ws(e,Xr,t.borderTopLeftRadius),this.borderTopRightRadius=ws(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=ws(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=ws(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=ws(e,ri,t.borderTopStyle),this.borderRightStyle=ws(e,ii,t.borderRightStyle),this.borderBottomStyle=ws(e,si,t.borderBottomStyle),this.borderLeftStyle=ws(e,oi,t.borderLeftStyle),this.borderTopWidth=ws(e,Ai,t.borderTopWidth),this.borderRightWidth=ws(e,ci,t.borderRightWidth),this.borderBottomWidth=ws(e,li,t.borderBottomWidth),this.borderLeftWidth=ws(e,ui,t.borderLeftWidth),this.boxShadow=ws(e,us,t.boxShadow),this.color=ws(e,di,t.color),this.direction=ws(e,hi,t.direction),this.display=ws(e,pi,t.display),this.float=ws(e,gi,t.cssFloat),this.fontFamily=ws(e,Zi,t.fontFamily),this.fontSize=ws(e,es,t.fontSize),this.fontStyle=ws(e,rs,t.fontStyle),this.fontVariant=ws(e,ns,t.fontVariant),this.fontWeight=ws(e,ts,t.fontWeight),this.letterSpacing=ws(e,mi,t.letterSpacing),this.lineBreak=ws(e,yi,t.lineBreak),this.lineHeight=ws(e,vi,t.lineHeight),this.listStyleImage=ws(e,Ci,t.listStyleImage),this.listStylePosition=ws(e,Bi,t.listStylePosition),this.listStyleType=ws(e,Si,t.listStyleType),this.marginTop=ws(e,ki,t.marginTop),this.marginRight=ws(e,Ii,t.marginRight),this.marginBottom=ws(e,Ti,t.marginBottom),this.marginLeft=ws(e,xi,t.marginLeft),this.opacity=ws(e,Ji,t.opacity);var i=ws(e,Ui,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ws(e,Fi,t.overflowWrap),this.paddingTop=ws(e,_i,t.paddingTop),this.paddingRight=ws(e,Ri,t.paddingRight),this.paddingBottom=ws(e,Pi,t.paddingBottom),this.paddingLeft=ws(e,Ni,t.paddingLeft),this.paintOrder=ws(e,ds,t.paintOrder),this.position=ws(e,Li,t.position),this.textAlign=ws(e,Oi,t.textAlign),this.textDecorationColor=ws(e,Yi,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=ws(e,Xi,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=ws(e,Di,t.textShadow),this.textTransform=ws(e,Hi,t.textTransform),this.transform=ws(e,Mi,t.transform),this.transformOrigin=ws(e,qi,t.transformOrigin),this.visibility=ws(e,Gi,t.visibility),this.webkitTextStrokeColor=ws(e,hs,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ws(e,ps,t.webkitTextStrokeWidth),this.wordBreak=ws(e,$i,t.wordBreak),this.zIndex=ws(e,Wi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return is(this.display,4)||is(this.display,33554432)||is(this.display,268435456)||is(this.display,536870912)||is(this.display,67108864)||is(this.display,134217728)},e}(),gs=function(){function e(e,t){this.content=ws(e,ss,t.content),this.quotes=ws(e,cs,t.quotes)}return e}(),ms=function(){function e(e,t){this.counterIncrement=ws(e,os,t.counterIncrement),this.counterReset=ws(e,as,t.counterReset)}return e}(),ws=function(e,t,n){var r=new xn,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var s=new Un(r.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,_n(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Xn.parse(e,s.parseComponentValue());case"color":return nr.parse(e,s.parseComponentValue());case"image":return Rr.parse(e,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Hn(a)?a:Kn;case"length-percentage":var A=s.parseComponentValue();return Mn(A)?A:Kn;case"time":return zi.parse(e,s.parseComponentValue())}}},ys="data-html2canvas-debug",vs=function(e){switch(e.getAttribute(ys)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bs=function(e,t){var n=vs(e);return 1===n||t===n},Cs=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bs(t,3),this.styles=new fs(e,window.getComputedStyle(t,null)),la(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),bs(t,4)&&(this.flags|=16)}return e}(),Bs="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ss="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Es="undefined"===typeof Uint8Array?[]:new Uint8Array(256),ks=0;ks<Ss.length;ks++)Es[Ss.charCodeAt(ks)]=ks;for(var Is=function(e){var t,n,r,i,s,o=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=Es[e.charCodeAt(t)],r=Es[e.charCodeAt(t+1)],i=Es[e.charCodeAt(t+2)],s=Es[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&s;return c},Ts=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},xs=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Us=5,Fs=11,Qs=2,_s=65536>>Us,Rs=(1<<Us)-1,Ps=_s+(1024>>Us)+32,Ns=65536>>Fs,Os=(1<<Fs-Us)-1,Ls=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ds=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Hs=function(e,t){var n=Is(e),r=Array.isArray(n)?xs(n):new Uint32Array(n),i=Array.isArray(n)?Ts(n):new Uint16Array(n),s=24,o=Ls(i,s/2,r[4]/2),a=2===r[5]?Ls(i,(s+r[4])/2):Ds(r,Math.ceil((s+r[4])/4));return new Ms(r[0],r[1],r[2],r[3],o,a)},Ms=function(){function e(e,t,n,r,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Us])<<Qs)+(e&Rs),this.data[t];if(e<=65535)return t=((t=this.index[_s+(e-55296>>Us)])<<Qs)+(e&Rs),this.data[t];if(e<this.highStart)return t=Ps-Ns+(e>>Fs),t=this.index[t],t+=e>>Us&Os,t=((t=this.index[t])<<Qs)+(e&Rs),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Vs=0;Vs<js.length;Vs++)Ks[js.charCodeAt(Vs)]=Vs;var qs,Gs=1,$s=2,Ws=3,zs=4,Js=5,Ys=7,Xs=8,Zs=9,eo=10,to=11,no=12,ro=13,io=14,so=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t},ao=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},Ao=Hs(Bs),co="\xd7",lo="\xf7",uo=function(e){return Ao.get(e)},ho=function(e,t,n){var r=n-2,i=t[r],s=t[n-1],o=t[n];if(s===$s&&o===Ws)return co;if(s===$s||s===Ws||s===zs)return lo;if(o===$s||o===Ws||o===zs)return lo;if(s===Xs&&-1!==[Xs,Zs,to,no].indexOf(o))return co;if((s===to||s===Zs)&&(o===Zs||o===eo))return co;if((s===no||s===eo)&&o===eo)return co;if(o===ro||o===Js)return co;if(o===Ys)return co;if(s===Gs)return co;if(s===ro&&o===io){for(;i===Js;)i=t[--r];if(i===io)return co}if(s===so&&o===so){for(var a=0;i===so;)a++,i=t[--r];if(a%2===0)return co}return lo},po=function(e){var t=oo(e),n=t.length,r=0,i=0,s=t.map(uo);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=co;r<n&&(e=ho(t,s,++r))===co;);if(e!==co||r===n){var o=ao.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},fo=function(e){for(var t,n=po(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},go=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(e.body.removeChild(r),s===t)return!0}}return!1},mo=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map((function(e){return l(e)})),s=0,o={},a=i.every((function(e,t){n.setStart(r,s),n.setEnd(r,s+e.length);var i=n.getBoundingClientRect();s+=e.length;var a=i.x>o.x||i.y>o.y;return o=i,0===t||a}));return e.body.removeChild(t),a},wo=function(){return"undefined"!==typeof(new Image).crossOrigin},yo=function(){return"string"===typeof(new XMLHttpRequest).responseType},vo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Ot){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Co=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=t.toDataURL();i.src=s;var o=Bo(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),So(o).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+s+")",o.style.height=n+"px",bo(i)?So(Bo(n,n,0,0,o)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),bo(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Bo=function(e,t,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},So=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Eo={get SUPPORT_RANGE_BOUNDS(){var e=go(document);return Object.defineProperty(Eo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Eo.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(Eo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=vo(document);return Object.defineProperty(Eo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?Co(document):Promise.resolve(!1);return Object.defineProperty(Eo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=wo();return Object.defineProperty(Eo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=yo();return Object.defineProperty(Eo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Eo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Eo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ko=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Io=function(e,t,n,r){var i=Qo(t,n),s=[],a=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Eo.SUPPORT_RANGE_BOUNDS){var i=xo(r,a,t.length).getClientRects();if(i.length>1){var A=Uo(t),c=0;A.forEach((function(t){s.push(new ko(t,o.fromDOMRectList(e,xo(r,c+a,t.length).getClientRects()))),c+=t.length}))}else s.push(new ko(t,o.fromDOMRectList(e,i)))}else{var l=r.splitText(t.length);s.push(new ko(t,To(e,r))),r=l}else Eo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length})),s},To=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var s=a(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return o.EMPTY},xo=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Uo=function(e){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return fo(e)},Fo=function(e,t){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Ro(e,t)},Qo=function(e,t){return 0!==t.letterSpacing?Uo(e):Fo(e,t)},_o=[32,160,4961,65792,65793,4153,4241],Ro=function(e,t){for(var n,r=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],s=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach((function(e){-1===_o.indexOf(e)?r+=l(e):(r.length&&i.push(r),i.push(l(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)s();return i},Po=function(){function e(e,t,n){this.text=No(t.data,n.textTransform),this.textBounds=Io(e,this.text,n,t)}return e}(),No=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Oo,Lo);case 2:return e.toUpperCase();default:return e}},Oo=/(^|\s|:|-|\(|\))([a-z])/g,Lo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Do=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(Cs),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(Cs),Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,s=a(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(Cs),jo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Cs),Ko=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(Cs),Vo=[{type:15,flags:0,unit:"px",number:3}],qo=[{type:16,flags:0,number:50}],Go=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},$o=function(e){var t=e.type===Jo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wo="checkbox",zo="radio",Jo="password",Yo=707406591,Xo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=$o(n),r.type!==Wo&&r.type!==zo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Go(r.bounds)),r.type){case Wo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Vo;break;case zo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=qo}return r}return t(n,e),n}(Cs),Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(Cs),ea=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Cs),ta=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=sa(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,s=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(i)?rr(s)?r.styles.backgroundColor:s:i}}catch(Ot){}return r}return t(n,e),n}(Cs),na=["OL","UL","MENU"],ra=function(e,t,n,r){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,Aa(i)&&i.data.trim().length>0)n.textNodes.push(new Po(e,i,n.styles));else if(ca(i))if(ka(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return ra(e,t,n,r)}));else{var o=ia(e,i);o.styles.isVisible()&&(oa(i,o,r)?o.flags|=4:aa(o.styles)&&(o.flags|=2),-1!==na.indexOf(i.tagName)&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?ra(e,i.shadowRoot,o,r):Sa(i)||ga(i)||Ea(i)||ra(e,i,o,r))}},ia=function(e,t){return va(t)?new Do(e,t):wa(t)?new Ho(e,t):ga(t)?new Mo(e,t):da(t)?new jo(e,t):ha(t)?new Ko(e,t):pa(t)?new Xo(e,t):Ea(t)?new Zo(e,t):Sa(t)?new ea(e,t):ba(t)?new ta(e,t):new Cs(e,t)},sa=function(e,t){var n=ia(e,t);return n.flags|=4,ra(e,t,n,n),n},oa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ma(e)&&n.styles.isTransparent()},aa=function(e){return e.isPositioned()||e.isFloating()},Aa=function(e){return e.nodeType===Node.TEXT_NODE},ca=function(e){return e.nodeType===Node.ELEMENT_NODE},la=function(e){return ca(e)&&"undefined"!==typeof e.style&&!ua(e)},ua=function(e){return"object"===typeof e.className},da=function(e){return"LI"===e.tagName},ha=function(e){return"OL"===e.tagName},pa=function(e){return"INPUT"===e.tagName},fa=function(e){return"HTML"===e.tagName},ga=function(e){return"svg"===e.tagName},ma=function(e){return"BODY"===e.tagName},wa=function(e){return"CANVAS"===e.tagName},ya=function(e){return"VIDEO"===e.tagName},va=function(e){return"IMG"===e.tagName},ba=function(e){return"IFRAME"===e.tagName},Ca=function(e){return"STYLE"===e.tagName},Ba=function(e){return"SCRIPT"===e.tagName},Sa=function(e){return"TEXTAREA"===e.tagName},Ea=function(e){return"SELECT"===e.tagName},ka=function(e){return"SLOT"===e.tagName},Ia=function(e){return e.tagName.indexOf("-")>0},Ta=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var s=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),s},e}(),xa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ua={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Fa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Qa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},_a=function(e,t,n,r,i,s){return e<t||e>n?Ga(e,i,s.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+s},Ra=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Pa=function(e,t,n,r,i){var s=n-t+1;return(e<0?"-":"")+(Ra(Math.abs(e),s,r,(function(e){return l(Math.floor(e%s)+t)}))+i)},Na=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Ra(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Oa=1,La=2,Da=4,Ha=8,Ma=function(e,t,n,r,i,s){if(e<-9999||e>9999)return Ga(e,4,i.length>0);var o=Math.abs(e),a=i;if(0===o)return t[0]+a;for(var A=0;o>0&&A<=4;A++){var c=o%10;0===c&&is(s,Oa)&&""!==a?a=t[c]+a:c>1||1===c&&0===A||1===c&&1===A&&is(s,La)||1===c&&1===A&&is(s,Da)&&e>100||1===c&&A>1&&is(s,Ha)?a=t[c]+(A>0?n[A-1]:"")+a:1===c&&A>0&&(a=n[A-1]+a),o=Math.floor(o/10)}return(e<0?r:"")+a},ja="\u5341\u767e\u5343\u842c",Ka="\u62fe\u4f70\u4edf\u842c",Va="\u30de\u30a4\u30ca\u30b9",qa="\ub9c8\uc774\ub108\uc2a4",Ga=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",s=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var a=Pa(e,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return Na(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return _a(e,1,3999,xa,3,r).toLowerCase();case 7:return _a(e,1,3999,xa,3,r);case 8:return Pa(e,945,969,!1,r);case 9:return Pa(e,97,122,!1,r);case 10:return Pa(e,65,90,!1,r);case 11:return Pa(e,1632,1641,!0,r);case 12:case 49:return _a(e,1,9999,Ua,3,r);case 35:return _a(e,1,9999,Ua,3,r).toLowerCase();case 13:return Pa(e,2534,2543,!0,r);case 14:case 30:return Pa(e,6112,6121,!0,r);case 15:return Na(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Na(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",ja,"\u8ca0",i,La|Da|Ha);case 47:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ka,"\u8ca0",i,Oa|La|Da|Ha);case 42:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",ja,"\u8d1f",i,La|Da|Ha);case 41:return Ma(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ka,"\u8d1f",i,Oa|La|Da|Ha);case 26:return Ma(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Va,i,0);case 25:return Ma(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Va,i,Oa|La|Da);case 31:return Ma(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",qa,s,Oa|La|Da);case 33:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",qa,s,0);case 32:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",qa,s,Oa|La|Da);case 18:return Pa(e,2406,2415,!0,r);case 20:return _a(e,1,19999,Qa,3,r);case 21:return Pa(e,2790,2799,!0,r);case 22:return Pa(e,2662,2671,!0,r);case 22:return _a(e,1,10999,Fa,3,r);case 23:return Na(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Na(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Pa(e,3302,3311,!0,r);case 28:return Na(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Na(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Pa(e,3792,3801,!0,r);case 37:return Pa(e,6160,6169,!0,r);case 38:return Pa(e,4160,4169,!0,r);case 39:return Pa(e,2918,2927,!0,r);case 40:return Pa(e,1776,1785,!0,r);case 43:return Pa(e,3046,3055,!0,r);case 44:return Pa(e,3174,3183,!0,r);case 45:return Pa(e,3664,3673,!0,r);case 46:return Pa(e,3872,3881,!0,r);default:return Pa(e,48,57,!0,r)}},$a="data-html2canvas-ignore",Wa=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ta,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=Ja(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=s.contentWindow,c=A.document,l=Za(s).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(iA),A&&(A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xa(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return s}))]:[2,s]}}))}))}));return c.open(),c.write(nA(document.doctype)+"<html></html>"),rA(this.referenceElement.ownerDocument,o,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},e.prototype.createElementClone=function(e){if(bs(e,2),wa(e))return this.createCanvasClone(e);if(ya(e))return this.createVideoClone(e);if(Ca(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return va(t)&&(va(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ia(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tA(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Ot){if(this.context.logger.error("Unable to access cssRules property",Ot),"SecurityError"!==Ot.name)throw Ot}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ot){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch(Ot){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ot){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ca(t)&&(Ba(t)||t.hasAttribute($a)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ca(t)&&Ca(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ca(i)&&ka(i)&&"function"===typeof i.assignedNodes){var s=i.assignedNodes();s.length&&s.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(Aa(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ca(e)&&(la(e)||ua(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&la(r)&&(this.clonedReferenceElement=r),ma(r)&&lA(r);var a=this.counters.parse(new ms(this.context,i)),A=this.resolvePseudoContent(e,r,s,qs.BEFORE);Ia(e)&&(t=!0),ya(e)||this.cloneChildNodes(e,r,t),A&&r.insertBefore(A,r.firstChild);var c=this.resolvePseudoContent(e,r,o,qs.AFTER);return c&&r.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||ua(e))&&!ba(e)||t)&&tA(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Sa(e)||Ea(e))&&(Sa(r)||Ea(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var s=n.content,o=t.ownerDocument;if(o&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new ms(this.context,n));var a=new gs(this.context,n),A=o.createElement("html2canvaspseudoelement");tA(n,A),a.content.forEach((function(t){if(0===t.type)A.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",A.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(_n);r.length&&A.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(On),c=s[0],l=s[1];if(c&&_n(c)){var u=i.counters.getCounterValue(c.value),d=l&&_n(l)?Si.parse(i.context,l.value):3;A.appendChild(o.createTextNode(Ga(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(On),p=(c=h[0],h[1]);if(l=h[2],c&&_n(c)){var f=i.counters.getCounterValues(c.value),g=l&&_n(l)?Si.parse(i.context,l.value):3,m=p&&0===p.type?p.value:"",w=f.map((function(e){return Ga(e,g,!1)})).join(m);A.appendChild(o.createTextNode(w))}}}else if(20===t.type)switch(t.value){case"open-quote":A.appendChild(o.createTextNode(ls(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode(ls(a.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(t.value))}})),A.className=aA+" "+AA;var c=r===qs.BEFORE?" "+aA:" "+AA;return ua(t)?t.className.baseValue+=c:t.className+=c,A}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(qs||(qs={}));var za,Ja=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute($a,"true"),e.body.appendChild(n),n},Ya=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Xa=function(e){return Promise.all([].slice.call(e.images,0).map(Ya))},Za=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},eA=["all","d","content"],tA=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===eA.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nA=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rA=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},iA=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},sA=":before",oA=":after",aA="___html2canvas___pseudoelement_before",AA="___html2canvas___pseudoelement_after",cA='{\n    content: "" !important;\n    display: none !important;\n}',lA=function(e){uA(e,"."+aA+sA+cA+"\n         ."+AA+oA+cA)},uA=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dA=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hA=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:vA(e)||mA(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o=this;return i(this,(function(i){switch(i.label){case 0:return t=dA.isSameOrigin(e),n=!wA(e)&&!0===this._options.useCORS&&Eo.SUPPORT_CORS_IMAGES&&!t,r=!wA(e)&&!t&&!vA(e)&&"string"===typeof this._options.proxy&&Eo.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||wA(e)||vA(e)||r||n?(s=e,r?[4,this.proxy(s)]:[3,2]):[2];case 1:s=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yA(s)||n)&&(r.crossOrigin="anonymous"),r.src=s,!0===r.complete&&setTimeout((function(){return e(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,s){var o=Eo.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)i(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return s(e)}),!1),e.readAsDataURL(a.response)}else s("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=s;var A=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+r)}}a.send()}))},e}(),pA=/^data:image\/svg\+xml/i,fA=/^data:image\/.*;base64,/i,gA=/^data:image\/.*/i,mA=function(e){return Eo.SUPPORT_SVG_DRAWING||!bA(e)},wA=function(e){return gA.test(e)},yA=function(e){return fA.test(e)},vA=function(e){return"blob"===e.substr(0,4)},bA=function(e){return"svg"===e.substr(-3).toLowerCase()||pA.test(e)},CA=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),BA=function(e,t,n){return new CA(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},SA=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=BA(this.start,this.startControl,t),i=BA(this.startControl,this.endControl,t),s=BA(this.endControl,this.end,t),o=BA(r,i,t),a=BA(i,s,t),A=BA(o,a,t);return n?new e(this.start,r,o,A):new e(A,a,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),EA=function(e){return 1===e.type},kA=function(){function e(e){var t=e.styles,n=e.bounds,r=Gn(t.borderTopLeftRadius,n.width,n.height),i=r[0],s=r[1],o=Gn(t.borderTopRightRadius,n.width,n.height),a=o[0],A=o[1],c=Gn(t.borderBottomRightRadius,n.width,n.height),l=c[0],u=c[1],d=Gn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],p=d[1],f=[];f.push((i+a)/n.width),f.push((h+l)/n.width),f.push((s+p)/n.height),f.push((A+u)/n.height);var g=Math.max.apply(Math,f);g>1&&(i/=g,s/=g,a/=g,A/=g,l/=g,u/=g,h/=g,p/=g);var m=n.width-a,w=n.height-u,y=n.width-l,v=n.height-p,b=t.borderTopWidth,C=t.borderRightWidth,B=t.borderBottomWidth,S=t.borderLeftWidth,E=$n(t.paddingTop,e.bounds.width),k=$n(t.paddingRight,e.bounds.width),I=$n(t.paddingBottom,e.bounds.width),T=$n(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?IA(n.left+S/3,n.top+b/3,i-S/3,s-b/3,za.TOP_LEFT):new CA(n.left+S/3,n.top+b/3),this.topRightBorderDoubleOuterBox=i>0||s>0?IA(n.left+m,n.top+b/3,a-C/3,A-b/3,za.TOP_RIGHT):new CA(n.left+n.width-C/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?IA(n.left+y,n.top+w,l-C/3,u-B/3,za.BOTTOM_RIGHT):new CA(n.left+n.width-C/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?IA(n.left+S/3,n.top+v,h-S/3,p-B/3,za.BOTTOM_LEFT):new CA(n.left+S/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?IA(n.left+2*S/3,n.top+2*b/3,i-2*S/3,s-2*b/3,za.TOP_LEFT):new CA(n.left+2*S/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=i>0||s>0?IA(n.left+m,n.top+2*b/3,a-2*C/3,A-2*b/3,za.TOP_RIGHT):new CA(n.left+n.width-2*C/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?IA(n.left+y,n.top+w,l-2*C/3,u-2*B/3,za.BOTTOM_RIGHT):new CA(n.left+n.width-2*C/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?IA(n.left+2*S/3,n.top+v,h-2*S/3,p-2*B/3,za.BOTTOM_LEFT):new CA(n.left+2*S/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=i>0||s>0?IA(n.left+S/2,n.top+b/2,i-S/2,s-b/2,za.TOP_LEFT):new CA(n.left+S/2,n.top+b/2),this.topRightBorderStroke=i>0||s>0?IA(n.left+m,n.top+b/2,a-C/2,A-b/2,za.TOP_RIGHT):new CA(n.left+n.width-C/2,n.top+b/2),this.bottomRightBorderStroke=l>0||u>0?IA(n.left+y,n.top+w,l-C/2,u-B/2,za.BOTTOM_RIGHT):new CA(n.left+n.width-C/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=h>0||p>0?IA(n.left+S/2,n.top+v,h-S/2,p-B/2,za.BOTTOM_LEFT):new CA(n.left+S/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||s>0?IA(n.left,n.top,i,s,za.TOP_LEFT):new CA(n.left,n.top),this.topRightBorderBox=a>0||A>0?IA(n.left+m,n.top,a,A,za.TOP_RIGHT):new CA(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||u>0?IA(n.left+y,n.top+w,l,u,za.BOTTOM_RIGHT):new CA(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?IA(n.left,n.top+v,h,p,za.BOTTOM_LEFT):new CA(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||s>0?IA(n.left+S,n.top+b,Math.max(0,i-S),Math.max(0,s-b),za.TOP_LEFT):new CA(n.left+S,n.top+b),this.topRightPaddingBox=a>0||A>0?IA(n.left+Math.min(m,n.width-C),n.top+b,m>n.width+C?0:Math.max(0,a-C),Math.max(0,A-b),za.TOP_RIGHT):new CA(n.left+n.width-C,n.top+b),this.bottomRightPaddingBox=l>0||u>0?IA(n.left+Math.min(y,n.width-S),n.top+Math.min(w,n.height-B),Math.max(0,l-C),Math.max(0,u-B),za.BOTTOM_RIGHT):new CA(n.left+n.width-C,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||p>0?IA(n.left+S,n.top+Math.min(v,n.height-B),Math.max(0,h-S),Math.max(0,p-B),za.BOTTOM_LEFT):new CA(n.left+S,n.top+n.height-B),this.topLeftContentBox=i>0||s>0?IA(n.left+S+T,n.top+b+E,Math.max(0,i-(S+T)),Math.max(0,s-(b+E)),za.TOP_LEFT):new CA(n.left+S+T,n.top+b+E),this.topRightContentBox=a>0||A>0?IA(n.left+Math.min(m,n.width+S+T),n.top+b+E,m>n.width+S+T?0:a-S+T,A-(b+E),za.TOP_RIGHT):new CA(n.left+n.width-(C+k),n.top+b+E),this.bottomRightContentBox=l>0||u>0?IA(n.left+Math.min(y,n.width-(S+T)),n.top+Math.min(w,n.height+b+E),Math.max(0,l-(C+k)),u-(B+I),za.BOTTOM_RIGHT):new CA(n.left+n.width-(C+k),n.top+n.height-(B+I)),this.bottomLeftContentBox=h>0||p>0?IA(n.left+S+T,n.top+v,Math.max(0,h-(S+T)),p-(B+I),za.BOTTOM_LEFT):new CA(n.left+S+T,n.top+n.height-(B+I))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(za||(za={}));var IA=function(e,t,n,r,i){var s=(Math.sqrt(2)-1)/3*4,o=n*s,a=r*s,A=e+n,c=t+r;switch(i){case za.TOP_LEFT:return new SA(new CA(e,c),new CA(e,c-a),new CA(A-o,t),new CA(A,t));case za.TOP_RIGHT:return new SA(new CA(e,t),new CA(e+o,t),new CA(A,c-a),new CA(A,c));case za.BOTTOM_RIGHT:return new SA(new CA(A,t),new CA(A,t+a),new CA(e+o,c),new CA(e,c));case za.BOTTOM_LEFT:default:return new SA(new CA(A,c),new CA(A-o,c),new CA(e,t+a),new CA(e,t))}},TA=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},xA=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},UA=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},FA=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),QA=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),_A=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),RA=function(e){return 0===e.type},PA=function(e){return 1===e.type},NA=function(e){return 2===e.type},OA=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},LA=function(e,t,n,r,i){return e.map((function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},DA=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),HA=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new kA(this.container),this.container.styles.opacity<1&&this.effects.push(new _A(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new FA(n,r,i))}if(0!==this.container.styles.overflowX){var s=TA(this.curves),o=UA(this.curves);OA(s,o)?this.effects.push(new QA(s,6)):(this.effects.push(new QA(s,2)),this.effects.push(new QA(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!PA(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=TA(n.curves),o=UA(n.curves);OA(s,o)||r.unshift(new QA(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return is(t.target,e)}))},e}(),MA=function(e,t,n,r){e.container.elements.forEach((function(i){var s=is(i.flags,4),o=is(i.flags,2),a=new HA(i,e);is(i.styles.display,2048)&&r.push(a);var A=is(i.flags,8)?[]:r;if(s||o){var c=s||i.styles.isPositioned()?n:t,l=new DA(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),c.negativeZIndex.splice(d,0,l)}else if(u>0){var h=0;c.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),c.positiveZIndex.splice(h,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);MA(a,l,s?l:n,A)}else i.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),MA(a,t,n,A);is(i.flags,8)&&jA(i,A)}))},jA=function(e,t){for(var n=e instanceof Ko?e.start:1,r=e instanceof Ko&&e.reversed,i=0;i<t.length;i++){var s=t[i];s.container instanceof jo&&"number"===typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=Ga(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},KA=function(e){var t=new HA(e,null),n=new DA(t),r=[];return MA(t,n,n,r),jA(t.container,r),n},VA=function(e,t){switch(t){case 0:return zA(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return zA(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return zA(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return zA(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},qA=function(e,t){switch(t){case 0:return zA(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return zA(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return zA(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return zA(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},GA=function(e,t){switch(t){case 0:return zA(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return zA(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return zA(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return zA(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},$A=function(e,t){switch(t){case 0:return WA(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return WA(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return WA(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return WA(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},WA=function(e,t){var n=[];return EA(e)?n.push(e.subdivide(.5,!1)):n.push(e),EA(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},zA=function(e,t,n,r){var i=[];return EA(e)?i.push(e.subdivide(.5,!1)):i.push(e),EA(n)?i.push(n.subdivide(.5,!0)):i.push(n),EA(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),EA(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},JA=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},YA=function(e){var t=e.styles,n=e.bounds,r=$n(t.paddingLeft,n.width),i=$n(t.paddingRight,n.width),s=$n(t.paddingTop,n.width),o=$n(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+s+o))},XA=function(e,t){return 0===e?t.bounds:2===e?YA(t):JA(t)},ZA=function(e,t){return 0===e?t.bounds:2===e?YA(t):JA(t)},ec=function(e,t,n){var r=XA(ic(e.styles.backgroundOrigin,t),e),i=ZA(ic(e.styles.backgroundClip,t),e),s=rc(ic(e.styles.backgroundSize,t),n,r),o=s[0],a=s[1],A=Gn(ic(e.styles.backgroundPosition,t),r.width-o,r.height-a);return[sc(ic(e.styles.backgroundRepeat,t),A,s,r,i),Math.round(r.left+A[0]),Math.round(r.top+A[1]),o,a]},tc=function(e){return _n(e)&&e.value===Nr.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],i=t[1],s=t[2],o=e[0],a=e[1];if(!o)return[0,0];if(Mn(o)&&a&&Mn(a))return[$n(o,n.width),$n(a,n.height)];var A=nc(s);if(_n(o)&&(o.value===Nr.CONTAIN||o.value===Nr.COVER))return nc(s)?n.width/n.height<s!==(o.value===Nr.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var c=nc(r),l=nc(i),u=c||l;if(tc(o)&&(!a||tc(a)))return c&&l?[r,i]:A||u?u&&A?[c?r:i*s,l?i:r/s]:[c?r:n.width,l?i:n.height]:[n.width,n.height];if(A){var d=0,h=0;return Mn(o)?d=$n(o,n.width):Mn(a)&&(h=$n(a,n.height)),tc(o)?d=h*s:a&&!tc(a)||(h=d/s),[d,h]}var p=null,f=null;if(Mn(o)?p=$n(o,n.width):a&&Mn(a)&&(f=$n(a,n.height)),null===p||a&&!tc(a)||(f=c&&l?p/r*i:n.height),null!==f&&tc(o)&&(p=c&&l?f/i*r:n.width),null!==p&&null!==f)return[p,f];throw new Error("Unable to calculate background-size for element")},ic=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},sc=function(e,t,n,r,i){var s=t[0],o=t[1],a=n[0],A=n[1];switch(e){case 2:return[new CA(Math.round(r.left),Math.round(r.top+o)),new CA(Math.round(r.left+r.width),Math.round(r.top+o)),new CA(Math.round(r.left+r.width),Math.round(A+r.top+o)),new CA(Math.round(r.left),Math.round(A+r.top+o))];case 3:return[new CA(Math.round(r.left+s),Math.round(r.top)),new CA(Math.round(r.left+s+a),Math.round(r.top)),new CA(Math.round(r.left+s+a),Math.round(r.height+r.top)),new CA(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new CA(Math.round(r.left+s),Math.round(r.top+o)),new CA(Math.round(r.left+s+a),Math.round(r.top+o)),new CA(Math.round(r.left+s+a),Math.round(r.top+o+A)),new CA(Math.round(r.left+s),Math.round(r.top+o+A))];default:return[new CA(Math.round(i.left),Math.round(i.top)),new CA(Math.round(i.left+i.width),Math.round(i.top)),new CA(Math.round(i.left+i.width),Math.round(i.height+i.top)),new CA(Math.round(i.left),Math.round(i.height+i.top))]}},oc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ac="Hidden Text",Ac=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),r.src=oc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ac)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(ac)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),lc=1e4,uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Ac(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),NA(e)&&(this.ctx.globalAlpha=e.opacity),RA(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),PA(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return is(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Uo(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=gc(e.fontFamily).join(", "),r=Fn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,s,o,a,A,c,l,u=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],s=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),A=a.baseline,c=a.middle,l=t.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=ir(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,A);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=ir(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,A)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+A),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ir(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+A)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=YA(e),i=UA(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,s,a,A,c,l,u,d,h,p,f,g,m,w,y,v,b;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,s=t.styles,a=0,A=t.textNodes,i.label=1;case 1:return a<A.length?(c=A[a],[4,this.renderTextNode(c,s)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Do))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return w=i.sent(),this.renderReplacedElement(t,r,w),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ho&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Mo))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return w=i.sent(),this.renderReplacedElement(t,r,w),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ta&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=i.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Xo&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wo?t.checked&&(this.ctx.save(),this.path([new CA(t.bounds.left+.39363*u,t.bounds.top+.79*u),new CA(t.bounds.left+.16*u,t.bounds.top+.5549*u),new CA(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new CA(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new CA(t.bounds.left+.72983*u,t.bounds.top+.23*u),new CA(t.bounds.left+.84*u,t.bounds.top+.34085*u),new CA(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ir(Yo),this.ctx.fill(),this.ctx.restore()):t.type===zo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Yo),this.ctx.fill(),this.ctx.restore())),dc(t)&&t.value.length){switch(d=this.createFontStyle(s),v=d[0],h=d[1],p=this.fontMetrics.getMetrics(v,h).baseline,this.ctx.font=v,this.ctx.fillStyle=ir(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pc(t.styles.textAlign),b=YA(t),f=0,t.styles.textAlign){case 1:f+=b.width/2;break;case 2:f+=b.width}g=b.add(f,0,0,-b.height/2+1),this.ctx.save(),this.path([new CA(b.left,b.top),new CA(b.left+b.width,b.top),new CA(b.left+b.width,b.top+b.height),new CA(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ko(t.value,g),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!is(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];w=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=i.sent(),this.ctx.drawImage(w,t.bounds.left-(w.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(v=this.createFontStyle(s)[0],this.ctx.font=v,this.ctx.fillStyle=ir(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new o(t.bounds.left,t.bounds.top+$n(t.styles.paddingTop,t.bounds.width),t.bounds.width,bi(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ko(e.listValue,b),s.letterSpacing,bi(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o,a,A,c,l,u,d,h,p,f,g;return i(this,(function(i){switch(i.label){case 0:return is(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,s=e.nonInlineLevel,i.label=7;case 7:return r<s.length?(g=s[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,a=e.nonPositionedFloats,i.label=11;case 11:return o<a.length?(g=a[o],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:A=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return A<c.length?(g=c[A],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return A++,[3,15];case 18:l=0,u=e.inlineLevel,i.label=19;case 19:return l<u.length?(g=u[l],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return d<h.length?(g=h[d],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return d++,[3,23];case 26:p=0,f=e.positiveZIndex,i.label=27;case 27:return p<f.length?(g=f[p],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=EA(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),EA(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o,a;return i(this,(function(A){switch(A.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,o,a,A,c,l,u,d,h,p,f,g,m,w,y,v,b,C,B,S,E,k,I,T,x,U,F,Q,_,R,P;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];s=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return s=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return s&&(a=ec(e,t,[s.width,s.height,s.width/s.height]),v=a[0],k=a[1],I=a[2],B=a[3],S=a[4],w=r.ctx.createPattern(r.resizeImage(s,B,S),"repeat"),r.renderRepeat(v,w,k,I)),[3,6];case 5:Qr(n)?(A=ec(e,t,[null,null,null]),v=A[0],k=A[1],I=A[2],B=A[3],S=A[4],c=wr(n.angle,B,S),l=c[0],u=c[1],d=c[2],h=c[3],p=c[4],(f=document.createElement("canvas")).width=B,f.height=S,g=f.getContext("2d"),m=g.createLinearGradient(u,h,d,p),gr(n.stops,l).forEach((function(e){return m.addColorStop(e.stop,ir(e.color))})),g.fillStyle=m,g.fillRect(0,0,B,S),B>0&&S>0&&(w=r.ctx.createPattern(f,"repeat"),r.renderRepeat(v,w,k,I))):_r(n)&&(y=ec(e,t,[null,null,null]),v=y[0],b=y[1],C=y[2],B=y[3],S=y[4],E=0===n.position.length?[Vn]:n.position,k=$n(E[0],B),I=$n(E[E.length-1],S),T=br(n,k,I,B,S),x=T[0],U=T[1],x>0&&U>0&&(F=r.ctx.createRadialGradient(b+k,C+I,0,b+k,C+I,x),gr(n.stops,2*x).forEach((function(e){return F.addColorStop(e.stop,ir(e.color))})),r.path(v),r.ctx.fillStyle=F,x!==U?(Q=e.bounds.left+.5*e.bounds.width,_=e.bounds.top+.5*e.bounds.height,P=1/(R=U/x),r.ctx.save(),r.ctx.translate(Q,_),r.ctx.transform(1,0,0,R,0,0),r.ctx.translate(-Q,-_),r.ctx.fillRect(b,P*(C-_)+_,B,S*P),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,s=0,o=e.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:A.sent(),A.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(VA(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,s){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return i.sent(),[2];case 2:return r=qA(s,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),o=GA(s,n),this.path(o),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o,a,A,c,l=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=hc(ic(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var n=TA(e.curves),r=t.inset?0:lc,i=LA(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(l.path(n),l.ctx.clip(),l.mask(i)):(l.mask(n),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=t.offsetX.number+r,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=ir(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),i.label=2;case 2:o=0,a=0,A=r,i.label=3;case 3:return a<A.length?0!==(c=A[a]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,s,o){return r(this,void 0,void 0,(function(){var r,a,A,c,l,u,d,h,p,f,g,m,w,y,v,b;return i(this,(function(i){return this.ctx.save(),r=$A(s,n),a=VA(s,n),2===o&&(this.path(a),this.ctx.clip()),EA(a[0])?(A=a[0].start.x,c=a[0].start.y):(A=a[0].x,c=a[0].y),EA(a[1])?(l=a[1].end.x,u=a[1].end.y):(l=a[1].x,u=a[1].y),d=0===n||2===n?Math.abs(A-l):Math.abs(c-u),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(a.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,3===o&&(h=t,p=t),f=!0,d<=2*h?f=!1:d<=2*h+p?(h*=g=d/(2*h+p),p*=g):(m=Math.floor((d+p)/(h+p)),w=(d-m*h)/(m-1),p=(y=(d-(m+1)*h)/m)<=0||Math.abs(p-w)<Math.abs(p-y)?w:y),f&&(3===o?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(EA(a[0])&&(v=a[3],b=a[0],this.ctx.beginPath(),this.formatPath([new CA(v.end.x,v.end.y),new CA(b.start.x,b.start.y)]),this.ctx.stroke()),EA(a[1])&&(v=a[1],b=a[2],this.ctx.beginPath(),this.formatPath([new CA(v.end.x,v.end.y),new CA(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=KA(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(cc),dc=function(e){return e instanceof ea||e instanceof Zo||e instanceof Xo&&e.type!==zo&&e.type!==Wo},hc=function(e,t){switch(e){case 0:return TA(t);case 2:return xA(t);default:return UA(t)}},pc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},fc=["-apple-system","system-ui"],gc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===fc.indexOf(e)})):e},mc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=Bo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,wc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(cc),wc=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),vc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hA(this,t)}return e.instanceCount=1,e}(),bc=function(e,t){return void 0===t&&(t={}),Cc(e,t)};"undefined"!==typeof window&&dA.setContext(window);var Cc=function(e,t){return r(void 0,void 0,void 0,(function(){var r,s,c,l,u,d,h,p,f,g,m,w,y,v,b,C,B,S,E,k,I,T,x,U,F,Q,_,R,P,N,O,L,D,H,M,j,K,V;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(x=t.imageTimeout)&&void 0!==x?x:15e3,proxy:t.proxy,useCORS:null!==(U=t.useCORS)&&void 0!==U&&U},l=n({logging:null===(F=t.logging)||void 0===F||F,cache:t.cache},c),u={windowWidth:null!==(Q=t.windowWidth)&&void 0!==Q?Q:s.innerWidth,windowHeight:null!==(_=t.windowHeight)&&void 0!==_?_:s.innerHeight,scrollX:null!==(R=t.scrollX)&&void 0!==R?R:s.pageXOffset,scrollY:null!==(P=t.scrollY)&&void 0!==P?P:s.pageYOffset},d=new o(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new vc(l,d),p=null!==(N=t.foreignObjectRendering)&&void 0!==N&&N,f={allowTaint:null!==(O=t.allowTaint)&&void 0!==O&&O,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new Wa(h,e,f),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=i.sent(),y=ma(m)||fa(m)?A(m.ownerDocument):a(h,m),v=y.width,b=y.height,C=y.left,B=y.top,S=Bc(h,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:S,scale:null!==(D=null!==(L=t.scale)&&void 0!==L?L:s.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(H=t.x)&&void 0!==H?H:0)+C,y:(null!==(M=t.y)&&void 0!==M?M:0)+B,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(v),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},p?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(h,E).render(m)]):[3,3];case 2:return k=i.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+C+","+B+" with size "+v+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),I=sa(h,m),S===I.styles.backgroundColor&&(I.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new uc(h,E).render(I)];case 4:k=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(Wa.destroy(w)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,k]}}))}))},Bc=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,s=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,o="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(s)?o:s:i:o};return bc}()},285:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,A=[],c=!1,l=-1;function u(){c&&a&&(c=!1,a.length?A=a.concat(A):l=-1,A.length&&d())}function d(){if(!c){var e=o(u);c=!0;for(var t=A.length;t;){for(a=A,A=[];++l<t;)a&&a[l].run();l=-1,t=A.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];A.push(new h(e,t)),1!==A.length||c||o(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},321:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},330:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useState,o=r.useEffect,a=r.useLayoutEffect,A=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),A(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},382:(e,t,n)=>{"use strict";const r=n(445),i=n(900),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=A,t.IS=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,A.prototype),t}function A(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!A.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|f(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return A.from(r,t,n);const i=function(e){if(A.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return A.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,A.prototype),r}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function f(e,t){if(A.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(i)return r?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=A.from(t,r)),A.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let s,o=1,a=e.length,A=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,A/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===A)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+A>a&&(n=a-A),s=n;s>=0;s--){let n=!0;for(let r=0;r<A;r++)if(c(e,s+r)!==c(t,r)){n=!1;break}if(n)return s}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(J(r))return o;e[n+o]=r}return o}function b(e,t,n,r){return W(G(t,e.length-n),e,n,r)}function C(e,t,n,r){return W(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function B(e,t,n,r){return W($(t),e,n,r)}function S(e,t,n,r){return W(function(e,t){let n,r,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,a,A;switch(o){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128===(192&n)&&(A=(31&t)<<6|63&n,A>127&&(s=A));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(A=(15&t)<<12|(63&n)<<6|63&r,A>2047&&(A<55296||A>57343)&&(s=A));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(A=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,A>65535&&A<1114112&&(s=A))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}A.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),A.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},A.allocUnsafe=function(e){return u(e)},A.allocUnsafeSlow=function(e){return u(e)},A.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==A.prototype},A.compare=function(e,t){if(z(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),!A.isBuffer(e)||!A.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},A.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return A.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=A.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(z(t,Uint8Array))i+t.length>r.length?(A.isBuffer(t)||(t=A.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!A.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},A.byteLength=f,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},A.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},A.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},A.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(e){if(!A.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===A.compare(this,e)},A.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(A.prototype[s]=A.prototype.inspect),A.prototype.compare=function(e,t,n,r,i){if(z(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(r,i),l=e.slice(t,n);for(let A=0;A<a;++A)if(c[A]!==l[A]){s=c[A],o=l[A];break}return s<o?-1:o<s?1:0},A.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},A.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},A.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},A.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return B(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function U(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=t;s<n;++s)i+=Y[e[s]];return i}function F(e,t,n){const r=e.slice(t,n);let i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function Q(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,i,s){if(!A.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){j(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function P(e,t,n,r,i){j(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function N(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,s){return t=+t,n>>>=0,s||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,s){return t=+t,n>>>=0,s||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}A.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,A.prototype),r},A.prototype.readUintLE=A.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Q(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},A.prototype.readUintBE=A.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Q(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},A.prototype.readUint8=A.prototype.readUInt8=function(e,t){return e>>>=0,t||Q(e,1,this.length),this[e]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Q(e,2,this.length),this[e]|this[e+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Q(e,2,this.length),this[e]<<8|this[e+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Q(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},A.prototype.readBigUInt64LE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),A.prototype.readBigUInt64BE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),A.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Q(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},A.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Q(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},A.prototype.readInt8=function(e,t){return e>>>=0,t||Q(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},A.prototype.readInt16LE=function(e,t){e>>>=0,t||Q(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},A.prototype.readInt16BE=function(e,t){e>>>=0,t||Q(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},A.prototype.readInt32LE=function(e,t){return e>>>=0,t||Q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},A.prototype.readInt32BE=function(e,t){return e>>>=0,t||Q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},A.prototype.readBigInt64LE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),A.prototype.readBigInt64BE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),A.prototype.readFloatLE=function(e,t){return e>>>=0,t||Q(e,4,this.length),i.read(this,e,!0,23,4)},A.prototype.readFloatBE=function(e,t){return e>>>=0,t||Q(e,4,this.length),i.read(this,e,!1,23,4)},A.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Q(e,8,this.length),i.read(this,e,!0,52,8)},A.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Q(e,8,this.length),i.read(this,e,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){_(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){_(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},A.prototype.writeUint8=A.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},A.prototype.writeBigUInt64LE=X((function(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),A.prototype.writeBigUInt64BE=X((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),A.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},A.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},A.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},A.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},A.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},A.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},A.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},A.prototype.writeBigInt64LE=X((function(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),A.prototype.writeBigInt64BE=X((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),A.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},A.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},A.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},A.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},A.prototype.copy=function(e,t,n,r){if(!A.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},A.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!A.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=A.isBuffer(e)?e:A.from(e,r),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};const D={};function H(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function j(e,t,n,r,i,s){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,i,s)}function K(e,t){if("number"!==typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw K(e,n),new D.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=M(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=M(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function $(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=a(e),o=s[0],A=s[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,A)),l=0,u=A>0?o-4:o;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===A&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===A&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,c=r-i;a<c;a+=o)s.push(A(e,a,a+o>c?c:a+o));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function A(e,t,r){for(var i,s,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},461:(e,t,n)=>{"use strict";e.exports=n(330)},579:(e,t,n)=>{"use strict";e.exports=n(153)},605:(e,t,n)=>{var r=n(321),i=/%[sdv%]/g,s=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},o=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?r.push(n[t.name][o]):r.push(n[t.names[i]])}else r.push(n[t.name]);return s.apply(null,r)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],A=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||a,i=t.innerOrder||A,s=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?s.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){s.push(o(t,n,e))}))}))})),e.media.forEach((function(e){s.push(o("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?s.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){s.push(o(t,n,e))}))}))}))})),s.join("\r\n")+"\r\n"}},640:(e,t,n)=>{var r=n(877),i=n(605);n(321),t.qg=r.parse,r.parseParams,r.parseFmtpConfig,r.parsePayloads,r.parseRemoteCandidates,r.parseImageAttributes,r.parseSimulcastStreamList},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function A(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(p,e)||!u.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,w);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,w);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,w);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),C=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Q=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var N,O=Object.assign;function L(e){if(void 0===N)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var D=!1;function H(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var A="\n"+i[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}}while(1<=o&&0<=a);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function M(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case C:return"Portal";case E:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case U:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function z(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,ue=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Be=null,Se=null;function Ee(e){if(e=yi(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),Ce(e.stateNode,e.type,t))}}function ke(e){Be?Se?Se.push(e):Se=[e]:Be=e}function Ie(){if(Be){var e=Be,t=Se;if(Se=Be=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function xe(){}var Ue=!1;function Fe(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Te(e,t,n)}finally{Ue=!1,(null!==Be||null!==Se)&&(xe(),Ie())}}function Qe(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _e=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){_e=!1}function Pe(e,t,n,r,i,s,o,a,A){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ne=!1,Oe=null,Le=!1,De=null,He={onError:function(e){Ne=!0,Oe=e}};function Me(e,t,n,r,i,s,o,a,A){Ne=!1,Oe=null,Pe.apply(He,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ve(i),e;if(o===r)return Ve(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,A=i.child;A;){if(A===n){a=!0,n=i,r=o;break}if(A===r){a=!0,r=i,n=o;break}A=A.sibling}if(!a){for(A=o.child;A;){if(A===n){a=!0,n=o,r=i;break}if(A===r){a=!0,r=o,n=i;break}A=A.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,ze=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/At|0)|0},at=Math.log,At=Math.LN2;var ct=64,lt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ut(a):0!==(s&=o)&&(r=ut(s))}else 0!==(o=n&~i)?r=ut(o):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Ct,Bt,St,Et,kt=!1,It=[],Tt=null,xt=null,Ut=null,Ft=new Map,Qt=new Map,_t=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qt.delete(t.pointerId)}}function Nt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ot(e){var t=wi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Et(e.priority,(function(){Bt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Dt(e,t,n){Lt(e)&&n.delete(t)}function Ht(){kt=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==xt&&Lt(xt)&&(xt=null),null!==Ut&&Lt(Ut)&&(Ut=null),Ft.forEach(Dt),Qt.forEach(Dt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function jt(e){function t(t){return Mt(t,e)}if(0<It.length){Mt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Mt(Tt,e),null!==xt&&Mt(xt,e),null!==Ut&&Mt(Ut,e),Ft.forEach(t),Qt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Ot(n),null===n.blockedOn&&_t.shift()}var Kt=v.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var i=yt,s=Kt.transition;Kt.transition=null;try{yt=1,$t(e,t,n,r)}finally{yt=i,Kt.transition=s}}function Gt(e,t,n,r){var i=yt,s=Kt.transition;Kt.transition=null;try{yt=4,$t(e,t,n,r)}finally{yt=i,Kt.transition=s}}function $t(e,t,n,r){if(Vt){var i=zt(e,t,n,r);if(null===i)Vr(e,t,r,Wt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Nt(Tt,e,t,n,r,i),!0;case"dragenter":return xt=Nt(xt,e,t,n,r,i),!0;case"mouseover":return Ut=Nt(Ut,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ft.set(s,Nt(Ft.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Qt.set(s,Nt(Qt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var s=yi(i);if(null!==s&&bt(s),null===(s=zt(e,t,n,r))&&Vr(e,t,r,Wt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Wt=null;function zt(e,t,n,r){if(Wt=null,null!==(e=wi(e=be(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,An,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=sn(cn),un=O({},cn,{view:0,detail:0}),dn=sn(un),hn=O({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&"mousemove"===e.type?(on=e.screenX-An.screenX,an=e.screenY-An.screenY):an=on=0,An=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(hn),fn=sn(O({},hn,{dataTransfer:0})),gn=sn(O({},un,{relatedTarget:0})),mn=sn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(wn),vn=sn(O({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function En(){return Sn}var kn=O({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(kn),Tn=sn(O({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=sn(O({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Un=sn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=O({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qn=sn(Fn),_n=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Nn=l&&"TextEvent"in window&&!Pn,On=l&&(!Rn||Pn&&8<Pn&&11>=Pn),Ln=String.fromCharCode(32),Dn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function qn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,$n=null;function Wn(e){Lr(e,0)}function zn(e){if($(vi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),$n=Gn=null)}function nr(e){if("value"===e.propertyName&&zn($n)){var t=[];qn(t,$n,e,be(e)),Fe(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn($n)}function sr(e,t){if("click"===e)return zn(t)}function or(e,t){if("input"===e||"change"===e)return zn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ar(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=lr(n,s);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,wr=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==W(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&Ar(wr,r)||(wr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Br={},Sr={};function Er(e){if(Br[e])return Br[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Br[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var kr=Er("animationend"),Ir=Er("animationiteration"),Tr=Er("animationstart"),xr=Er("transitionend"),Ur=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){Ur.set(e,t),A(t,[e])}for(var _r=0;_r<Fr.length;_r++){var Rr=Fr[_r];Qr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Qr(kr,"onAnimationEnd"),Qr(Ir,"onAnimationIteration"),Qr(Tr,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(xr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),A("onBeforeInput",["compositionend","keypress","textInput","paste"]),A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,A,c){if(Me.apply(this,arguments),Ne){if(!Ne)throw Error(s(198));var l=Oe;Ne=!1,Oe=null,Le||(Le=!0,De=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],A=a.instance,c=a.currentTarget;if(a=a.listener,A!==s&&i.isPropagationStopped())break e;Or(i,a,c),s=A}else for(o=0;o<r.length;o++){if(A=(a=r[o]).instance,c=a.currentTarget,a=a.listener,A!==s&&i.isPropagationStopped())break e;Or(i,a,c),s=A}}}if(Le)throw e=De,Le=!1,De=null,e}function Dr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Mr]){e[Mr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Nr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Hr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var A=o.tag;if((3===A||4===A)&&((A=o.stateNode.containerInfo)===i||8===A.nodeType&&A.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=wi(a)))return;if(5===(A=o.tag)||6===A){r=s=o;continue e}a=a.parentNode}}r=r.return}Fe((function(){var r=s,i=be(n),o=[];e:{var a=Ur.get(e);if(void 0!==a){var A=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":A=In;break;case"focusin":c="focus",A=gn;break;case"focusout":c="blur",A=gn;break;case"beforeblur":case"afterblur":A=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=xn;break;case kr:case Ir:case Tr:A=mn;break;case xr:A=Un;break;case"scroll":A=dn;break;case"wheel":A=Qn;break;case"copy":case"cut":case"paste":A=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Tn}var l=0!==(4&t),u=!l&&"scroll"===e,d=l?null!==a?a+"Capture":null:a;l=[];for(var h,p=r;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==d&&(null!=(f=Qe(p,d))&&l.push(qr(p,f,h)))),u)break;p=p.return}0<l.length&&(a=new A(a,c,null,n,i),o.push({event:a,listeners:l}))}}if(0===(7&t)){if(A="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!wi(c)&&!c[pi])&&(A||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,A?(A=r,null!==(c=(c=n.relatedTarget||n.toElement)?wi(c):null)&&(c!==(u=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(A=null,c=r),A!==c)){if(l=pn,f="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,f="onPointerLeave",d="onPointerEnter",p="pointer"),u=null==A?a:vi(A),h=null==c?a:vi(c),(a=new l(f,p+"leave",A,n,i)).target=u,a.relatedTarget=h,f=null,wi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=u,f=l),u=f,A&&c)e:{for(d=c,p=0,h=l=A;h;h=$r(h))p++;for(h=0,f=d;f;f=$r(f))h++;for(;0<p-h;)l=$r(l),p--;for(;0<h-p;)d=$r(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=$r(l),d=$r(d)}l=null}else l=null;null!==A&&Wr(o,a,A,l,!1),null!==c&&null!==u&&Wr(o,u,c,l,!0)}if("select"===(A=(a=r?vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===A&&"file"===a.type)var g=Jn;else if(Vn(a))if(Yn)g=or;else{g=ir;var m=rr}else(A=a.nodeName)&&"input"===A.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(o,g,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?vi(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,wr=null);break;case"focusout":wr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(o,n,i)}var w;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Hn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(On&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(w=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,jn=!0)),0<(m=Gr(r,y)).length&&(y=new vn(y,e,null,n,i),o.push({event:y,listeners:m}),w?y.data=w:null!==(w=Mn(n))&&(y.data=w))),(w=Nn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Dn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Rn&&Hn(e,t)?(e=en(),Zt=Xt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=w))}Lr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Qe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Qe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,A=a.alternate,c=a.stateNode;if(null!==A&&A===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(A=Qe(n,s))&&o.unshift(qr(n,A,a)):i||null!=(A=Qe(n,s))&&o.push(qr(n,A,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var zr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(zr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function Ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),di="__reactFiber$"+ui,hi="__reactProps$"+ui,pi="__reactContainer$"+ui,fi="__reactEvents$"+ui,gi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function wi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[hi]||null}var Ci=[],Bi=-1;function Si(e){return{current:e}}function Ei(e){0>Bi||(e.current=Ci[Bi],Ci[Bi]=null,Bi--)}function ki(e,t){Bi++,Ci[Bi]=e.current,e.current=t}var Ii={},Ti=Si(Ii),xi=Si(!1),Ui=Ii;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){Ei(xi),Ei(Ti)}function Ri(e,t,n){if(Ti.current!==Ii)throw Error(s(168));ki(Ti,t),ki(xi,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,K(e)||"Unknown",i));return O({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ui=Ti.current,ki(Ti,e),ki(xi,xi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Pi(e,t,Ui),r.__reactInternalMemoizedMergedChildContext=e,Ei(xi),Ei(Ti),ki(Ti,e)):Ei(xi),ki(xi,n)}var Li=null,Di=!1,Hi=!1;function Mi(e){null===Li?Li=[e]:Li.push(e)}function ji(){if(!Hi&&null!==Li){Hi=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Di=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),$e(Ze,ji),i}finally{yt=t,Hi=!1}}return null}var Ki=[],Vi=0,qi=null,Gi=0,$i=[],Wi=0,zi=null,Ji=1,Yi="";function Xi(e,t){Ki[Vi++]=Gi,Ki[Vi++]=qi,qi=e,Gi=t}function Zi(e,t,n){$i[Wi++]=Ji,$i[Wi++]=Yi,$i[Wi++]=zi,zi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Ki[--Vi],Ki[Vi]=null,Gi=Ki[--Vi],Ki[Vi]=null;for(;e===zi;)zi=$i[--Wi],$i[Wi]=null,Yi=$i[--Wi],$i[Wi]=null,Ji=$i[--Wi],$i[Wi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==zi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function As(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(As(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(As(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function ls(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!is)return ls(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(As(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(ls(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function hs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var fs=v.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function A(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===B?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===Q&&ws(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case C:return(t=Lc(t,e.mode,n)).return=e,t;case Q:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;ms(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:A(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?l(e,t,n,r):null;case Q:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:u(e,t,n,r,null);ms(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return A(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Q:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return u(t,e=e.get(n)||null,r,i,null);ms(t,r)}return null}function f(i,s,a,A){for(var c=null,l=null,u=s,f=s=0,g=null;null!==u&&f<a.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var m=h(i,u,a[f],A);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(i,u),s=o(m,s,f),null===l?c=m:l.sibling=m,l=m,u=g}if(f===a.length)return n(i,u),is&&Xi(i,f),c;if(null===u){for(;f<a.length;f++)null!==(u=d(i,a[f],A))&&(s=o(u,s,f),null===l?c=u:l.sibling=u,l=u);return is&&Xi(i,f),c}for(u=r(i,u);f<a.length;f++)null!==(g=p(u,i,f,a[f],A))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=o(g,s,f),null===l?c=g:l.sibling=g,l=g);return e&&u.forEach((function(e){return t(i,e)})),is&&Xi(i,f),c}function g(i,a,A,c){var l=P(A);if("function"!==typeof l)throw Error(s(150));if(null==(A=l.call(A)))throw Error(s(151));for(var u=l=null,f=a,g=a=0,m=null,w=A.next();null!==f&&!w.done;g++,w=A.next()){f.index>g?(m=f,f=null):m=f.sibling;var y=h(i,f,w.value,c);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,g),null===u?l=y:u.sibling=y,u=y,f=m}if(w.done)return n(i,f),is&&Xi(i,g),l;if(null===f){for(;!w.done;g++,w=A.next())null!==(w=d(i,w.value,c))&&(a=o(w,a,g),null===u?l=w:u.sibling=w,u=w);return is&&Xi(i,g),l}for(f=r(i,f);!w.done;g++,w=A.next())null!==(w=p(f,i,g,w.value,c))&&(e&&null!==w.alternate&&f.delete(null===w.key?g:w.key),a=o(w,a,g),null===u?l=w:u.sibling=w,u=w);return e&&f.forEach((function(e){return t(i,e)})),is&&Xi(i,g),l}return function e(r,s,o,A){if("object"===typeof o&&null!==o&&o.type===B&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=s;null!==l;){if(l.key===c){if((c=o.type)===B){if(7===l.tag){n(r,l.sibling),(s=i(l,o.props.children)).return=r,r=s;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===Q&&ws(c)===l.type){n(r,l.sibling),(s=i(l,o.props)).ref=gs(r,l,o),s.return=r,r=s;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===B?((s=Pc(o.props.children,r.mode,A,o.key)).return=r,r=s):((A=Rc(o.type,o.key,o.props,null,r.mode,A)).ref=gs(r,s,o),A.return=r,r=A)}return a(r);case C:e:{for(l=o.key;null!==s;){if(s.key===l){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Lc(o,r.mode,A)).return=r,r=s}return a(r);case Q:return e(r,s,(l=o._init)(o._payload),A)}if(te(o))return f(r,s,o,A);if(P(o))return g(r,s,o,A);ms(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Oc(o,r.mode,A)).return=r,r=s),a(r)):n(r,s)}}var vs=ys(!0),bs=ys(!1),Cs=Si(null),Bs=null,Ss=null,Es=null;function ks(){Es=Ss=Bs=null}function Is(e){var t=Cs.current;Ei(Cs),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xs(e,t){Bs=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Us(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===Bs)throw Error(s(308));Ss=e,Bs.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Fs=null;function Qs(e){null===Fs?Fs=[e]:Fs.push(e)}function _s(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Qs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&TA)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rs(e,n)}return null===(i=r.interleaved)?(t.next=t,Qs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rs(e,n)}function Hs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;Ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var A=a,c=A.next;A.next=null,null===o?s=c:o.next=c,o=A;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=A))}if(null!==s){var u=i.baseState;for(o=0,l=c=A=null,a=s;;){var d=a.lane,h=a.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,f=a;switch(d=t,h=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,d);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=f.payload)?p.call(h,u,d):p)||void 0===d)break e;u=O({},u,d);break e;case 2:Ps=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=h,A=u):l=l.next=h,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(A=u),i.baseState=A,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);NA|=o,e.lanes=o,e.memoizedState=u}}function Ks(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs={},qs=Si(Vs),Gs=Si(Vs),$s=Si(Vs);function Ws(e){if(e===Vs)throw Error(s(174));return e}function zs(e,t){switch(ki($s,t),ki(Gs,e),ki(qs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ae(null,"");break;default:t=Ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),ki(qs,t)}function Js(){Ei(qs),Ei(Gs),Ei($s)}function Ys(e){Ws($s.current);var t=Ws(qs.current),n=Ae(t,e.type);t!==n&&(ki(Gs,e),ki(qs,n))}function Xs(e){Gs.current===e&&(Ei(qs),Ei(Gs))}var Zs=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=v.ReactCurrentDispatcher,io=v.ReactCurrentBatchConfig,so=0,oo=null,ao=null,Ao=null,co=!1,lo=!1,uo=0,ho=0;function po(){throw Error(s(321))}function fo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),lo){o=0;do{if(lo=!1,uo=0,25<=o)throw Error(s(301));o+=1,Ao=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(lo)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,Ao=ao=oo=null,co=!1,t)throw Error(s(300));return e}function mo(){var e=0!==uo;return uo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ao?oo.memoizedState=Ao=e:Ao=Ao.next=e,Ao}function yo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===Ao?oo.memoizedState:Ao.next;if(null!==t)Ao=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===Ao?oo.memoizedState=Ao=e:Ao=Ao.next=e}return Ao}function vo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=yo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var A=a=null,c=null,l=o;do{var u=l.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(A=c=d,a=r):c=c.next=d,oo.lanes|=u,NA|=u}l=l.next}while(null!==l&&l!==o);null===c?a=r:c.next=A,ar(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,NA|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Co(e){var t=yo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ya=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(){}function So(e,t){var n=oo,r=yo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ya=!0),r=r.queue,No(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==Ao&&1&Ao.memoizedState.tag){if(n.flags|=2048,Fo(9,ko.bind(null,n,r,i,t),void 0,null),null===xA)throw Error(s(349));0!==(30&so)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&xo(e)}function Io(e,t,n){return n((function(){To(t)&&xo(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function xo(e){var t=Rs(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qo(){return yo().memoizedState}function _o(e,t,n,r){var i=wo();oo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Ro(e,t,n,r){var i=yo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&fo(r,o.deps))return void(i.memoizedState=Fo(t,n,s,r))}oo.flags|=e,i.memoizedState=Fo(1|t,n,s,r)}function Po(e,t){return _o(8390656,8,e,t)}function No(e,t){return Ro(2048,8,e,t)}function Oo(e,t){return Ro(4,2,e,t)}function Lo(e,t){return Ro(4,4,e,t)}function Do(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ro(4,4,Do.bind(null,t,e),n)}function Mo(){}function jo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=n):(ar(n,t)||(n=ft(),oo.lanes|=n,NA|=n,e.baseState=!0),t)}function qo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{yt=n,io.transition=r}}function Go(){return yo().memoizedState}function $o(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zo(e))Jo(t,n);else if(null!==(n=_s(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function Wo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zo(e))Jo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var A=t.interleaved;return null===A?(i.next=i,Qs(t)):(i.next=A.next,A.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=_s(e,t,i,r))&&(nc(n,e,r,i=ec()),Yo(n,t,r))}}function zo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){lo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var Xo={readContext:Us,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Us,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Us,useEffect:Po,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4194308,4,Do.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Uo,useDebugValue:Mo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=qo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=wo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===xA)throw Error(s(349));0!==(30&so)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Po(Io.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=xA.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=uo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Us,useCallback:jo,useContext:Us,useEffect:No,useImperativeHandle:Ho,useInsertionEffect:Oo,useLayoutEffect:Lo,useMemo:Ko,useReducer:bo,useRef:Qo,useState:function(){return bo(vo)},useDebugValue:Mo,useDeferredValue:function(e){return Vo(yo(),ao.memoizedState,e)},useTransition:function(){return[bo(vo)[0],yo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1},ta={readContext:Us,useCallback:jo,useContext:Us,useEffect:No,useImperativeHandle:Ho,useInsertionEffect:Oo,useLayoutEffect:Lo,useMemo:Ko,useReducer:Co,useRef:Qo,useState:function(){return Co(vo)},useDebugValue:Mo,useDeferredValue:function(e){var t=yo();return null===ao?t.memoizedState=e:Vo(t,ao.memoizedState,e)},useTransition:function(){return[Co(vo)[0],yo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ls(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(nc(t,e,i,r),Hs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ls(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ds(e,s,i))&&(nc(t,e,i,r),Hs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ls(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ds(e,i,r))&&(nc(t,e,r,n),Hs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ar(n,r)||!Ar(i,s))}function oa(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Us(s):(i=Qi(t)?Ui:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fi(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Us(s):(s=Qi(t)?Ui:Ti.current,i.context=Fi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=M(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function la(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Ls(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){VA||(VA=!0,qA=r),ua(0,t)},n}function pa(e,t,n){(n=Ls(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ua(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===GA?GA=new Set([this]):GA.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ls(-1,1)).tag=2,Ds(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=v.ReactCurrentOwner,ya=!1;function va(e,t,n,r){t.child=null===e?bs(t,null,n,r):vs(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var s=t.ref;return xs(t,i),r=go(e,t,n,r,s,i),n=mo(),null===e||ya?(is&&n&&es(t),t.flags|=1,va(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Qc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ba(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Ar)(o,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=_c(s,r)).ref=t.ref,e.return=t,t.child=e}function Ba(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Ar(s,r)&&e.ref===t.ref){if(ya=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ya=!0)}}return ka(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(_A,QA),QA|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(_A,QA),QA|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(_A,QA),QA|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(_A,QA),QA|=r;return va(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Qi(n)?Ui:Ti.current;return s=Fi(t,s),xs(t,i),n=go(e,t,n,r,s,i),r=mo(),null===e||ya?(is&&r&&es(t),t.flags|=1,va(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ia(e,t,n,r,i){if(Qi(n)){var s=!0;Ni(t)}else s=!1;if(xs(t,i),null===t.stateNode)Ka(e,t),oa(t,n,r),Aa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var A=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Us(c):c=Fi(t,c=Qi(n)?Ui:Ti.current);var l=n.getDerivedStateFromProps,u="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||A!==c)&&aa(t,o,r,c),Ps=!1;var d=t.memoizedState;o.state=d,js(t,r,o,i),A=t.memoizedState,a!==r||d!==A||xi.current||Ps?("function"===typeof l&&(ra(t,n,l,r),A=t.memoizedState),(a=Ps||sa(t,n,a,r,d,A,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),o.props=r,o.state=A,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Os(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,u=t.pendingProps,d=o.context,"object"===typeof(A=n.contextType)&&null!==A?A=Us(A):A=Fi(t,A=Qi(n)?Ui:Ti.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==A)&&aa(t,o,r,A),Ps=!1,d=t.memoizedState,o.state=d,js(t,r,o,i);var p=t.memoizedState;a!==u||d!==p||xi.current||Ps?("function"===typeof h&&(ra(t,n,h,r),p=t.memoizedState),(c=Ps||sa(t,n,c,r,d,p,A)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,A),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,A)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=A,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,s,i)}function Ta(e,t,n,r,i,s){Ea(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Va(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,a,s)):va(e,t,a,s),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function xa(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),zs(e,t.containerInfo)}function Ua(e,t,n,r,i){return hs(),ps(i),t.flags|=256,va(e,t,n,r),t.child}var Fa,Qa,_a,Ra,Pa={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,A=0!==(128&t.flags);if((r=A)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(A=i.children,e=i.fallback,a?(i=t.mode,a=t.child,A={mode:"hidden",children:A},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=A):a=Nc(A,i,0,null),e=Pc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Na(n),t.memoizedState=Pa,e):La(t,A));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Da(e,t,a,r=la(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Nc({mode:"visible",children:r.children},i,0,null),(o=Pc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&vs(t,e.child,null,a),t.child.memoizedState=Na(a),t.memoizedState=Pa,o);if(0===(1&t.mode))return Da(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var A=r.dgst;return r=A,Da(e,t,a,r=la(o=Error(s(419)),r,void 0))}if(A=0!==(a&e.childLanes),ya||A){if(null!==(r=xA)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Rs(e,i),nc(r,e,i,-1))}return fc(),Da(e,t,a,r=la(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&($i[Wi++]=Ji,$i[Wi++]=Yi,$i[Wi++]=zi,Ji=e.id,Yi=e.overflow,zi=t),t=La(t,r.children),t.flags|=4096,t)}(e,t,A,i,r,o,n);if(a){a=i.fallback,A=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&A)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=_c(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=_c(r,a):(a=Pc(a,A,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,A=null===(A=e.child.memoizedState)?Na(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},a.memoizedState=A,a.childLanes=e.childLanes&~n,t.memoizedState=Pa,i}return e=(a=e.child).sibling,i=_c(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function La(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Da(e,t,n,r){return null!==r&&ps(r),vs(t,e.child,null,n),(e=La(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ha(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Ma(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(va(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n,t);else if(19===e.tag)Ha(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ma(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ma(t,!0,n,null,s);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),NA|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $a(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Qi(t.type)&&_i(),Ga(t),null;case 3:return r=t.stateNode,Js(),Ei(xi),Ei(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Qa(e,t),Ga(t),null;case 5:Xs(t);var i=Ws($s.current);if(n=t.type,null!==e&&null!=t.stateNode)_a(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=Ws(qs.current),us(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Dr(Pr[i],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":J(r,o),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dr("invalid",r);break;case"textarea":ie(r,o),Dr("invalid",r)}for(var A in we(n,o),i=null,o)if(o.hasOwnProperty(A)){var c=o[A];"children"===A?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(A)&&null!=c&&"onScroll"===A&&Dr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{A=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=A.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=A.createElement(n,{is:r.is}):(e=A.createElement(n),"select"===n&&(A=e,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):e=A.createElementNS(e,n),e[di]=t,e[hi]=r,Fa(e,t,!1,!1),t.stateNode=e;e:{switch(A=ye(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Dr(Pr[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":J(e,r),i=z(e,r),Dr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=O({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Dr("invalid",e)}for(o in we(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ue(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Dr("scroll",e):null!=l&&y(e,o,l,A))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ws($s.current),Ws(qs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),hs(),t.flags|=98560,o=!1;else if(o=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===RA&&(RA=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Js(),Qa(e,t),null===e&&jr(t.stateNode.containerInfo),Ga(t),null;case 10:return Is(t.type._context),Ga(t),null;case 19:if(Ei(Zs),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(A=o.rendering))if(r)qa(o,!1);else{if(0!==RA||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(A=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=A.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(A=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=A.childLanes,o.lanes=A.lanes,o.child=A.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=A.memoizedProps,o.memoizedState=A.memoizedState,o.updateQueue=A.updateQueue,o.type=A.type,e=A.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>jA&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(A))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!A.alternate&&!is)return Ga(t),null}else 2*Ye()-o.renderingStartTime>jA&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(A.sibling=t.child,t.child=A):(null!==(n=o.last)?n.sibling=A:t.child=A,o.last=A)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&QA)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wa(e,t){switch(ts(t),t.tag){case 1:return Qi(t.type)&&_i(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Ei(xi),Ei(Ti),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Js(),null;case 10:return Is(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Fa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(){},_a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ws(qs.current);var s,o=null;switch(n){case"input":i=z(e,i),r=z(e,r),o=[];break;case"select":i=O({},i,{value:void 0}),r=O({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in we(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var A=i[l];for(s in A)A.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(A=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==A&&(null!=c||null!=A))if("style"===l)if(A){for(s in A)!A.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&A[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,A=A?A.__html:void 0,null!=c&&A!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Dr("scroll",e),o||A===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var za=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eA(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tA=!1;function nA(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&eA(t,n,s)}i=i.next}while(i!==r)}}function rA(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iA(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sA(e){var t=e.alternate;null!==t&&(e.alternate=null,sA(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[fi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oA(e){return 5===e.tag||3===e.tag||4===e.tag}function aA(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function AA(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(AA(e,t,n),e=e.sibling;null!==e;)AA(e,t,n),e=e.sibling}function cA(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cA(e,t,n),e=e.sibling;null!==e;)cA(e,t,n),e=e.sibling}var lA=null,uA=!1;function dA(e,t,n){for(n=n.child;null!==n;)hA(e,t,n),n=n.sibling}function hA(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=lA,i=uA;lA=null,dA(e,t,n),uA=i,null!==(lA=r)&&(uA?(e=lA,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lA.removeChild(n.stateNode));break;case 18:null!==lA&&(uA?(e=lA,n=n.stateNode,8===e.nodeType?Ai(e.parentNode,n):1===e.nodeType&&Ai(e,n),jt(e)):Ai(lA,n.stateNode));break;case 4:r=lA,i=uA,lA=n.stateNode.containerInfo,uA=!0,dA(e,t,n),lA=r,uA=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&eA(n,t,o),i=i.next}while(i!==r)}dA(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}dA(e,t,n);break;case 21:dA(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,dA(e,t,n),Ja=r):dA(e,t,n);break;default:dA(e,t,n)}}function pA(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fA(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,A=a;e:for(;null!==A;){switch(A.tag){case 5:lA=A.stateNode,uA=!1;break e;case 3:case 4:lA=A.stateNode.containerInfo,uA=!0;break e}A=A.return}if(null===lA)throw Error(s(160));hA(o,a,i),lA=null,uA=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gA(t,e),t=t.sibling}function gA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fA(t,e),mA(e),4&r){try{nA(3,e,e.return),rA(3,e)}catch(g){Sc(e,e.return,g)}try{nA(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:fA(t,e),mA(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(fA(t,e),mA(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,A=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===A&&"radio"===o.type&&null!=o.name&&Y(i,o),ye(A,a);var l=ye(A,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];"style"===u?ge(i,d):"dangerouslySetInnerHTML"===u?ue(i,d):"children"===u?de(i,d):y(i,u,d,l)}switch(A){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(fA(t,e),mA(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(fA(t,e),mA(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:fA(t,e),mA(e);break;case 13:fA(t,e),mA(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(MA=Ye())),4&r&&pA(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(l=Ja)||u,fA(t,e),Ja=l):fA(t,e),mA(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!u&&0!==(1&e.mode))for(Xa=e,u=e.child;null!==u;){for(d=Xa=u;null!==Xa;){switch(p=(h=Xa).child,h.tag){case 0:case 11:case 14:case 15:nA(4,h,h.return);break;case 1:Za(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){r=h,n=h.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Za(h,h.return);break;case 22:if(null!==h.memoizedState){bA(d);continue}}null!==p?(p.return=h,Xa=p):bA(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(A=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,A.style.display=fe("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fA(t,e),mA(e),4&r&&pA(e);case 21:}}function mA(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(oA(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cA(e,aA(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;AA(e,aA(e),o);break;default:throw Error(s(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wA(e,t,n){Xa=e,yA(e,t,n)}function yA(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||za;if(!o){var a=i.alternate,A=null!==a&&null!==a.memoizedState||Ja;a=za;var c=Ja;if(za=o,(Ja=A)&&!c)for(Xa=i;null!==Xa;)A=(o=Xa).child,22===o.tag&&null!==o.memoizedState?CA(i):null!==A?(A.return=o,Xa=A):CA(i);for(;null!==s;)Xa=s,yA(s,t,n),s=s.sibling;Xa=i,za=a,Ja=c}vA(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):vA(e)}}function vA(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rA(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ks(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ks(t,a,n)}break;case 5:var A=t.stateNode;if(null===n&&4&t.flags){n=A;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&iA(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function bA(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function CA(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rA(4,t)}catch(A){Sc(t,n,A)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(A){Sc(t,i,A)}}var s=t.return;try{iA(t)}catch(A){Sc(t,s,A)}break;case 5:var o=t.return;try{iA(t)}catch(A){Sc(t,o,A)}}}catch(A){Sc(t,t.return,A)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var BA,SA=Math.ceil,EA=v.ReactCurrentDispatcher,kA=v.ReactCurrentOwner,IA=v.ReactCurrentBatchConfig,TA=0,xA=null,UA=null,FA=0,QA=0,_A=Si(0),RA=0,PA=null,NA=0,OA=0,LA=0,DA=null,HA=null,MA=0,jA=1/0,KA=null,VA=!1,qA=null,GA=null,$A=!1,WA=null,zA=0,JA=0,YA=null,XA=-1,ZA=0;function ec(){return 0!==(6&TA)?Ye():-1!==XA?XA:XA=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&TA)&&0!==FA?FA&-FA:null!==fs.transition?(0===ZA&&(ZA=ft()),ZA):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<JA)throw JA=0,YA=null,Error(s(185));mt(e,n,r),0!==(2&TA)&&e===xA||(e===xA&&(0===(2&TA)&&(OA|=n),4===RA&&ac(e,FA)),rc(e,r),1===n&&0===TA&&0===(1&t.mode)&&(jA=Ye()+500,Di&&ji()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,A=i[o];-1===A?0!==(a&n)&&0===(a&r)||(i[o]=ht(a,t)):A<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===xA?FA:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Di=!0,Mi(e)}(Ac.bind(null,e)):Mi(Ac.bind(null,e)),oi((function(){0===(6&TA)&&ji()})),n=null;else{switch(vt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=xc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(XA=-1,ZA=0,0!==(6&TA))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===xA?FA:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=TA;TA|=2;var o=pc();for(xA===e&&FA===t||(KA=null,jA=Ye()+500,dc(e,t));;)try{wc();break}catch(A){hc(e,A)}ks(),EA.current=o,TA=i,null!==UA?t=0:(xA=null,FA=0,t=RA)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=PA,dc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=PA,dc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,HA,KA);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=MA+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,HA,KA),t);break}bc(e,HA,KA);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SA(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,HA,KA),r);break}bc(e,HA,KA);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=DA;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=HA,HA=n,null!==t&&oc(t)),e}function oc(e){null===HA?HA=e:HA.push.apply(HA,e)}function ac(e,t){for(t&=~LA,t&=~OA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Ac(e){if(0!==(6&TA))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=PA,dc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,HA,KA),rc(e,Ye()),null}function cc(e,t){var n=TA;TA|=1;try{return e(t)}finally{0===(TA=n)&&(jA=Ye()+500,Di&&ji())}}function lc(e){null!==WA&&0===WA.tag&&0===(6&TA)&&Cc();var t=TA;TA|=1;var n=IA.transition,r=yt;try{if(IA.transition=null,yt=1,e)return e()}finally{yt=r,IA.transition=n,0===(6&(TA=t))&&ji()}}function uc(){QA=_A.current,Ei(_A)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==UA)for(n=UA.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Js(),Ei(xi),Ei(Ti),no();break;case 5:Xs(r);break;case 4:Js();break;case 13:case 19:Ei(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:uc()}n=n.return}if(xA=e,UA=e=_c(e.current,null),FA=QA=t,RA=0,PA=null,LA=OA=NA=0,HA=DA=null,null!==Fs){for(t=0;t<Fs.length;t++)if(null!==(r=(n=Fs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Fs=null}return e}function hc(e,t){for(;;){var n=UA;try{if(ks(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,Ao=ao=oo=null,lo=!1,uo=0,kA.current=null,null===n||null===n.return){RA=1,PA=t,UA=null;break}e:{var o=e,a=n.return,A=n,c=t;if(t=FA,A.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,u=A,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ma(p,a,A,0,t),1&p.mode&&fa(o,l,t),c=l;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fa(o,l,t),fc();break e}c=Error(s(426))}else if(is&&1&A.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,A,0,t),ps(ca(c,A));break e}}o=c=ca(c,A),4!==RA&&(RA=2),null===DA?DA=[o]:DA.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ha(0,c,t));break e;case 1:A=c;var w=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof w.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===GA||!GA.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(o,A,t));break e}}o=o.return}while(null!==o)}vc(n)}catch(v){t=v,UA===n&&null!==n&&(UA=n=n.return);continue}break}}function pc(){var e=EA.current;return EA.current=Xo,null===e?Xo:e}function fc(){0!==RA&&3!==RA&&2!==RA||(RA=4),null===xA||0===(268435455&NA)&&0===(268435455&OA)||ac(xA,FA)}function gc(e,t){var n=TA;TA|=2;var r=pc();for(xA===e&&FA===t||(KA=null,dc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(ks(),TA=n,EA.current=r,null!==UA)throw Error(s(261));return xA=null,FA=0,RA}function mc(){for(;null!==UA;)yc(UA)}function wc(){for(;null!==UA&&!ze();)yc(UA)}function yc(e){var t=BA(e.alternate,e,QA);e.memoizedProps=e.pendingProps,null===t?vc(e):UA=t,kA.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,QA)))return void(UA=n)}else{if(null!==(n=Wa(n,t)))return n.flags&=32767,void(UA=n);if(null===e)return RA=6,void(UA=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(UA=t);UA=t=e}while(null!==t);0===RA&&(RA=5)}function bc(e,t,n){var r=yt,i=IA.transition;try{IA.transition=null,yt=1,function(e,t,n,r){do{Cc()}while(null!==WA);if(0!==(6&TA))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===xA&&(UA=xA=null,FA=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$A||($A=!0,xc(tt,(function(){return Cc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=IA.transition,IA.transition=null;var a=yt;yt=1;var A=TA;TA|=4,kA.current=null,function(e,t){if(ei=Vt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,A=-1,c=-1,l=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(A=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(A=a),h===o&&++u===r&&(c=a),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===A||-1===c?null:{start:A,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,m=f.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),m);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}f=tA,tA=!1}(e,n),gA(n,e),pr(ti),Vt=!!ei,ti=ei=null,e.current=n,wA(n,e,i),Je(),TA=A,yt=a,IA.transition=o}else e.current=n;if($A&&($A=!1,WA=e,zA=i),o=e.pendingLanes,0===o&&(GA=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(VA)throw VA=!1,e=qA,qA=null,e;0!==(1&zA)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===YA?JA++:(JA=0,YA=e):JA=0,ji()}(e,t,n,r)}finally{IA.transition=i,yt=r}return null}function Cc(){if(null!==WA){var e=vt(zA),t=IA.transition,n=yt;try{if(IA.transition=null,yt=16>e?16:e,null===WA)var r=!1;else{if(e=WA,WA=null,zA=0,0!==(6&TA))throw Error(s(331));var i=TA;for(TA|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var A=o.deletions;if(null!==A){for(var c=0;c<A.length;c++){var l=A[c];for(Xa=l;null!==Xa;){var u=Xa;switch(u.tag){case 0:case 11:case 15:nA(8,u,o)}var d=u.child;if(null!==d)d.return=u,Xa=d;else for(;null!==Xa;){var h=(u=Xa).sibling,p=u.return;if(sA(u),u===l){Xa=null;break}if(null!==h){h.return=p,Xa=h;break}Xa=p}}}var f=o.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nA(9,o,o.return)}var w=o.sibling;if(null!==w){w.return=o.return,Xa=w;break e}Xa=o.return}}var y=e.current;for(Xa=y;null!==Xa;){var v=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==v)v.return=a,Xa=v;else e:for(a=y;null!==Xa;){if(0!==(2048&(A=Xa).flags))try{switch(A.tag){case 0:case 11:case 15:rA(9,A)}}catch(C){Sc(A,A.return,C)}if(A===a){Xa=null;break e}var b=A.sibling;if(null!==b){b.return=A.return,Xa=b;break e}Xa=A.return}}if(TA=i,ji(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{yt=n,IA.transition=t}}return!1}function Bc(e,t,n){e=Ds(e,t=ha(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Bc(e,e,n);else for(;null!==t;){if(3===t.tag){Bc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===GA||!GA.has(r))){t=Ds(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,xA===e&&(FA&n)===n&&(4===RA||3===RA&&(130023424&FA)===FA&&500>Ye()-MA?dc(e,0):LA|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Rs(e,t))&&(mt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function xc(e,t){return $e(e,t)}function Uc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new Uc(e,t,n,r)}function Qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Qc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case B:return Pc(n.children,i,o,t);case S:a=8,i|=8;break;case E:return(e=Fc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case x:return(e=Fc(13,n,t,i)).elementType=x,e.lanes=o,e;case U:return(e=Fc(19,n,t,i)).elementType=U,e.lanes=o,e;case _:return Nc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case I:a=9;break e;case T:a=11;break e;case F:a=14;break e;case Q:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Fc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function Nc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,i,s,o,a,A){return e=new Dc(e,t,n,a,A),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Fc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function Mc(e){if(!e)return Ii;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Qi(n))return Pi(e,n,t)}return t}function jc(e,t,n,r,i,s,o,a,A){return(e=Hc(n,r,!0,e,0,s,0,a,A)).context=Mc(null),n=e.current,(s=Ls(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ds(n,s,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Mc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ls(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ds(i,t,o))&&(nc(e,i,o,s),Hs(e,i,o)),o}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}BA=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:xa(t),hs();break;case 5:Ys(t);break;case 1:Qi(t.type)&&Ni(t);break;case 4:zs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Cs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oa(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Va(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ja(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Va(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Fi(t,Ti.current);xs(t,n),i=go(null,t,r,e,i,n);var o=mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qi(r)?(o=!0,Ni(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ns(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,Aa(t,r,e,n),t=Ta(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),va(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Qc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===F)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(xa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Os(e,t),js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ua(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Ua(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===i){t=Va(e,t,n);break e}va(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ea(e,t),va(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Oa(e,t,n);case 4:return zs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vs(t,null,r,n):va(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return va(e,t,t.pendingProps,n),t.child;case 8:case 12:return va(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(Cs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!xi.current){t=Va(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var A=o.dependencies;if(null!==A){a=o.child;for(var c=A.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ls(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var u=(l=l.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ts(o.return,n,t),A.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(A=a.alternate)&&(A.lanes|=n),Ts(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}va(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xs(t,n),r=r(i=Us(i)),t.flags|=1,va(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ca(e,t,r,i=na(r.type,i),n);case 15:return Ba(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ka(e,t),t.tag=1,Qi(r)?(e=!0,Ni(t)):e=!1,xs(t,n),oa(t,r,i),Aa(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function zc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Vc(o);a.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Vc(o);s.call(e)}}var o=jc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,jr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vc(A);a.call(e)}}var A=Hc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=A,e[pi]=A.current,jr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,A,n,r)})),A}(n,t,e,i,r);return Vc(o)}zc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},zc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Ot(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(wt(t,1|n),rc(t,Ye()),0===(6&TA)&&(jA=Ye()+500,ji()))}break;case 13:lc((function(){var t=Rs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},Ct=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Bt=function(e){if(13===e.tag){var t=tc(e),n=Rs(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ce=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));$(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,xe=lc;var el={usingClientEntryPoint:!1,Events:[yi,vi,bi,ke,Ie,cc]},tl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),st=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new zc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(lc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},824:e=>{"use strict";const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let i=0;i<r.length;i++)n=r[i].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let s=3;s<r.length;s++){const i=r[s],o=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(o){const r=t.parseRtpMap(o),s=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(r.parameters=s.length?t.parseFmtp(s[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),s=-1!==r.fecMechanisms.indexOf("ULPFEC"),o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),a=o.length>0&&o[0].ssrc;let A;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===a&&(A=c[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&A&&(t.rtx={ssrc:A}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:s?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&a&&n.push({ssrc:a});let l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=l}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const s=t.matchPrefix(e,"a=rtcp-mux");return n.mux=s.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const s=t.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};const o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){const e=o[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let i;const s=void 0!==n?n:2;i=e||t.generateSessionId();return"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+s+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t},853:(e,t,n)=>{"use strict";e.exports=n(234)},877:(e,t,n)=>{var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var s=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var s=0;s<n.length;s+=1)null!=e[s+1]&&(t[n[s]]=r(e[s+1]))}(n.match(e.reg),s,e.names,e.name),e.push&&t[e.push].push(s)},s=n(321),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var a=0;a<(s[t]||[]).length;a+=1){var A=s[t][a];if(A.reg.test(o))return i(A,r,o)}})),t.media=n,t};var a=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},900:(e,t)=>{t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,A=(1<<a)-1,c=A>>1,l=-7,u=n?i-1:0,d=n?-1:1,h=e[t+u];for(u+=d,s=h&(1<<-l)-1,h>>=-l,l+=a;l>0;s=256*s+e[t+u],u+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+e[t+u],u+=d,l-=8);if(0===s)s=1-c;else{if(s===A)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),s-=c}return(h?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,A,c=8*s-i-1,l=(1<<c)-1,u=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,p=r?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(A=Math.pow(2,-o))<1&&(o--,A*=2),(t+=o+u>=1?d/A:d*Math.pow(2,1-u))*A>=2&&(o++,A/=2),o+u>=l?(a=0,o=l):o+u>=1?(a=(t*A-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+h]=255&o,h+=p,o/=256,c-=8);e[n+h-p]|=128*f}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".5b3843f6.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="doctorapp-leapgen:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,A;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(A=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),A&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],A=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(A)A(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkdoctorapp_leapgen=self.webpackChunkdoctorapp_leapgen||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>dd,Encoder:()=>ld,PacketType:()=>cd,protocol:()=>Ad});var t={};n.r(t),n.d(t,{fixNegotiationNeeded:()=>Eg,shimAddTrackRemoveTrack:()=>Bg,shimAddTrackRemoveTrackWithNative:()=>Cg,shimGetDisplayMedia:()=>gg,shimGetSendersWithDtmf:()=>yg,shimGetStats:()=>vg,shimGetUserMedia:()=>fg,shimMediaStream:()=>mg,shimOnTrack:()=>wg,shimPeerConnection:()=>Sg,shimSenderReceiverGetStats:()=>bg});var r={};n.r(r),n.d(r,{shimAddTransceiver:()=>Rg,shimCreateAnswer:()=>Og,shimCreateOffer:()=>Ng,shimGetDisplayMedia:()=>Ig,shimGetParameters:()=>Pg,shimGetUserMedia:()=>kg,shimOnTrack:()=>Tg,shimPeerConnection:()=>xg,shimRTCDataChannel:()=>_g,shimReceiverGetStats:()=>Fg,shimRemoveStream:()=>Qg,shimSenderGetStats:()=>Ug});var i={};n.r(i),n.d(i,{shimAudioContext:()=>Gg,shimCallbacksAPI:()=>Hg,shimConstraints:()=>jg,shimCreateOfferLegacy:()=>qg,shimGetUserMedia:()=>Mg,shimLocalStreamsAPI:()=>Lg,shimRTCIceServerUrls:()=>Kg,shimRemoteStreamsAPI:()=>Dg,shimTrackEventTransceiver:()=>Vg});var s={};n.r(s),n.d(s,{removeExtmapAllowMixed:()=>em,shimAddIceCandidateNullOrEmpty:()=>tm,shimConnectionState:()=>Zg,shimMaxMessageSize:()=>Yg,shimParameterlessSetLocalDescription:()=>nm,shimRTCIceCandidate:()=>zg,shimRTCIceCandidateRelayProtocol:()=>Jg,shimSendThrowTypeError:()=>Xg});var o={};n.r(o),n.d(o,{hasBrowserEnv:()=>ay,hasStandardBrowserEnv:()=>cy,hasStandardBrowserWebWorkerEnv:()=>ly,navigator:()=>Ay,origin:()=>uy});var a=n(43),A=n.t(a,2),c=n(391);var l=n(461);const u=A.useInsertionEffect,d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?a.useLayoutEffect:a.useEffect,h=u||d,p=e=>{const t=a.useRef([e,function(){return t[0](...arguments)}]).current;return h((()=>{t[0]=e})),t[1]},f="pushState",g="replaceState",m=["popstate",f,g,"hashchange"],w=e=>{for(const t of m)addEventListener(t,e);return()=>{for(const t of m)removeEventListener(t,e)}},y=(e,t)=>(0,l.useSyncExternalStore)(w,e,t),v=()=>location.search,b=()=>location.pathname,C=function(){let{ssrPath:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(b,e?()=>e:b)},B=function(e){let{replace:t=!1,state:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return history[t?g:f](n,"",e)},S=Symbol.for("wouter_v3");if("undefined"!==typeof history&&"undefined"===typeof window[S]){for(const e of[f,g]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,S,{value:!0})}const E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/"===e?"":e},k=function(){let e=arguments.length>1?arguments[1]:void 0;return((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(I(E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")),I(e))},I=e=>{try{return decodeURI(e)}catch(t){return e}},T={hook:function(){return[C(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),B]},searchHook:function(){let{ssrSearch:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(v,(()=>e))},parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,s,o=[],a="",A=e.split("/");for(A[0]||A.shift();i=A.shift();)"*"===(n=i[0])?(o.push(n),a+="?"===i[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},x=(0,a.createContext)(T),U=()=>(0,a.useContext)(x),F={},Q=(0,a.createContext)(F),_=e=>{const[t,n]=e.hook(e);return[k(e.base,t),p(((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):E(t)+e)(t,e.base),r)))]},R=()=>_(U()),P=(e,t,n,r)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[a,...A]=o;return void 0!==a?[!0,(()=>{const e=!1!==s?Object.fromEntries(s.map(((e,t)=>[e,A[t]]))):o.groups;let t={...A};return e&&Object.assign(t,e),t})(),...r?[a]:[]]:[!1,null]},N=e=>{let{children:t,...n}=e;const r=U(),i=n.hook?T:r;let s=i;const[o,A]=n.ssrPath?.split("?")??[];A&&(n.ssrSearch=A,n.ssrPath=o),n.hrefs=n.hrefs??n.hook?.hrefs;let c=(0,a.useRef)({}),l=c.current,u=l;for(let a in i){const e="base"===a?i[a]+(n[a]||""):n[a]||i[a];l===u&&e!==u[a]&&(c.current=u={...u}),u[a]=e,e!==i[a]&&(s=u)}return(0,a.createElement)(x.Provider,{value:s,children:t})},O=(e,t)=>{let{children:n,component:r}=e;return r?(0,a.createElement)(r,{params:t}):"function"===typeof n?n(t):n};const L=e=>{let{path:t,nest:n,match:r,...i}=e;const s=U(),[o]=_(s),[A,c,l]=r??P(s.parser,t,o,n),u=(e=>{let t=(0,a.useRef)(F);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some((e=>{let[t,r]=e;return r!==n[t]}))?e:n})({...(0,a.useContext)(Q),...c});if(!A)return null;const d=l?(0,a.createElement)(N,{base:l},O(i,u)):O(i,u);return(0,a.createElement)(Q.Provider,{value:u,children:d})},D=(0,a.forwardRef)(((e,t)=>{const n=U(),[r,i]=_(n),{to:s="",href:o=s,onClick:A,asChild:c,children:l,className:u,replace:d,state:h,...f}=e,g=p((t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(A?.(t),t.defaultPrevented||(t.preventDefault(),i(o,e)))})),m=n.hrefs("~"===o[0]?o.slice(1):n.base+o,n);return c&&(0,a.isValidElement)(l)?(0,a.cloneElement)(l,{onClick:g,href:m}):(0,a.createElement)("a",{...f,onClick:g,href:m,className:u?.call?u(r===o):u,children:l,ref:t})})),H=e=>Array.isArray(e)?e.flatMap((e=>H(e&&e.type===a.Fragment?e.props.children:e))):[e],M=e=>{let{children:t,location:n}=e;const r=U(),[i]=_(r);for(const s of H(t)){let e=0;if((0,a.isValidElement)(s)&&(e=P(r.parser,s.props.path,n||i,s.props.nest))[0])return(0,a.cloneElement)(s,{match:e})}return null};var j="undefined"===typeof window||"Deno"in globalThis;function K(){}function V(e){return"number"===typeof e&&e>=0&&e!==1/0}function q(e,t){return Math.max(e+(t||0)-Date.now(),0)}function G(e,t){return"function"===typeof e?e(t):e}function $(e,t){return"function"===typeof e?e(t):e}function W(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o)if(r){if(t.queryHash!==J(o,t.options))return!1}else if(!X(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function z(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Y(t.options.mutationKey)!==Y(s))return!1}else if(!X(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function J(e,t){return(t?.queryKeyHashFn||Y)(e)}function Y(e){return JSON.stringify(e,((e,t)=>ne(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function X(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((n=>X(e[n],t[n]))))}function Z(e,t){if(e===t)return e;const n=te(e)&&te(t);if(n||ne(e)&&ne(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{};let A=0;for(let c=0;c<o;c++){const i=n?c:s[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,A++):(a[i]=Z(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&A++)}return i===o&&A===i?e:a}return t}function ee(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function te(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ne(e){if(!re(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!re(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function re(e){return"[object Object]"===Object.prototype.toString.call(e)}function ie(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Z(e,t):t}function se(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ae=Symbol();function Ae(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==ae?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var ce=e=>setTimeout(e,0);var le=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=ce;const s=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return o},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s((()=>{e(...n)}))},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),ue=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},de=new class extends ue{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!j&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},he=new class extends ue{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!j&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function pe(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function fe(e){return Math.min(1e3*2**e,3e4)}function ge(e){return"online"!==(e??"online")||he.isOnline()}var me=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function we(e){return e instanceof me}function ye(e){let t,n=!1,r=0,i=!1;const s=pe(),o=()=>de.isFocused()&&("always"===e.networkMode||he.isOnline())&&e.canRun(),a=()=>ge(e.networkMode)&&e.canRun(),A=n=>{i||(i=!0,e.onSuccess?.(n),t?.(),s.resolve(n))},c=n=>{i||(i=!0,e.onError?.(n),t?.(),s.reject(n))},l=()=>new Promise((n=>{t=e=>{(i||o())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,i||e.onContinue?.()})),u=()=>{if(i)return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(A).catch((t=>{if(i)return;const s=e.retry??(j?0:3),a=e.retryDelay??fe,A="function"===typeof a?a(r,t):a,d=!0===s||"number"===typeof s&&r<s||"function"===typeof s&&s(r,t);var h;!n&&d?(r++,e.onFail?.(r,t),(h=A,new Promise((e=>{setTimeout(e,h)}))).then((()=>o()?void 0:l())).then((()=>{n?c(t):u()}))):c(t)}))};return{promise:s,cancel:t=>{i||(c(new me(t)),e.abort?.())},continue:()=>(t?.(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?u():l().then(u),s)}}var ve=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(j?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},be=class extends ve{#s;#o;#a;#A;#c;#l;#u;constructor(e){super(),this.#u=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#A=e.client,this.#a=this.#A.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=ie(this.state.data,e,this.options);return this.#d({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(K).catch(K):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some((e=>!1!==$(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ae||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!q(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#c&&(this.#u?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#u=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#A,state:this.state,fetchFn:()=>{const e=Ae(this.options,t),n={client:this.#A,queryKey:this.queryKey,meta:this.meta};return r(n),this.#u=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#o=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#d({type:"fetch",meta:i.fetchOptions?.meta});const s=e=>{we(e)&&e.silent||this.#d({type:"error",error:e}),we(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=ye({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void s(t)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else s(new Error(`${this.queryHash} data is undefined`))},onError:s,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#c.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Ce(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return we(n)&&n.revert&&this.#o?{...this.#o,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),le.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function Ce(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ge(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Be=class extends ue{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#h=new Map}#h;build(e,t,n){const r=t.queryKey,i=t.queryHash??J(r,t);let s=this.get(i);return s||(s=new be({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){le.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>W(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>W(e,t))):t}notify(e){le.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){le.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){le.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},Se=class extends ve{#p;#f;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#f=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#f.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter((t=>t!==e)),this.scheduleGc(),this.#f.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#f.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#d({type:"continue"})};this.#c=ye({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#f.canRun(this)});const n="pending"===this.state.status,r=!this.#c.canStart();try{if(n)t();else{this.#d({type:"pending",variables:e,isPaused:r}),await(this.#f.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:r})}const i=await this.#c.start();return await(this.#f.config.onSuccess?.(i,e,this.state.context,this)),await(this.options.onSuccess?.(i,e,this.state.context)),await(this.#f.config.onSettled?.(i,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(i,null,e,this.state.context)),this.#d({type:"success",data:i}),i}catch(i){try{throw await(this.#f.config.onError?.(i,e,this.state.context,this)),await(this.options.onError?.(i,e,this.state.context)),await(this.#f.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,i,e,this.state.context)),i}finally{this.#d({type:"error",error:i})}}finally{this.#f.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),le.batch((()=>{this.#p.forEach((t=>{t.onMutationUpdate(e)})),this.#f.notify({mutation:this,type:"updated",action:e})}))}};var Ee=class extends ue{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#g=new Set,this.#m=new Map,this.#w=0}#g;#m;#w;build(e,t,n){const r=new Se({mutationCache:this,mutationId:++this.#w,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#g.add(e);const t=ke(e);if("string"===typeof t){const n=this.#m.get(t);n?n.push(e):this.#m.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=ke(e);if("string"===typeof t){const n=this.#m.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#m.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ke(e);if("string"===typeof t){const n=this.#m.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=ke(e);if("string"===typeof t){const n=this.#m.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){le.batch((()=>{this.#g.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#g.clear(),this.#m.clear()}))}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>z(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>z(e,t)))}notify(e){le.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return le.batch((()=>Promise.all(e.map((e=>e.continue().catch(K))))))}};function ke(e){return e.options.scope?.id}function Ie(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},A=0;const c=async()=>{let n=!1;const c=Ae(t.options,t.fetchOptions),l=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var o;o=s,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const a=await c(s),{maxPages:A}=t.options,l=i?oe:se;return{pages:l(e.pages,a,A),pageParams:l(e.pageParams,r,A)}};if(i&&s.length){const e="backward"===i,t={pages:s,pageParams:o},n=(e?xe:Te)(r,t);a=await l(t,n,e)}else{const t=e??s.length;do{const e=0===A?o[0]??r.initialPageParam:Te(r,a);if(A>0&&null==e)break;a=await l(a,e),A++}while(A<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Te(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function xe(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}async function Ue(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Fe(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Ue(r),r}const Qe=new class{#y;#f;#l;#v;#b;#C;#B;#S;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#y=e.queryCache||new Be,this.#f=e.mutationCache||new Ee,this.#l=e.defaultOptions||{},this.#v=new Map,this.#b=new Map,this.#C=0}mount(){this.#C++,1===this.#C&&(this.#B=de.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#y.onFocus())})),this.#S=he.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#y.onOnline())})))}unmount(){this.#C--,0===this.#C&&(this.#B?.(),this.#B=void 0,this.#S?.(),this.#S=void 0)}isFetching(e){return this.#y.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#f.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#y.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#y.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(G(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#y.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#y.get(r.queryHash),s=i?.state.data,o=function(e,t){return"function"===typeof e?e(t):e}(t,s);if(void 0!==o)return this.#y.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return le.batch((()=>this.#y.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#y.get(t.queryHash)?.state}removeQueries(e){const t=this.#y;le.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#y;return le.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=le.batch((()=>this.#y.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(K).catch(K)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return le.batch((()=>(this.#y.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=le.batch((()=>this.#y.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(K)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(K)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#y.build(this,t);return n.isStaleByTime(G(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(K).catch(K)}fetchInfiniteQuery(e){return e.behavior=Ie(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(K).catch(K)}ensureInfiniteQueryData(e){return e.behavior=Ie(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return he.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#y}getMutationCache(){return this.#f}getDefaultOptions(){return this.#l}setDefaultOptions(e){this.#l=e}setQueryDefaults(e,t){this.#v.set(Y(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#v.values()],n={};return t.forEach((t=>{X(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#b.set(Y(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#b.values()],n={};return t.forEach((t=>{X(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#l.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=J(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ae&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#l.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#y.clear(),this.#f.clear()}}({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:n}=e;const r=await fetch(n[0],{credentials:"include"});return"returnNull"===t&&401===r.status?null:(await Ue(r),await r.json())}})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var _e=n(579),Re=a.createContext(void 0),Pe=e=>{const t=a.useContext(Re);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ne=e=>{let{client:t,children:n}=e;return a.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,_e.jsx)(Re.Provider,{value:t,children:n})};const Oe="ADD_TOAST",Le="UPDATE_TOAST",De="DISMISS_TOAST",He="REMOVE_TOAST";let Me=0;const je=new Map,Ke=e=>{if(je.has(e))return;const t=setTimeout((()=>{je.delete(e),$e({type:He,toastId:e})}),1e6);je.set(e,t)},Ve=(e,t)=>{switch(t.type){case Oe:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case Le:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case De:{const{toastId:n}=t;return n?Ke(n):e.toasts.forEach((e=>{Ke(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case He:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},qe=[];let Ge={toasts:[]};function $e(e){Ge=Ve(Ge,e),qe.forEach((e=>{e(Ge)}))}function We(e){let{...t}=e;const n=(Me=(Me+1)%Number.MAX_SAFE_INTEGER,Me.toString()),r=()=>$e({type:De,toastId:n});return $e({type:Oe,toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>$e({type:Le,toast:{...e,id:n}})}}function ze(){const[e,t]=(0,a.useState)(Ge);return(0,a.useEffect)((()=>(qe.push(t),()=>{const e=qe.indexOf(t);e>-1&&qe.splice(e,1)})),[e]),{...e,toast:We,dismiss:e=>$e({type:De,toastId:e})}}var Je=n(950);function Ye(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function Xe(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=Xe(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():Xe(t[e],null)}}}}function et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useCallback(Ze(...t),t)}function tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const r=()=>{const t=n.map((e=>a.createContext(e)));return function(n){const r=n?.[e]||t;return a.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=a.createContext(r),s=n.length;n=[...n,r];const o=t=>{const{scope:n,children:r,...o}=t,A=n?.[e]?.[s]||i,c=a.useMemo((()=>o),Object.values(o));return(0,_e.jsx)(A.Provider,{value:c,children:r})};return o.displayName=t+"Provider",[o,function(n,o){const A=o?.[e]?.[s]||i,c=a.useContext(A);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},nt(r,...t)]}function nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:r,scopeName:i}=n;return{...e,...r(t)[`__scope${i}`]}}),{});return a.useMemo((()=>({[`__scope${r.scopeName}`]:n})),[n])}};return i.scopeName=r.scopeName,i}function rt(e){const t=st(e),n=a.forwardRef(((e,n)=>{const{children:r,...i}=e,s=a.Children.toArray(r),o=s.find(at);if(o){const e=o.props.children,r=s.map((t=>t===o?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t));return(0,_e.jsx)(t,{...i,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,_e.jsx)(t,{...i,ref:n,children:r})}));return n.displayName=`${e}.Slot`,n}var it=rt("Slot");function st(e){const t=a.forwardRef(((e,t)=>{const{children:n,...r}=e;if(a.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){s(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?Ze(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null}));return t.displayName=`${e}.SlotClone`,t}var ot=Symbol("radix.slottable");function at(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ot}function At(e){const t=e+"CollectionProvider",[n,r]=tt(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=a.useRef(null),s=a.useRef(new Map).current;return(0,_e.jsx)(i,{scope:t,itemMap:s,collectionRef:r,children:n})};o.displayName=t;const A=e+"CollectionSlot",c=rt(A),l=a.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=et(t,s(A,n).collectionRef);return(0,_e.jsx)(c,{ref:i,children:r})}));l.displayName=A;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=rt(u),p=a.forwardRef(((e,t)=>{const{scope:n,children:r,...i}=e,o=a.useRef(null),A=et(t,o),c=s(u,n);return a.useEffect((()=>(c.itemMap.set(o,{ref:o,...i}),()=>{c.itemMap.delete(o)}))),(0,_e.jsx)(h,{[d]:"",ref:A,children:r})}));return p.displayName=u,[{Provider:o,Slot:l,ItemSlot:p},function(t){const n=s(e+"CollectionConsumer",t);return a.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},r]}var ct=new WeakMap;Map;function lt(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=ut(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function ut(e){return e!==e||0===e?0:Math.trunc(e)}var dt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((e,t)=>{const n=rt(`Primitive.${t}`),r=a.forwardRef(((e,r)=>{const{asChild:i,...s}=e,o=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,_e.jsx)(o,{...s,ref:r})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function ht(e,t){e&&Je.flushSync((()=>e.dispatchEvent(t)))}function pt(e){const t=a.useRef(e);return a.useEffect((()=>{t.current=e})),a.useMemo((()=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current?.(...n)}),[])}var ft,gt="dismissableLayer.update",mt="dismissableLayer.pointerDownOutside",wt="dismissableLayer.focusOutside",yt=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vt=a.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:A,...c}=e,l=a.useContext(yt),[u,d]=a.useState(null),h=u?.ownerDocument??globalThis?.document,[,p]=a.useState({}),f=et(t,(e=>d(e))),g=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(m),y=u?g.indexOf(u):-1,v=l.layersWithOutsidePointerEventsDisabled.size>0,b=y>=w,C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=pt(e),r=a.useRef(!1),i=a.useRef((()=>{}));return a.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Bt(mt,n,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...l.branches].some((e=>e.contains(t)));b&&!n&&(i?.(e),o?.(e),e.defaultPrevented||A?.())}),h),B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=pt(e),r=a.useRef(!1);return a.useEffect((()=>{const e=e=>{if(e.target&&!r.current){Bt(wt,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...l.branches].some((e=>e.contains(t)))||(s?.(e),o?.(e),e.defaultPrevented||A?.())}),h);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=pt(e);a.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{y===l.layers.size-1&&(r?.(e),!e.defaultPrevented&&A&&(e.preventDefault(),A()))}),h),a.useEffect((()=>{if(u)return n&&(0===l.layersWithOutsidePointerEventsDisabled.size&&(ft=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Ct(),()=>{n&&1===l.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=ft)}}),[u,h,n,l]),a.useEffect((()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Ct())}),[u,l]),a.useEffect((()=>{const e=()=>p({});return document.addEventListener(gt,e),()=>document.removeEventListener(gt,e)}),[]),(0,_e.jsx)(dt.div,{...c,ref:f,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,C.onPointerDownCapture)})}));vt.displayName="DismissableLayer";var bt=a.forwardRef(((e,t)=>{const n=a.useContext(yt),r=a.useRef(null),i=et(t,r);return a.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),(0,_e.jsx)(dt.div,{...e,ref:i})}));function Ct(){const e=new CustomEvent(gt);document.dispatchEvent(e)}function Bt(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?ht(s,o):s.dispatchEvent(o)}bt.displayName="DismissableLayerBranch";var St=vt,Et=bt,kt=globalThis?.document?a.useLayoutEffect:()=>{},It=a.forwardRef(((e,t)=>{const{container:n,...r}=e,[i,s]=a.useState(!1);kt((()=>s(!0)),[]);const o=n||i&&globalThis?.document?.body;return o?Je.createPortal((0,_e.jsx)(dt.div,{...r,ref:t}),o):null}));It.displayName="Portal";var Tt=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=a.useState(),r=a.useRef(null),i=a.useRef(e),s=a.useRef("none"),o=e?"mounted":"unmounted",[A,c]=function(e,t){return a.useReducer(((e,n)=>t[e][n]??e),e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect((()=>{const e=xt(r.current);s.current="mounted"===A?e:"none"}),[A]),kt((()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,o=xt(t);if(e)c("MOUNT");else if("none"===o||"none"===t?.display)c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),kt((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=s=>{const o=xt(r.current).includes(s.animationName);if(s.target===t&&o&&(c("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},a=e=>{e.target===t&&(s.current=xt(r.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:a.useCallback((e=>{r.current=e?getComputedStyle(e):null,n(e)}),[])}}(t),i="function"===typeof n?n({present:r.isPresent}):a.Children.only(n),s=et(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?a.cloneElement(i,{ref:s}):null};function xt(e){return e?.animationName||"none"}Tt.displayName="Presence";var Ut=A[" useInsertionEffect ".trim().toString()]||kt;function Ft(e){let{prop:t,defaultProp:n,onChange:r=()=>{},caller:i}=e;const[s,o,A]=function(e){let{defaultProp:t,onChange:n}=e;const[r,i]=a.useState(t),s=a.useRef(r),o=a.useRef(n);return Ut((()=>{o.current=n}),[n]),a.useEffect((()=>{s.current!==r&&(o.current?.(r),s.current=r)}),[r,s]),[r,i,o]}({defaultProp:n,onChange:r}),c=void 0!==t,l=c?t:s;{const e=a.useRef(void 0!==t);a.useEffect((()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}e.current=c}),[c,i])}const u=a.useCallback((e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(t):e;n!==t&&A.current?.(n)}else o(e)}),[c,t,o,A]);return[l,u]}Symbol("RADIX:SYNC_STATE");var Qt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_t=a.forwardRef(((e,t)=>(0,_e.jsx)(dt.span,{...e,ref:t,style:{...Qt,...e.style}})));_t.displayName="VisuallyHidden";var Rt="ToastProvider",[Pt,Nt,Ot]=At("Toast"),[Lt,Dt]=tt("Toast",[Ot]),[Ht,Mt]=Lt(Rt),jt=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[A,c]=a.useState(null),[l,u]=a.useState(0),d=a.useRef(!1),h=a.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rt}\`. Expected non-empty \`string\`.`),(0,_e.jsx)(Pt.Provider,{scope:t,children:(0,_e.jsx)(Ht,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:l,viewport:A,onViewportChange:c,onToastAdd:a.useCallback((()=>u((e=>e+1))),[]),onToastRemove:a.useCallback((()=>u((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};jt.displayName=Rt;var Kt="ToastViewport",Vt=["F8"],qt="toast.viewportPause",Gt="toast.viewportResume",$t=a.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:r=Vt,label:i="Notifications ({hotkey})",...s}=e,o=Mt(Kt,n),A=Nt(n),c=a.useRef(null),l=a.useRef(null),u=a.useRef(null),d=a.useRef(null),h=et(t,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=o.toastCount>0;a.useEffect((()=>{const e=e=>{0!==r.length&&r.every((t=>e[t]||e.code===t))&&d.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),a.useEffect((()=>{const e=c.current,t=d.current;if(f&&e&&t){const n=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(qt);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(Gt);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[f,o.isClosePausedRef]);const g=a.useCallback((e=>{let{tabbingDirection:t}=e;const n=A().map((e=>{const n=e.ref.current,r=[n,...hn(n)];return"forwards"===t?r:r.reverse()}));return("forwards"===t?n.reverse():n).flat()}),[A]);return a.useEffect((()=>{const e=d.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,r=t.shiftKey;if(t.target===e&&r)return void l.current?.focus();const i=g({tabbingDirection:r?"backwards":"forwards"}),s=i.findIndex((e=>e===n));pn(i.slice(s+1))?t.preventDefault():r?l.current?.focus():u.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[A,g]),(0,_e.jsxs)(Et,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&(0,_e.jsx)(zt,{ref:l,onFocusFromOutsideViewport:()=>{pn(g({tabbingDirection:"forwards"}))}}),(0,_e.jsx)(Pt.Slot,{scope:n,children:(0,_e.jsx)(dt.ol,{tabIndex:-1,...s,ref:h})}),f&&(0,_e.jsx)(zt,{ref:u,onFocusFromOutsideViewport:()=>{pn(g({tabbingDirection:"backwards"}))}})]})}));$t.displayName=Kt;var Wt="ToastFocusProxy",zt=a.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=Mt(Wt,n);return(0,_e.jsx)(_t,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!s.viewport?.contains(t)&&r()}})}));zt.displayName=Wt;var Jt="Toast",Yt=a.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=e,[a,A]=Ft({prop:r,defaultProp:i??!0,onChange:s,caller:Jt});return(0,_e.jsx)(Tt,{present:n||a,children:(0,_e.jsx)(en,{open:a,...o,ref:t,onClose:()=>A(!1),onPause:pt(e.onPause),onResume:pt(e.onResume),onSwipeStart:Ye(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Ye(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:Ye(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Ye(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),A(!1)}))})})}));Yt.displayName=Jt;var[Xt,Zt]=Lt(Jt,{onClose(){}}),en=a.forwardRef(((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:A,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:p,...f}=e,g=Mt(Jt,n),[m,w]=a.useState(null),y=et(t,(e=>w(e))),v=a.useRef(null),b=a.useRef(null),C=i||g.duration,B=a.useRef(0),S=a.useRef(C),E=a.useRef(0),{onToastAdd:k,onToastRemove:I}=g,T=pt((()=>{const e=m?.contains(document.activeElement);e&&g.viewport?.focus(),o()})),x=a.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(E.current),B.current=(new Date).getTime(),E.current=window.setTimeout(T,e))}),[T]);a.useEffect((()=>{const e=g.viewport;if(e){const t=()=>{x(S.current),l?.()},n=()=>{const e=(new Date).getTime()-B.current;S.current=S.current-e,window.clearTimeout(E.current),c?.()};return e.addEventListener(qt,n),e.addEventListener(Gt,t),()=>{e.removeEventListener(qt,n),e.removeEventListener(Gt,t)}}}),[g.viewport,C,c,l,x]),a.useEffect((()=>{s&&!g.isClosePausedRef.current&&x(C)}),[s,C,g.isClosePausedRef,x]),a.useEffect((()=>(k(),()=>I())),[k,I]);const U=a.useMemo((()=>m?ln(m):null),[m]);return g.viewport?(0,_e.jsxs)(_e.Fragment,{children:[U&&(0,_e.jsx)(tn,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:U}),(0,_e.jsx)(Xt,{scope:n,onClose:T,children:Je.createPortal((0,_e.jsx)(Pt.ItemSlot,{scope:n,children:(0,_e.jsx)(St,{asChild:!0,onEscapeKeyDown:Ye(A,(()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1})),children:(0,_e.jsx)(dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...f,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ye(e.onKeyDown,(e=>{"Escape"===e.key&&(A?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))})),onPointerDown:Ye(e.onPointerDown,(e=>{0===e.button&&(v.current={x:e.clientX,y:e.clientY})})),onPointerMove:Ye(e.onPointerMove,(e=>{if(!v.current)return;const t=e.clientX-v.current.x,n=e.clientY-v.current.y,r=Boolean(b.current),i=["left","right"].includes(g.swipeDirection),s=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,o=i?s(0,t):0,a=i?0:s(0,n),A="touch"===e.pointerType?10:2,c={x:o,y:a},l={originalEvent:e,delta:c};r?(b.current=c,un("toast.swipeMove",d,l,{discrete:!1})):dn(c,g.swipeDirection,A)?(b.current=c,un("toast.swipeStart",u,l,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>A||Math.abs(n)>A)&&(v.current=null)})),onPointerUp:Ye(e.onPointerUp,(e=>{const t=b.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),b.current=null,v.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};dn(t,g.swipeDirection,g.swipeThreshold)?un("toast.swipeEnd",p,r,{discrete:!0}):un("toast.swipeCancel",h,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),g.viewport)})]}):null})),tn=e=>{const{__scopeToast:t,children:n,...r}=e,i=Mt(Jt,t),[s,o]=a.useState(!1),[A,c]=a.useState(!1);return function(){const e=pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});kt((()=>{let t=0,n=0;return t=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(e))),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}}),[e])}((()=>o(!0))),a.useEffect((()=>{const e=window.setTimeout((()=>c(!0)),1e3);return()=>window.clearTimeout(e)}),[]),A?null:(0,_e.jsx)(It,{asChild:!0,children:(0,_e.jsx)(_t,{...r,children:s&&(0,_e.jsxs)(_e.Fragment,{children:[i.label," ",n]})})})},nn=a.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,_e.jsx)(dt.div,{...r,ref:t})}));nn.displayName="ToastTitle";var rn=a.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,_e.jsx)(dt.div,{...r,ref:t})}));rn.displayName="ToastDescription";var sn="ToastAction",on=a.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?(0,_e.jsx)(cn,{altText:n,asChild:!0,children:(0,_e.jsx)(An,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sn}\`. Expected non-empty \`string\`.`),null)}));on.displayName=sn;var an="ToastClose",An=a.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,i=Zt(an,n);return(0,_e.jsx)(cn,{asChild:!0,children:(0,_e.jsx)(dt.button,{type:"button",...r,ref:t,onClick:Ye(e.onClick,i.onClose)})})}));An.displayName=an;var cn=a.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return(0,_e.jsx)(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})}));function ln(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...ln(e))}})),t}function un(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?ht(s,o):s.dispatchEvent(o)}var dn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return"left"===t||"right"===t?s&&r>n:!s&&i>n};function hn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pn(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var fn=jt,gn=$t,mn=Yt,wn=nn,yn=rn,vn=An;const bn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")};var Cn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Bn=(0,a.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:A,iconNode:c,...l}=e;return(0,a.createElement)("svg",{ref:t,...Cn,width:r,height:r,stroke:n,strokeWidth:s?24*Number(i)/Number(r):i,className:bn("lucide",o),...l},[...c.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...Array.isArray(A)?A:[A]])})),Sn=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{className:i,...s}=n;return(0,a.createElement)(Bn,{ref:r,iconNode:t,className:bn(`lucide-${o=e,o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...s});var o}));return n.displayName=`${e}`,n},En=Sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function kn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kn(e))&&(r&&(r+=" "),r+=t);return r}const Tn=In,xn=e=>{const t=_n(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Un(n,t)||Qn(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},Un=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Un(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(s)}))?.classGroupId},Fn=/^\[(.+)\]$/,Qn=e=>{if(Fn.test(e)){const t=Fn.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},_n=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return On(Object.entries(e.classGroups),n).forEach((e=>{let[n,i]=e;Rn(i,r,n,t)})),r},Rn=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return Nn(e)?void Rn(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,s]=e;Rn(s,Pn(t,i),n,r)}))}else{(""===e?t:Pn(t,e)).classGroupId=n}}))},Pn=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},Nn=e=>e.isThemeGetter,On=(e,t)=>t?e.map((e=>{let[n,r]=e;const i=r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e));return[n,i]})):e,Ln=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Dn=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,o=e=>{const n=[];let o,a=0,A=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===i&&(r||e.slice(u,u+s)===t)){n.push(e.slice(A,u)),A=u+s;continue}if("/"===c){o=u;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(A),l=c.startsWith("!");return{modifiers:n,hasImportantModifier:l,baseClassName:l?c.substring(1):c,maybePostfixModifierPosition:o&&o>A?o-A:void 0}};return n?e=>n({className:e,parseClassName:o}):o},Hn=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},Mn=/\s+/;function jn(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Kn(e))&&(r&&(r+=" "),r+=t);return r}const Kn=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Kn(e[r]))&&(n&&(n+=" "),n+=t);return n};function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,s,o,a=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=(e=>({cache:Ln(e.cacheSize),parseClassName:Dn(e),...xn(e)}))(r),s=i.cache.get,o=i.cache.set,a=A,A(t)};function A(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Mn);let a="";for(let A=o.length-1;A>=0;A-=1){const e=o[A],{modifiers:t,hasImportantModifier:c,baseClassName:l,maybePostfixModifierPosition:u}=n(e);let d=Boolean(u),h=r(d?l.substring(0,u):l);if(!h){if(!d){a=e+(a.length>0?" "+a:a);continue}if(h=r(l),!h){a=e+(a.length>0?" "+a:a);continue}d=!1}const p=Hn(t).join(":"),f=c?p+"!":p,g=f+h;if(s.includes(g))continue;s.push(g);const m=i(h,d);for(let n=0;n<m.length;++n){const e=m[n];s.push(f+e)}a=e+(a.length>0?" "+a:a)}return a})(e,i);return o(e,n),n}return function(){return a(jn.apply(null,arguments))}}const qn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Gn=/^\[(?:([a-z-]+):)?(.+)\]$/i,$n=/^\d+\/\d+$/,Wn=new Set(["px","full","screen"]),zn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,er=e=>nr(e)||Wn.has(e)||$n.test(e),tr=e=>fr(e,"length",gr),nr=e=>Boolean(e)&&!Number.isNaN(Number(e)),rr=e=>fr(e,"number",nr),ir=e=>Boolean(e)&&Number.isInteger(Number(e)),sr=e=>e.endsWith("%")&&nr(e.slice(0,-1)),or=e=>Gn.test(e),ar=e=>zn.test(e),Ar=new Set(["length","size","percentage"]),cr=e=>fr(e,Ar,mr),lr=e=>fr(e,"position",mr),ur=new Set(["image","url"]),dr=e=>fr(e,ur,yr),hr=e=>fr(e,"",wr),pr=()=>!0,fr=(e,t,n)=>{const r=Gn.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},gr=e=>Jn.test(e)&&!Yn.test(e),mr=()=>!1,wr=e=>Xn.test(e),yr=e=>Zn.test(e),vr=(Symbol.toStringTag,()=>{const e=qn("colors"),t=qn("spacing"),n=qn("blur"),r=qn("brightness"),i=qn("borderColor"),s=qn("borderRadius"),o=qn("borderSpacing"),a=qn("borderWidth"),A=qn("contrast"),c=qn("grayscale"),l=qn("hueRotate"),u=qn("invert"),d=qn("gap"),h=qn("gradientColorStops"),p=qn("gradientColorStopPositions"),f=qn("inset"),g=qn("margin"),m=qn("opacity"),w=qn("padding"),y=qn("saturate"),v=qn("scale"),b=qn("sepia"),C=qn("skew"),B=qn("space"),S=qn("translate"),E=()=>["auto",or,t],k=()=>[or,t],I=()=>["",er,tr],T=()=>["auto",nr,or],x=()=>["","0",or],U=()=>[nr,or];return{cacheSize:500,separator:":",theme:{colors:[pr],spacing:[er,tr],blur:["none","",ar,or],brightness:U(),borderColor:[e],borderRadius:["none","","full",ar,or],borderSpacing:k(),borderWidth:I(),contrast:U(),grayscale:x(),hueRotate:U(),invert:x(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[sr,tr],inset:E(),margin:E(),opacity:U(),padding:k(),saturate:U(),scale:U(),sepia:x(),skew:U(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",or]}],container:["container"],columns:[{columns:[ar]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",or]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ir,or]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",or]}],grow:[{grow:x()}],shrink:[{shrink:x()}],order:[{order:["first","last","none",ir,or]}],"grid-cols":[{"grid-cols":[pr]}],"col-start-end":[{col:["auto",{span:["full",ir,or]},or]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[pr]}],"row-start-end":[{row:["auto",{span:[ir,or]},or]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",or]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",or,t]}],"min-w":[{"min-w":[or,t,"min","max","fit"]}],"max-w":[{"max-w":[or,t,"none","full","min","max","fit","prose",{screen:[ar]},ar]}],h:[{h:[or,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[or,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[or,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[or,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ar,tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rr]}],"font-family":[{font:[pr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",or]}],"line-clamp":[{"line-clamp":["none",nr,rr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",er,or]}],"list-image":[{"list-image":["none",or]}],"list-style-type":[{list:["none","disc","decimal",or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",er,tr]}],"underline-offset":[{"underline-offset":["auto",er,or]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",lr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cr]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dr]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[er,or]}],"outline-w":[{outline:[er,tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[er,tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ar,hr]}],"shadow-color":[{shadow:[pr]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",ar,or]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",or]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",or]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[ir,or]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",or]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",or]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",or]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[er,tr,rr]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),br=Vn(vr);function Cr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return br(In(t))}const Br=fn,Sr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)(gn,{ref:t,className:Cr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...r})}));Sr.displayName=gn.displayName;const Er=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)(mn,{ref:t,className:Cr("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",n),...r})}));Er.displayName=mn.displayName;const kr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)(vn,{ref:t,className:Cr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...r,children:(0,_e.jsx)(En,{className:"h-4 w-4"})})}));kr.displayName=vn.displayName;const Ir=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)(wn,{ref:t,className:Cr("text-sm font-semibold [&+div]:text-xs",n),...r})}));Ir.displayName=wn.displayName;const Tr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)(yn,{ref:t,className:Cr("text-sm opacity-90",n),...r})}));function xr(){const{toasts:e}=ze();return(0,_e.jsxs)(Br,{children:[e.map((function(e){let{id:t,title:n,description:r,action:i,...s}=e;return(0,_e.jsxs)(Er,{...s,children:[(0,_e.jsxs)("div",{className:"grid gap-1",children:[n&&(0,_e.jsx)(Ir,{children:n}),r&&(0,_e.jsx)(Tr,{children:r})]}),i,(0,_e.jsx)(kr,{})]},t)})),(0,_e.jsx)(Sr,{})]})}Tr.displayName=yn.displayName;const Ur=Sn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Fr=Sn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Qr=Sn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),_r=Sn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Rr=Sn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Pr=Sn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Nr=Sn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Or=Sn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Lr=()=>{const[e]=R(),t=t=>"/"===t&&"/"===e||!("/"===t||!e.startsWith(t));return(0,_e.jsxs)("div",{className:"w-64 bg-neutral-800 text-white h-screen flex flex-col shadow-lg flex-shrink-0",children:[(0,_e.jsxs)("div",{className:"p-4 border-b border-neutral-700 flex items-center",children:[(0,_e.jsx)(Ur,{className:"w-8 h-8 mr-2"}),(0,_e.jsx)("h1",{className:"text-xl font-semibold",children:"Seismic Connect"})]}),(0,_e.jsxs)("nav",{className:"flex-1 overflow-y-auto py-4",children:[(0,_e.jsx)("div",{className:"px-4 mb-3 text-neutral-400 text-xs font-semibold uppercase tracking-wider",children:"Main"}),(0,_e.jsx)(D,{href:"/",children:(0,_e.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,_e.jsx)(Fr,{className:"w-5 h-5 mr-3"}),"Dashboard"]})}),(0,_e.jsx)(D,{href:"/appointments",children:(0,_e.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/appointments")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,_e.jsx)(Qr,{className:"w-5 h-5 mr-3"}),"Appointments"]})}),(0,_e.jsx)(D,{href:"/video-call",children:(0,_e.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/video-call")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,_e.jsx)(_r,{className:"w-5 h-5 mr-3"}),"Video Call"]})}),(0,_e.jsx)(D,{href:"/patients",children:(0,_e.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/patients")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,_e.jsx)(Rr,{className:"w-5 h-5 mr-3"}),"Patients"]})}),(0,_e.jsx)("div",{className:"px-4 mt-6 mb-3 text-neutral-400 text-xs font-semibold uppercase tracking-wider",children:"Administration"}),(0,_e.jsx)(D,{href:"/reports",children:(0,_e.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/reports")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,_e.jsx)(Pr,{className:"w-5 h-5 mr-3"}),"Reports"]})}),(0,_e.jsx)(D,{href:"/settings",children:(0,_e.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/settings")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,_e.jsx)(Nr,{className:"w-5 h-5 mr-3"}),"Settings"]})})]}),(0,_e.jsx)("div",{className:"p-4 border-t border-neutral-700",children:(0,_e.jsxs)("button",{className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-neutral-700 rounded hover:bg-neutral-600",children:[(0,_e.jsx)(Or,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})},Dr=Sn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Hr=Sn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var Mr=class extends ue{constructor(e,t){super(),this.options=t,this.#A=e,this.#E=null,this.#k=pe(),this.options.experimental_prefetchInRender||this.#k.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#A;#I=void 0;#T=void 0;#x=void 0;#U;#F;#k;#E;#Q;#_;#R;#P;#N;#O;#L=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#I.addObserver(this),jr(this.#I,this.options)?this.#D():this.updateResult(),this.#H())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kr(this.#I,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kr(this.#I,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#M(),this.#j(),this.#I.removeObserver(this)}setOptions(e){const t=this.options,n=this.#I;if(this.options=this.#A.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof $(this.options.enabled,this.#I))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#K(),this.#I.setOptions(this.options),t._defaulted&&!ee(this.options,t)&&this.#A.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#I,observer:this});const r=this.hasListeners();r&&Vr(this.#I,n,this.options,t)&&this.#D(),this.updateResult(),!r||this.#I===n&&$(this.options.enabled,this.#I)===$(t.enabled,this.#I)&&G(this.options.staleTime,this.#I)===G(t.staleTime,this.#I)||this.#V();const i=this.#q();!r||this.#I===n&&$(this.options.enabled,this.#I)===$(t.enabled,this.#I)&&i===this.#O||this.#G(i)}getOptimisticResult(e){const t=this.#A.getQueryCache().build(this.#A,e),n=this.createResult(t,e);return function(e,t){if(!ee(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#x=n,this.#F=this.options,this.#U=this.#I.state),n}getCurrentResult(){return this.#x}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#L.add(e)}getCurrentQuery(){return this.#I}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#A.defaultQueryOptions(e),n=this.#A.getQueryCache().build(this.#A,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#D({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#x)))}#D(e){this.#K();let t=this.#I.fetch(this.options,e);return e?.throwOnError||(t=t.catch(K)),t}#V(){this.#M();const e=G(this.options.staleTime,this.#I);if(j||this.#x.isStale||!V(e))return;const t=q(this.#x.dataUpdatedAt,e)+1;this.#P=setTimeout((()=>{this.#x.isStale||this.updateResult()}),t)}#q(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#I):this.options.refetchInterval)??!1}#G(e){this.#j(),this.#O=e,!j&&!1!==$(this.options.enabled,this.#I)&&V(this.#O)&&0!==this.#O&&(this.#N=setInterval((()=>{(this.options.refetchIntervalInBackground||de.isFocused())&&this.#D()}),this.#O))}#H(){this.#V(),this.#G(this.#q())}#M(){this.#P&&(clearTimeout(this.#P),this.#P=void 0)}#j(){this.#N&&(clearInterval(this.#N),this.#N=void 0)}createResult(e,t){const n=this.#I,r=this.options,i=this.#x,s=this.#U,o=this.#F,a=e!==n?e.state:this.#T,{state:A}=e;let c,l={...A},u=!1;if(t._optimisticResults){const i=this.hasListeners(),s=!i&&jr(e,t),o=i&&Vr(e,n,t,r);(s||o)&&(l={...l,...Ce(A.data,e.options)}),"isRestoring"===t._optimisticResults&&(l.fetchStatus="idle")}let{error:d,errorUpdatedAt:h,status:p}=l;c=l.data;let f=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(e=i.data,f=!0):e="function"===typeof t.placeholderData?t.placeholderData(this.#R?.state.data,this.#R):t.placeholderData,void 0!==e&&(p="success",c=ie(i?.data,e,t),u=!0)}if(t.select&&void 0!==c&&!f)if(i&&c===s?.data&&t.select===this.#Q)c=this.#_;else try{this.#Q=t.select,c=t.select(c),c=ie(i?.data,c,t),this.#_=c,this.#E=null}catch(C){this.#E=C}this.#E&&(d=this.#E,c=this.#_,h=Date.now(),p="error");const g="fetching"===l.fetchStatus,m="pending"===p,w="error"===p,y=m&&g,v=void 0!==c,b={status:p,fetchStatus:l.fetchStatus,isPending:m,isSuccess:"success"===p,isError:w,isInitialLoading:y,isLoading:y,data:c,dataUpdatedAt:l.dataUpdatedAt,error:d,errorUpdatedAt:h,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>a.dataUpdateCount||l.errorUpdateCount>a.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:w&&!v,isPaused:"paused"===l.fetchStatus,isPlaceholderData:u,isRefetchError:w&&v,isStale:qr(e,t),refetch:this.refetch,promise:this.#k};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===b.status?e.reject(b.error):void 0!==b.data&&e.resolve(b.data)},r=()=>{const e=this.#k=b.promise=pe();t(e)},i=this.#k;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":"error"!==b.status&&b.data===i.value||r();break;case"rejected":"error"===b.status&&b.error===i.reason||r()}}return b}updateResult(){const e=this.#x,t=this.createResult(this.#I,this.options);if(this.#U=this.#I.state,this.#F=this.options,void 0!==this.#U.data&&(this.#R=this.#I),ee(t,e))return;this.#x=t;this.#$({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!this.#L.size)return!0;const r=new Set(n??this.#L);return this.options.throwOnError&&r.add("error"),Object.keys(this.#x).some((t=>{const n=t;return this.#x[n]!==e[n]&&r.has(n)}))})()})}#K(){const e=this.#A.getQueryCache().build(this.#A,this.options);if(e===this.#I)return;const t=this.#I;this.#I=e,this.#T=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#H()}#$(e){le.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#x)})),this.#A.getQueryCache().notify({query:this.#I,type:"observerResultsUpdated"})}))}};function jr(e,t){return function(e,t){return!1!==$(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Kr(e,t,t.refetchOnMount)}function Kr(e,t,n){if(!1!==$(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&qr(e,t)}return!1}function Vr(e,t,n,r){return(e!==t||!1===$(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&qr(e,n)}function qr(e,t){return!1!==$(t.enabled,e)&&e.isStaleByTime(G(t.staleTime,e))}function Gr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $r=a.createContext(Gr());function Wr(e,t){return"function"===typeof e?e(...t):!!e}function zr(){}var Jr=a.createContext(!1),Yr=(Jr.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function Xr(e,t,n){const r=Pe(n),i=a.useContext(Jr),s=a.useContext($r),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(o),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(o,s),(e=>{a.useEffect((()=>{e.clearReset()}),[e])})(s);const A=!r.getQueryCache().get(o.queryHash),[c]=a.useState((()=>new t(r,o))),l=c.getOptimisticResult(o),u=!i&&!1!==e.subscribed;if(a.useSyncExternalStore(a.useCallback((e=>{const t=u?c.subscribe(le.batchCalls(e)):zr;return c.updateResult(),t}),[c,u]),(()=>c.getCurrentResult()),(()=>c.getCurrentResult())),a.useEffect((()=>{c.setOptions(o)}),[o,c]),((e,t)=>e?.suspense&&t.isPending)(o,l))throw Yr(o,c,s);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:i,suspense:s}=e;return t.isError&&!n.isReset()&&!t.isFetching&&i&&(s&&void 0===t.data||Wr(r,[t.error,i]))})({result:l,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw l.error;if(r.getDefaultOptions().queries?._experimental_afterQuery?.(o,l),o.experimental_prefetchInRender&&!j&&((e,t)=>e.isLoading&&e.isFetching&&!t)(l,i)){const e=A?Yr(o,c,s):r.getQueryCache().get(o.queryHash)?.promise;e?.catch(zr).finally((()=>{c.updateResult()}))}return o.notifyOnChangeProps?l:c.trackResult(l)}function Zr(e,t){return Xr(e,Mr,t)}const ei=()=>{var e;const{data:t,isLoading:n}=Zr({queryKey:["/api/users/1"],staleTime:3e5}),r=new URLSearchParams(window.location.search).get("role");return(0,_e.jsx)("header",{className:"bg-white border-b border-neutral-200 shadow-sm",children:(0,_e.jsxs)("div",{className:"px-6 py-3 flex items-center justify-between",children:[(0,_e.jsxs)("div",{className:"flex items-center",children:[(0,_e.jsx)("h1",{className:"text-xl font-semibold text-neutral-800",children:"Healthcare Dashboard"}),"patient"!==r&&(0,_e.jsxs)("div",{className:"hidden md:flex items-center ml-6 space-x-4",children:[(0,_e.jsx)("div",{className:"text-sm text-primary-500 font-medium cursor-pointer",onClick:()=>window.location.href="/",children:"Overview"}),(0,_e.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/appointments",children:"Appointments"}),(0,_e.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/patients",children:"Patients"}),(0,_e.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/reports",children:"Reports"})]})]}),(0,_e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,_e.jsxs)("div",{className:"relative",children:[(0,_e.jsx)("input",{type:"text",placeholder:"Search",className:"pl-10 pr-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-64 text-sm"}),(0,_e.jsx)(Dr,{className:"w-5 h-5 text-neutral-400 absolute left-3 top-2.5"})]}),(0,_e.jsx)("button",{className:"p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-full",children:(0,_e.jsx)(Hr,{className:"w-5 h-5"})}),n?(0,_e.jsx)("div",{className:"h-8 w-8 rounded-full bg-neutral-200 animate-pulse"}):(0,_e.jsxs)("div",{className:"flex items-center",children:[null!==t&&void 0!==t&&t.profileImage?(0,_e.jsx)("img",{src:t.profileImage,alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):(0,_e.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center text-white font-medium text-sm",children:(null===t||void 0===t||null===(e=t.fullName)||void 0===e?void 0:e.charAt(0))||"U"}),(0,_e.jsxs)("div",{className:"ml-2",children:[(0,_e.jsx)("p",{className:"text-sm font-medium text-neutral-800",children:(null===t||void 0===t?void 0:t.fullName)||"Loading..."}),(0,_e.jsx)("p",{className:"text-xs text-neutral-500",children:(null===t||void 0===t?void 0:t.specialty)||(null===t||void 0===t?void 0:t.role)||"Staff"})]})]})]})]})})},ti=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("div",{ref:t,className:Cr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})}));ti.displayName="Card";const ni=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("div",{ref:t,className:Cr("flex flex-col space-y-1.5 p-6",n),...r})}));ni.displayName="CardHeader";const ri=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("h3",{ref:t,className:Cr("text-2xl font-semibold leading-none tracking-tight",n),...r})}));ri.displayName="CardTitle";a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("p",{ref:t,className:Cr("text-sm text-muted-foreground",n),...r})})).displayName="CardDescription";const ii=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("div",{ref:t,className:Cr("p-6 pt-0",n),...r})}));ii.displayName="CardContent";a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("div",{ref:t,className:Cr("flex items-center p-6 pt-0",n),...r})})).displayName="CardFooter";const si=e=>{let{variant:t="default",size:n="default",className:r}=e;return Cr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground shadow hover:bg-primary/90":"default"===t,"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90":"destructive"===t,"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground":"outline"===t,"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80":"secondary"===t,"bg-ghost text-ghost-foreground hover:bg-ghost/80":"ghost"===t,"bg-link text-link-foreground hover:bg-link/80":"link"===t},{"h-9 px-4 py-2":"default"===n,"h-7 rounded-md px-3":"sm"===n,"h-10 rounded-md px-8":"lg"===n,"h-9 w-9":"icon"===n},r)},oi=a.forwardRef(((e,t)=>{let{className:n,variant:r,size:i,asChild:s=!1,...o}=e;const a=s?it:"button";return(0,_e.jsx)(a,{className:Cr(si({variant:r,size:i,className:n})),ref:t,...o})}));oi.displayName="Button";const ai=()=>{const{data:e}=Zr({queryKey:["/api/users/1"]}),t=((null===e||void 0===e?void 0:e.fullName)||"Doctor").split(" ")[0];return(0,_e.jsxs)(ti,{className:"mb-6 overflow-hidden",children:[(0,_e.jsxs)("div",{className:"bg-blue-600 text-white p-6",children:[(0,_e.jsx)("h1",{className:"text-2xl font-semibold",children:"Welcome to Seismic Connect"}),(0,_e.jsxs)("p",{className:"text-blue-100 mt-2",children:["Hello, ",t,"! Manage your telehealth practice with our integrated platform."]})]}),(0,_e.jsx)(ii,{className:"p-6",children:(0,_e.jsxs)("div",{className:"prose max-w-none",children:[(0,_e.jsx)("p",{className:"text-neutral-700 text-lg",children:"Seismic Connect helps medical professionals like you deliver quality care through telehealth. Our platform streamlines appointment management, video consultations, and patient documentation in one place."}),(0,_e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,_e.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,_e.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,_e.jsx)(_r,{className:"h-6 w-6 text-blue-600"})}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Video Consultations"}),(0,_e.jsx)("p",{className:"text-sm text-neutral-600",children:"Connect with patients virtually through secure, HIPAA-compliant video calls."})]})]}),(0,_e.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,_e.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,_e.jsx)(Qr,{className:"h-6 w-6 text-blue-600"})}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Appointment Management"}),(0,_e.jsx)("p",{className:"text-sm text-neutral-600",children:"Schedule and track patient appointments with an intuitive calendar interface."})]})]}),(0,_e.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,_e.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,_e.jsx)(Pr,{className:"h-6 w-6 text-blue-600"})}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Clinical Documentation"}),(0,_e.jsx)("p",{className:"text-sm text-neutral-600",children:"Maintain comprehensive patient notes and clinical documentation."})]})]}),(0,_e.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,_e.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,_e.jsx)(Rr,{className:"h-6 w-6 text-blue-600"})}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Patient Management"}),(0,_e.jsx)("p",{className:"text-sm text-neutral-600",children:"Search and manage your patient database with integrated EMR features."})]})]})]}),(0,_e.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4",children:[(0,_e.jsx)(D,{href:"/appointments",children:(0,_e.jsxs)(oi,{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,_e.jsx)(Qr,{className:"h-4 w-4"}),"View Appointments"]})}),(0,_e.jsx)(D,{href:"/video-call",children:(0,_e.jsxs)(oi,{variant:"outline",className:"flex items-center gap-2 text-blue-600 border-blue-600 hover:bg-blue-50",children:[(0,_e.jsx)(_r,{className:"h-4 w-4"}),"Start Video Call"]})})]})]})})]})};var Ai="Progress",ci=100,[li,ui]=tt(Ai),[di,hi]=li(Ai),pi=a.forwardRef(((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=mi,...o}=e;!i&&0!==i||vi(i)||console.error(`Invalid prop \`max\` of value \`${`${i}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const a=vi(i)?i:ci;null===r||bi(r,a)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const A=bi(r,a)?r:null,c=yi(A)?s(A,a):void 0;return(0,_e.jsx)(di,{scope:n,value:A,max:a,children:(0,_e.jsx)(dt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":yi(A)?A:void 0,"aria-valuetext":c,role:"progressbar","data-state":wi(A,a),"data-value":A??void 0,"data-max":a,...o,ref:t})})}));pi.displayName=Ai;var fi="ProgressIndicator",gi=a.forwardRef(((e,t)=>{const{__scopeProgress:n,...r}=e,i=hi(fi,n);return(0,_e.jsx)(dt.div,{"data-state":wi(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})}));function mi(e,t){return`${Math.round(e/t*100)}%`}function wi(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function yi(e){return"number"===typeof e}function vi(e){return yi(e)&&!isNaN(e)&&e>0}function bi(e,t){return yi(e)&&!isNaN(e)&&e<=t&&e>=0}gi.displayName=fi;var Ci=pi,Bi=gi;const Si=a.forwardRef(((e,t)=>{let{className:n,value:r,...i}=e;return(0,_e.jsx)(Ci,{ref:t,className:Cr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...i,children:(0,_e.jsx)(Bi,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}));function Ei(e){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}function ki(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ii(e){ki(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Ei(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ti(e){if(ki(1,arguments),!function(e){return ki(1,arguments),e instanceof Date||"object"===Ei(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Ii(e);return!isNaN(Number(t))}function xi(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ui(e,t){return ki(2,arguments),function(e,t){ki(2,arguments);var n=Ii(e).getTime(),r=xi(t);return new Date(n+r)}(e,-xi(t))}Si.displayName=Ci.displayName;function Fi(e){ki(1,arguments);var t=Ii(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Qi(e){ki(1,arguments);var t=Ii(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Fi(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Fi(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _i(e){ki(1,arguments);var t=Ii(e),n=Fi(t).getTime()-function(e){ki(1,arguments);var t=Qi(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Fi(n)}(t).getTime();return Math.round(n/6048e5)+1}var Ri={};function Pi(){return Ri}function Ni(e,t){var n,r,i,s,o,a,A,c;ki(1,arguments);var l=Pi(),u=xi(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(A=l.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Ii(e),h=d.getUTCDay(),p=(h<u?7:0)+h-u;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function Oi(e,t){var n,r,i,s,o,a,A,c;ki(1,arguments);var l=Ii(e),u=l.getUTCFullYear(),d=Pi(),h=xi(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(A=d.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(u+1,0,h),p.setUTCHours(0,0,0,0);var f=Ni(p,t),g=new Date(0);g.setUTCFullYear(u,0,h),g.setUTCHours(0,0,0,0);var m=Ni(g,t);return l.getTime()>=f.getTime()?u+1:l.getTime()>=m.getTime()?u:u-1}function Li(e,t){ki(1,arguments);var n=Ii(e),r=Ni(n,t).getTime()-function(e,t){var n,r,i,s,o,a,A,c;ki(1,arguments);var l=Pi(),u=xi(null!==(n=null!==(r=null!==(i=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(a=o.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(A=l.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),d=Oi(e,t),h=new Date(0);return h.setUTCFullYear(d,0,u),h.setUTCHours(0,0,0,0),Ni(h,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Di(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Hi={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Di("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Di(n+1,2)},d:function(e,t){return Di(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Di(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Di(e.getUTCHours(),t.length)},m:function(e,t){return Di(e.getUTCMinutes(),t.length)},s:function(e,t){return Di(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Di(Math.floor(r*Math.pow(10,n-3)),t.length)}};var Mi="midnight",ji="noon",Ki="morning",Vi="afternoon",qi="evening",Gi="night",$i={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Hi.y(e,t)},Y:function(e,t,n,r){var i=Oi(e,r),s=i>0?i:1-i;return"YY"===t?Di(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Di(s,t.length)},R:function(e,t){return Di(Qi(e),t.length)},u:function(e,t){return Di(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Di(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Di(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Hi.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Di(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Li(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Di(i,t.length)},I:function(e,t,n){var r=_i(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Di(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Hi.d(e,t)},D:function(e,t,n){var r=function(e){ki(1,arguments);var t=Ii(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Di(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Di(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Di(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Di(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?ji:0===i?Mi:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?qi:i>=12?Vi:i>=4?Ki:Gi,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hi.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Hi.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Di(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Di(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Hi.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Hi.s(e,t)},S:function(e,t){return Hi.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return zi(i);case"XXXX":case"XX":return Ji(i);default:return Ji(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return zi(i);case"xxxx":case"xx":return Ji(i);default:return Ji(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Wi(i,":");default:return"GMT"+Ji(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Wi(i,":");default:return"GMT"+Ji(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Di(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Di((r._originalDate||e).getTime(),t.length)}};function Wi(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(0===s)return n+String(i);var o=t||"";return n+String(i)+o+Di(s,2)}function zi(e,t){return e%60===0?(e>0?"-":"+")+Di(Math.abs(e)/60,2):Ji(e,t)}function Ji(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Di(Math.floor(i/60),2)+n+Di(i%60,2)}const Yi=$i;var Xi=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Zi=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},es={p:Zi,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return Xi(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Xi(i,t)).replace("{{time}}",Zi(s,t))}};const ts=es;var ns=["D","DD"],rs=["YY","YYYY"];function is(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ss={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const os=function(e,t,n){var r,i=ss[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function as(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const As={date:as({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:as({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:as({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var cs={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const ls=function(e,t,n,r){return cs[e]};function us(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const ds={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:us({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:us({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:us({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:us({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:us({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function hs(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o,a=s[0],A=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(A)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(A,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(A,(function(e){return e.test(a)}));return o=e.valueCallback?e.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(a.length)}}}var ps,fs={ordinalNumber:(ps={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(ps.matchPattern);if(!n)return null;var r=n[0],i=e.match(ps.parsePattern);if(!i)return null;var s=ps.valueCallback?ps.valueCallback(i[0]):i[0];return{value:s=t.valueCallback?t.valueCallback(s):s,rest:e.slice(r.length)}}),era:hs({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:hs({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hs({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:hs({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:hs({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const gs={code:"en-US",formatDistance:os,formatLong:As,formatRelative:ls,localize:ds,match:fs,options:{weekStartsOn:0,firstWeekContainsDate:1}};var ms=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ws=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ys=/^'([^]*?)'?$/,vs=/''/g,bs=/[a-zA-Z]/;function Cs(e,t,n){var r,i,s,o,a,A,c,l,u,d,h,p,f,g,m,w,y,v;ki(2,arguments);var b=String(t),C=Pi(),B=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:C.locale)&&void 0!==r?r:gs,S=xi(null!==(s=null!==(o=null!==(a=null!==(A=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==A?A:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:C.firstWeekContainsDate)&&void 0!==o?o:null===(u=C.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=xi(null!==(h=null!==(p=null!==(f=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(w=m.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:C.weekStartsOn)&&void 0!==p?p:null===(y=C.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==h?h:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var k=Ii(e);if(!Ti(k))throw new RangeError("Invalid time value");var I=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(k),T=Ui(k,I),x={firstWeekContainsDate:S,weekStartsOn:E,locale:B,_originalDate:k};return b.match(ws).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,ts[t])(e,B.formatLong):e})).join("").match(ms).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(ys);if(!t)return e;return t[1].replace(vs,"'")}(r);var s,o=Yi[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(s=r,-1===rs.indexOf(s))||is(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==ns.indexOf(e)}(r)||is(r,t,String(e)),o(T,r,B.localize,x);if(i.match(bs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}const Bs=e=>{let{date:t=Cs(new Date,"yyyy-MM-dd")}=e;const n=Cs(new Date(t),"MMMM d, yyyy"),{data:r,isLoading:i}=Zr({queryKey:[`/api/stats/appointments/${t}`]});if(i)return(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{className:"pb-2",children:(0,_e.jsx)(ri,{className:"text-lg",children:"Today's Appointments"})}),(0,_e.jsx)(ii,{children:(0,_e.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"}),(0,_e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_e.jsxs)("div",{className:"space-y-2",children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,_e.jsxs)("div",{className:"space-y-2",children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]})]})]})})]});const s=(null===r||void 0===r?void 0:r.totalAppointments)||0,o=(null===r||void 0===r?void 0:r.inPersonAppointments)||0,a=(null===r||void 0===r?void 0:r.virtualAppointments)||0,A=s>0?o/s*100:0,c=s>0?a/s*100:0;return(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{className:"pb-2",children:(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_e.jsx)(ri,{className:"text-lg",children:"Today's Appointments"}),(0,_e.jsx)("span",{className:"text-sm font-medium text-neutral-500",children:n})]})}),(0,_e.jsxs)(ii,{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"Total"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:s})]}),(0,_e.jsx)(Si,{value:100,className:"h-2 mb-4"}),(0,_e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"In-Person"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:o})]}),(0,_e.jsx)(Si,{value:A,className:"h-2 mb-2 bg-neutral-200"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"Virtual"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:a})]}),(0,_e.jsx)(Si,{value:c,className:"h-2 mb-2 bg-neutral-200"})]})]})]})]})},Ss=e=>{var t,n,r,i;let{date:s=Cs(new Date,"yyyy-MM-dd")}=e;const{data:o,isLoading:a}=Zr({queryKey:[`/api/stats/appointments/${s}`]});if(a)return(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{className:"pb-2",children:(0,_e.jsx)(ri,{className:"text-lg",children:"Appointment Status"})}),(0,_e.jsx)(ii,{children:(0,_e.jsx)("div",{className:"animate-pulse",children:(0,_e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]})]})})})]});const A=(null===o||void 0===o?void 0:o.totalAppointments)||0,c=(null===o||void 0===o||null===(t=o.statusBreakdown)||void 0===t?void 0:t.completed)||0,l=(null===o||void 0===o||null===(n=o.statusBreakdown)||void 0===n?void 0:n.inProgress)||0,u=(null===o||void 0===o||null===(r=o.statusBreakdown)||void 0===r?void 0:r.waiting)||0,d=(null===o||void 0===o||null===(i=o.statusBreakdown)||void 0===i?void 0:i.noShow)||0,h=A>0?c/A*100:0,p=A>0?l/A*100:0,f=A>0?u/A*100:0,g=A>0?d/A*100:0;return(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{className:"pb-2",children:(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_e.jsx)(ri,{className:"text-lg",children:"Appointment Status"}),(0,_e.jsx)("span",{className:"text-sm font-medium text-neutral-500",children:"Real-time"})]})}),(0,_e.jsx)(ii,{children:(0,_e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"Completed"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:c})]}),(0,_e.jsx)(Si,{value:h,className:"h-2 mb-3 bg-neutral-200"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"In Progress"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:l})]}),(0,_e.jsx)(Si,{value:p,className:"h-2 mb-3 bg-neutral-200"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"Waiting"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:u})]}),(0,_e.jsx)(Si,{value:f,className:"h-2 mb-3 bg-neutral-200"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:"No-Show"}),(0,_e.jsx)("span",{className:"text-neutral-800 font-semibold",children:d})]}),(0,_e.jsx)(Si,{value:g,className:"h-2 mb-3 bg-neutral-200"})]})]})})]})},Es=Sn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ks=e=>{let{date:t=Cs(new Date,"yyyy-MM-dd")}=e;const{data:n,isLoading:r}=Zr({queryKey:[`/api/stats/appointments/${t}`]}),{data:i,isLoading:s}=Zr({queryKey:["/api/users"]});if(r||s)return(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{className:"pb-2",children:(0,_e.jsx)(ri,{className:"text-lg",children:"Provider Workload"})}),(0,_e.jsx)(ii,{children:(0,_e.jsx)("div",{className:"animate-pulse",children:(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,_e.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]})]})})})]});const o=(null===n||void 0===n?void 0:n.providerWorkload)||[],a=Math.max(...o.map((e=>e.patientCount)),0),A=e=>{const t=null===i||void 0===i?void 0:i.find((t=>t.id===e));return(null===t||void 0===t?void 0:t.fullName)||`Provider #${e}`};return(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{className:"pb-2",children:(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,_e.jsx)(ri,{className:"text-lg",children:"Provider Workload"}),(0,_e.jsxs)(oi,{variant:"ghost",size:"sm",className:"text-primary-500",children:["View All",(0,_e.jsx)(Es,{className:"ml-1 w-4 h-4"})]})]})}),(0,_e.jsx)(ii,{children:(0,_e.jsxs)("div",{className:"space-y-4",children:[o.map((e=>(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,_e.jsx)("span",{className:"text-neutral-600 text-sm",children:A(e.providerId)}),(0,_e.jsxs)("span",{className:"text-neutral-800 font-semibold",children:[e.patientCount," patients"]})]}),(0,_e.jsx)(Si,{value:a>0?e.patientCount/a*100:0,className:"h-2 bg-neutral-200"})]},e.providerId))),0===o.length&&(0,_e.jsx)("div",{className:"text-center text-sm text-neutral-500 py-4",children:"No provider workload data available for this date."})]})})]})};const Is=function(){return(0,a.useEffect)((()=>{document.title="Dashboard - Seismic Connect"}),[]),(0,_e.jsxs)("div",{className:"space-y-6",children:[(0,_e.jsx)(ai,{}),(0,_e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,_e.jsx)(Bs,{}),(0,_e.jsx)(Ss,{}),(0,_e.jsx)(ks,{})]})]})};function Ts(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}var xs=a.createContext(void 0);var Us=0;function Fs(){a.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qs()),document.body.insertAdjacentElement("beforeend",e[1]??Qs()),Us++,()=>{1===Us&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),Us--}}),[])}function Qs(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _s="focusScope.autoFocusOnMount",Rs="focusScope.autoFocusOnUnmount",Ps={bubbles:!1,cancelable:!0},Ns=a.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[A,c]=a.useState(null),l=pt(i),u=pt(s),d=a.useRef(null),h=et(t,(e=>c(e))),p=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect((()=>{if(r){let e=function(e){if(p.paused||!A)return;const t=e.target;A.contains(t)?d.current=t:Hs(d.current,{select:!0})},t=function(e){if(p.paused||!A)return;const t=e.relatedTarget;null!==t&&(A.contains(t)||Hs(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Hs(A)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return A&&r.observe(A,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,A,p.paused]),a.useEffect((()=>{if(A){Ms.add(p);const t=document.activeElement;if(!A.contains(t)){const n=new CustomEvent(_s,Ps);A.addEventListener(_s,l),A.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(Hs(r,{select:t}),document.activeElement!==n)return}((e=Os(A),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&Hs(A))}return()=>{A.removeEventListener(_s,l),setTimeout((()=>{const e=new CustomEvent(Rs,Ps);A.addEventListener(Rs,u),A.dispatchEvent(e),e.defaultPrevented||Hs(t??document.body,{select:!0}),A.removeEventListener(Rs,u),Ms.remove(p)}),0)}}var e}),[A,l,u,p]);const f=a.useCallback((e=>{if(!n&&!r)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,s]=function(e){const t=Os(e),n=Ls(t,e),r=Ls(t.reverse(),e);return[n,r]}(t);r&&s?e.shiftKey||i!==s?e.shiftKey&&i===r&&(e.preventDefault(),n&&Hs(s,{select:!0})):(e.preventDefault(),n&&Hs(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,p.paused]);return(0,_e.jsx)(dt.div,{tabIndex:-1,...o,ref:h,onKeyDown:f})}));function Os(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ls(e,t){for(const n of e)if(!Ds(n,{upTo:t}))return n}function Ds(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Hs(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Ns.displayName="FocusScope";var Ms=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=js(e,t),e.unshift(t)},remove(t){e=js(e,t),e[0]?.resume()}}}();function js(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Ks=A[" useId ".trim().toString()]||(()=>{}),Vs=0;function qs(e){const[t,n]=a.useState(Ks());return kt((()=>{e||n((e=>e??String(Vs++)))}),[e]),e||(t?`radix-${t}`:"")}const Gs=["top","right","bottom","left"],$s=Math.min,Ws=Math.max,zs=Math.round,Js=Math.floor,Ys=e=>({x:e,y:e}),Xs={left:"right",right:"left",bottom:"top",top:"bottom"},Zs={start:"end",end:"start"};function eo(e,t,n){return Ws(e,$s(t,n))}function to(e,t){return"function"===typeof e?e(t):e}function no(e){return e.split("-")[0]}function ro(e){return e.split("-")[1]}function io(e){return"x"===e?"y":"x"}function so(e){return"y"===e?"height":"width"}function oo(e){return["top","bottom"].includes(no(e))?"y":"x"}function ao(e){return io(oo(e))}function Ao(e){return e.replace(/start|end/g,(e=>Zs[e]))}function co(e){return e.replace(/left|right|bottom|top/g,(e=>Xs[e]))}function lo(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function uo(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ho(e,t,n){let{reference:r,floating:i}=e;const s=oo(t),o=ao(t),a=so(o),A=no(t),c="y"===s,l=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(A){case"top":h={x:l,y:r.y-i.height};break;case"bottom":h={x:l,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-i.width,y:u};break;default:h={x:r.x,y:r.y}}switch(ro(t)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1)}return h}async function po(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:A}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:d=!1,padding:h=0}=to(t,e),p=lo(h),f=a[d?"floating"===u?"reference":"floating":u],g=uo(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(f)))||n?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:l,strategy:A})),m="floating"===u?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),y=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},v=uo(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:w,strategy:A}):m);return{top:(g.top-v.top+p.top)/y.y,bottom:(v.bottom-g.bottom+p.bottom)/y.y,left:(g.left-v.left+p.left)/y.x,right:(v.right-g.right+p.right)/y.x}}function fo(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function go(e){return Gs.some((t=>e[t]>=0))}function mo(){return"undefined"!==typeof window}function wo(e){return bo(e)?(e.nodeName||"").toLowerCase():"#document"}function yo(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function vo(e){var t;return null==(t=(bo(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function bo(e){return!!mo()&&(e instanceof Node||e instanceof yo(e).Node)}function Co(e){return!!mo()&&(e instanceof Element||e instanceof yo(e).Element)}function Bo(e){return!!mo()&&(e instanceof HTMLElement||e instanceof yo(e).HTMLElement)}function So(e){return!(!mo()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof yo(e).ShadowRoot)}function Eo(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Fo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function ko(e){return["table","td","th"].includes(wo(e))}function Io(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function To(e){const t=xo(),n=Co(e)?Fo(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function xo(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Uo(e){return["html","body","#document"].includes(wo(e))}function Fo(e){return yo(e).getComputedStyle(e)}function Qo(e){return Co(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _o(e){if("html"===wo(e))return e;const t=e.assignedSlot||e.parentNode||So(e)&&e.host||vo(e);return So(t)?t.host:t}function Ro(e){const t=_o(e);return Uo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bo(t)&&Eo(t)?t:Ro(t)}function Po(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Ro(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),o=yo(i);if(s){const e=No(o);return t.concat(o,o.visualViewport||[],Eo(i)?i:[],e&&n?Po(e):[])}return t.concat(i,Po(i,[],n))}function No(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Oo(e){const t=Fo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Bo(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=zs(n)!==s||zs(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Lo(e){return Co(e)?e:e.contextElement}function Do(e){const t=Lo(e);if(!Bo(t))return Ys(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=Oo(t);let o=(s?zs(n.width):n.width)/r,a=(s?zs(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const Ho=Ys(0);function Mo(e){const t=yo(e);return xo()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ho}function jo(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=Lo(e);let o=Ys(1);t&&(r?Co(r)&&(o=Do(r)):o=Do(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==yo(e))&&t}(s,n,r)?Mo(s):Ys(0);let A=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,l=i.width/o.x,u=i.height/o.y;if(s){const e=yo(s),t=r&&Co(r)?yo(r):r;let n=e,i=No(n);for(;i&&r&&t!==n;){const e=Do(i),t=i.getBoundingClientRect(),r=Fo(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;A*=e.x,c*=e.y,l*=e.x,u*=e.y,A+=s,c+=o,n=yo(i),i=No(n)}}return uo({width:l,height:u,x:A,y:c})}function Ko(e,t){const n=Qo(e).scrollLeft;return t?t.left+n:jo(vo(e)).left+n}function Vo(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Ko(e,r)),y:r.top+t.scrollTop}}function qo(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=yo(e),r=vo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,A=0;if(i){s=i.width,o=i.height;const e=xo();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,A=i.offsetTop)}return{width:s,height:o,x:a,y:A}}(e,n);else if("document"===t)r=function(e){const t=vo(e),n=Qo(e),r=e.ownerDocument.body,i=Ws(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ws(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ko(e);const a=-n.scrollTop;return"rtl"===Fo(r).direction&&(o+=Ws(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}(vo(e));else if(Co(t))r=function(e,t){const n=jo(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Bo(e)?Do(e):Ys(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:r*s.y}}(t,n);else{const n=Mo(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return uo(r)}function Go(e,t){const n=_o(e);return!(n===t||!Co(n)||Uo(n))&&("fixed"===Fo(n).position||Go(n,t))}function $o(e,t,n){const r=Bo(t),i=vo(t),s="fixed"===n,o=jo(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const A=Ys(0);if(r||!r&&!s)if(("body"!==wo(t)||Eo(i))&&(a=Qo(t)),r){const e=jo(t,!0,s,t);A.x=e.x+t.clientLeft,A.y=e.y+t.clientTop}else i&&(A.x=Ko(i));const c=!i||r||s?Ys(0):Vo(i,a);return{x:o.left+a.scrollLeft-A.x-c.x,y:o.top+a.scrollTop-A.y-c.y,width:o.width,height:o.height}}function Wo(e){return"static"===Fo(e).position}function zo(e,t){if(!Bo(e)||"fixed"===Fo(e).position)return null;if(t)return t(e);let n=e.offsetParent;return vo(e)===n&&(n=n.ownerDocument.body),n}function Jo(e,t){const n=yo(e);if(Io(e))return n;if(!Bo(e)){let t=_o(e);for(;t&&!Uo(t);){if(Co(t)&&!Wo(t))return t;t=_o(t)}return n}let r=zo(e,t);for(;r&&ko(r)&&Wo(r);)r=zo(r,t);return r&&Uo(r)&&Wo(r)&&!To(r)?n:r||function(e){let t=_o(e);for(;Bo(t)&&!Uo(t);){if(To(t))return t;if(Io(t))return null;t=_o(t)}return null}(e)||n}const Yo={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s="fixed"===i,o=vo(r),a=!!t&&Io(t.floating);if(r===o||a&&s)return n;let A={scrollLeft:0,scrollTop:0},c=Ys(1);const l=Ys(0),u=Bo(r);if((u||!u&&!s)&&(("body"!==wo(r)||Eo(o))&&(A=Qo(r)),Bo(r))){const e=jo(r);c=Do(r),l.x=e.x+r.clientLeft,l.y=e.y+r.clientTop}const d=!o||u||s?Ys(0):Vo(o,A,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-A.scrollLeft*c.x+l.x+d.x,y:n.y*c.y-A.scrollTop*c.y+l.y+d.y}},getDocumentElement:vo,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s="clippingAncestors"===n?Io(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Po(e,[],!1).filter((e=>Co(e)&&"body"!==wo(e))),i=null;const s="fixed"===Fo(e).position;let o=s?_o(e):e;for(;Co(o)&&!Uo(o);){const t=Fo(o),n=To(o);n||"fixed"!==t.position||(i=null),(s?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Eo(o)&&!n&&Go(e,o))?r=r.filter((e=>e!==o)):i=t,o=_o(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...s,r],a=o[0],A=o.reduce(((e,n)=>{const r=qo(t,n,i);return e.top=Ws(r.top,e.top),e.right=$s(r.right,e.right),e.bottom=$s(r.bottom,e.bottom),e.left=Ws(r.left,e.left),e}),qo(t,a,i));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}},getOffsetParent:Jo,getElementRects:async function(e){const t=this.getOffsetParent||Jo,n=this.getDimensions,r=await n(e.floating);return{reference:$o(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Oo(e);return{width:t,height:n}},getScale:Do,isElement:Co,isRTL:function(e){return"rtl"===Fo(e).direction}};function Xo(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zo(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:A=!1}=r,c=Lo(e),l=i||s?[...c?Po(c):[],...Po(t)]:[];l.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const u=c&&a?function(e,t){let n,r=null;const i=vo(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(a,A){void 0===a&&(a=!1),void 0===A&&(A=1),s();const c=e.getBoundingClientRect(),{left:l,top:u,width:d,height:h}=c;if(a||t(),!d||!h)return;const p={rootMargin:-Js(u)+"px "+-Js(i.clientWidth-(l+d))+"px "+-Js(i.clientHeight-(u+h))+"px "+-Js(l)+"px",threshold:Ws(0,$s(1,A))||1};let f=!0;function g(t){const r=t[0].intersectionRatio;if(r!==A){if(!f)return o();r?o(!1,r):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}1!==r||Xo(c,e.getBoundingClientRect())||o(),f=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(m){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),s}(c,n):null;let d,h=-1,p=null;o&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!A&&p.observe(c),p.observe(t));let f=A?jo(e):null;return A&&function t(){const r=jo(e);f&&!Xo(f,r)&&n();f=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,A&&cancelAnimationFrame(d)}}const ea=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,A=await async function(e,t){const{placement:n,platform:r,elements:i}=e,s=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=no(n),a=ro(n),A="y"===oo(n),c=["left","top"].includes(o)?-1:1,l=s&&A?-1:1,u=to(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"===typeof p&&(h="end"===a?-1*p:p),A?{x:h*l,y:d*c}:{x:d*c,y:h*l}}(t,e);return o===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+A.x,y:s+A.y,data:{...A,placement:o}}}}},ta=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...A}=to(e,t),c={x:n,y:r},l=await po(t,A),u=oo(no(i)),d=io(u);let h=c[d],p=c[u];if(s){const e="y"===d?"bottom":"right";h=eo(h+l["y"===d?"top":"left"],h,h-l[e])}if(o){const e="y"===u?"bottom":"right";p=eo(p+l["y"===u?"top":"left"],p,p-l[e])}const f=a.fn({...t,[d]:h,[u]:p});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[d]:s,[u]:o}}}}}},na=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:A,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:f=!0,...g}=to(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const m=no(i),w=oo(a),y=no(a)===a,v=await(null==A.isRTL?void 0:A.isRTL(c.floating)),b=d||(y||!f?[co(a)]:function(e){const t=co(e);return[Ao(e),t,Ao(t)]}(a)),C="none"!==p;!d&&C&&b.push(...function(e,t,n,r){const i=ro(e);let s=function(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}(no(e),"start"===n,r);return i&&(s=s.map((e=>e+"-"+i)),t&&(s=s.concat(s.map(Ao)))),s}(a,f,p,v));const B=[a,...b],S=await po(t,g),E=[];let k=(null==(r=s.flip)?void 0:r.overflows)||[];if(l&&E.push(S[m]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=ro(e),i=ao(e),s=so(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=co(o)),[o,co(o)]}(i,o,v);E.push(S[e[0]],S[e[1]])}if(k=[...k,{placement:i,overflows:E}],!E.every((e=>e<=0))){var I,T;const e=((null==(I=s.flip)?void 0:I.index)||0)+1,t=B[e];if(t)return{data:{index:e,overflows:k},reset:{placement:t}};let n=null==(T=k.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(h){case"bestFit":{var x;const e=null==(x=k.filter((e=>{if(C){const t=oo(e.placement);return t===w||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:x[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},ra=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:a}=t,{apply:A=()=>{},...c}=to(e,t),l=await po(t,c),u=no(i),d=ro(i),h="y"===oo(i),{width:p,height:f}=s.floating;let g,m;"top"===u||"bottom"===u?(g=u,m=d===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,g="end"===d?"top":"bottom");const w=f-l.top-l.bottom,y=p-l.left-l.right,v=$s(f-l[g],w),b=$s(p-l[m],y),C=!t.middlewareData.shift;let B=v,S=b;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(B=w),C&&!d){const e=Ws(l.left,0),t=Ws(l.right,0),n=Ws(l.top,0),r=Ws(l.bottom,0);h?S=p-2*(0!==e||0!==t?e+t:Ws(l.left,l.right)):B=f-2*(0!==n||0!==r?n+r:Ws(l.top,l.bottom))}await A({...t,availableWidth:S,availableHeight:B});const E=await o.getDimensions(a.floating);return p!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}},ia=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=to(e,t);switch(r){case"referenceHidden":{const e=fo(await po(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:go(e)}}}case"escaped":{const e=fo(await po(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:go(e)}}}default:return{}}}}},sa=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:A}=t,{element:c,padding:l=0}=to(e,t)||{};if(null==c)return{};const u=lo(l),d={x:n,y:r},h=ao(i),p=so(h),f=await o.getDimensions(c),g="y"===h,m=g?"top":"left",w=g?"bottom":"right",y=g?"clientHeight":"clientWidth",v=s.reference[p]+s.reference[h]-d[h]-s.floating[p],b=d[h]-s.reference[h],C=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let B=C?C[y]:0;B&&await(null==o.isElement?void 0:o.isElement(C))||(B=a.floating[y]||s.floating[p]);const S=v/2-b/2,E=B/2-f[p]/2-1,k=$s(u[m],E),I=$s(u[w],E),T=k,x=B-f[p]-I,U=B/2-f[p]/2+S,F=eo(T,U,x),Q=!A.arrow&&null!=ro(i)&&U!==F&&s.reference[p]/2-(U<T?k:I)-f[p]/2<0,_=Q?U<T?U-T:U-x:0;return{[h]:d[h]+_,data:{[h]:F,centerOffset:U-F-_,...Q&&{alignmentOffset:_}},reset:Q}}}),oa=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:A=!0,crossAxis:c=!0}=to(e,t),l={x:n,y:r},u=oo(i),d=io(u);let h=l[d],p=l[u];const f=to(a,t),g="number"===typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(A){const e="y"===d?"height":"width",t=s.reference[d]-s.floating[e]+g.mainAxis,n=s.reference[d]+s.reference[e]-g.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var m,w;const e="y"===d?"width":"height",t=["top","left"].includes(no(i)),n=s.reference[u]-s.floating[e]+(t&&(null==(m=o.offset)?void 0:m[u])||0)+(t?0:g.crossAxis),r=s.reference[u]+s.reference[e]+(t?0:(null==(w=o.offset)?void 0:w[u])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[d]:h,[u]:p}}}},aa=(e,t,n)=>{const r=new Map,i={platform:Yo,...n},s={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),A=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:u}=ho(c,r,A),d=r,h={},p=0;for(let f=0;f<a.length;f++){const{name:n,fn:s}=a[f],{x:g,y:m,data:w,reset:y}=await s({x:l,y:u,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});l=null!=g?g:l,u=null!=m?m:u,h={...h,[n]:{...h[n],...w}},y&&p<=50&&(p++,"object"===typeof y&&(y.placement&&(d=y.placement),y.rects&&(c=!0===y.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:l,y:u}=ho(c,d,A))),f=-1)}return{x:l,y:u,placement:d,strategy:i,middlewareData:h}})(e,t,{...i,platform:s})};var Aa="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function ca(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!ca(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!ca(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function la(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ua(e,t){const n=la(e);return Math.round(t*n)/n}function da(e){const t=a.useRef(e);return Aa((()=>{t.current=e})),t}function ha(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:A=!0,whileElementsMounted:c,open:l}=e,[u,d]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=a.useState(r);ca(h,r)||p(r);const[f,g]=a.useState(null),[m,w]=a.useState(null),y=a.useCallback((e=>{e!==B.current&&(B.current=e,g(e))}),[]),v=a.useCallback((e=>{e!==S.current&&(S.current=e,w(e))}),[]),b=s||f,C=o||m,B=a.useRef(null),S=a.useRef(null),E=a.useRef(u),k=null!=c,I=da(c),T=da(i),x=da(l),U=a.useCallback((()=>{if(!B.current||!S.current)return;const e={placement:t,strategy:n,middleware:h};T.current&&(e.platform=T.current),aa(B.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==x.current};F.current&&!ca(E.current,t)&&(E.current=t,Je.flushSync((()=>{d(t)})))}))}),[h,t,n,T,x]);Aa((()=>{!1===l&&E.current.isPositioned&&(E.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[l]);const F=a.useRef(!1);Aa((()=>(F.current=!0,()=>{F.current=!1})),[]),Aa((()=>{if(b&&(B.current=b),C&&(S.current=C),b&&C){if(I.current)return I.current(b,C,U);U()}}),[b,C,U,I,k]);const Q=a.useMemo((()=>({reference:B,floating:S,setReference:y,setFloating:v})),[y,v]),_=a.useMemo((()=>({reference:b,floating:C})),[b,C]),R=a.useMemo((()=>{const e={position:n,left:0,top:0};if(!_.floating)return e;const t=ua(_.floating,u.x),r=ua(_.floating,u.y);return A?{...e,transform:"translate("+t+"px, "+r+"px)",...la(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,A,_.floating,u.x,u.y]);return a.useMemo((()=>({...u,update:U,refs:Q,elements:_,floatingStyles:R})),[u,U,Q,_,R])}const pa=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?sa({element:n.current,padding:r}).fn(t):{}:n?sa({element:n,padding:r}).fn(t):{}}}),fa=(e,t)=>({...ea(e),options:[e,t]}),ga=(e,t)=>({...ta(e),options:[e,t]}),ma=(e,t)=>({...oa(e),options:[e,t]}),wa=(e,t)=>({...na(e),options:[e,t]}),ya=(e,t)=>({...ra(e),options:[e,t]}),va=(e,t)=>({...ia(e),options:[e,t]}),ba=(e,t)=>({...pa(e),options:[e,t]});var Ca=a.forwardRef(((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return(0,_e.jsx)(dt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,_e.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));Ca.displayName="Arrow";var Ba=Ca;var Sa="Popper",[Ea,ka]=tt(Sa),[Ia,Ta]=Ea(Sa),xa=e=>{const{__scopePopper:t,children:n}=e,[r,i]=a.useState(null);return(0,_e.jsx)(Ia,{scope:t,anchor:r,onAnchorChange:i,children:n})};xa.displayName=Sa;var Ua="PopperAnchor",Fa=a.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=Ta(Ua,n),o=a.useRef(null),A=et(t,o);return a.useEffect((()=>{s.onAnchorChange(r?.current||o.current)})),r?null:(0,_e.jsx)(dt.div,{...i,ref:A})}));Fa.displayName=Ua;var Qa="PopperContent",[_a,Ra]=Ea(Qa),Pa=a.forwardRef(((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:A=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:f,...g}=e,m=Ta(Qa,n),[w,y]=a.useState(null),v=et(t,(e=>y(e))),[b,C]=a.useState(null),B=function(e){const[t,n]=a.useState(void 0);return kt((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,s;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,s=t.blockSize}else i=e.offsetWidth,s=e.offsetHeight;n({width:i,height:s})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}(b),S=B?.width??0,E=B?.height??0,k=r+("center"!==s?"-"+s:""),I="number"===typeof u?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(l)?l:[l],x=T.length>0,U={padding:I,boundary:T.filter(Da),altBoundary:x},{refs:F,floatingStyles:Q,placement:_,isPositioned:R,middlewareData:P}=ha({strategy:"fixed",placement:k,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zo(...t,{animationFrame:"always"===p})},elements:{reference:m.anchor},middleware:[fa({mainAxis:i+E,alignmentAxis:o}),c&&ga({mainAxis:!0,crossAxis:!1,limiter:"partial"===d?ma():void 0,...U}),c&&wa({...U}),ya({...U,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:s,height:o}=n.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${i}px`),a.setProperty("--radix-popper-anchor-width",`${s}px`),a.setProperty("--radix-popper-anchor-height",`${o}px`)}}),b&&ba({element:b,padding:A}),Ha({arrowWidth:S,arrowHeight:E}),h&&va({strategy:"referenceHidden",...U})]}),[N,O]=Ma(_),L=pt(f);kt((()=>{R&&L?.()}),[R,L]);const D=P.arrow?.x,H=P.arrow?.y,M=0!==P.arrow?.centerOffset,[j,K]=a.useState();return kt((()=>{w&&K(window.getComputedStyle(w).zIndex)}),[w]),(0,_e.jsx)("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:R?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,_e.jsx)(_a,{scope:n,placedSide:N,onArrowChange:C,arrowX:D,arrowY:H,shouldHideArrow:M,children:(0,_e.jsx)(dt.div,{"data-side":N,"data-align":O,...g,ref:v,style:{...g.style,animation:R?void 0:"none"}})})})}));Pa.displayName=Qa;var Na="PopperArrow",Oa={top:"bottom",right:"left",bottom:"top",left:"right"},La=a.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,i=Ra(Na,n),s=Oa[i.placedSide];return(0,_e.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,_e.jsx)(Ba,{...r,ref:t,style:{...r.style,display:"block"}})})}));function Da(e){return null!==e}La.displayName=Na;var Ha=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,s=0!==i.arrow?.centerOffset,o=s?0:e.arrowWidth,a=s?0:e.arrowHeight,[A,c]=Ma(n),l={start:"0%",center:"50%",end:"100%"}[c],u=(i.arrow?.x??0)+o/2,d=(i.arrow?.y??0)+a/2;let h="",p="";return"bottom"===A?(h=s?l:`${u}px`,p=-a+"px"):"top"===A?(h=s?l:`${u}px`,p=`${r.floating.height+a}px`):"right"===A?(h=-a+"px",p=s?l:`${d}px`):"left"===A&&(h=`${r.floating.width+a}px`,p=s?l:`${d}px`),{data:{x:h,y:p}}}});function Ma(e){const[t,n="center"]=e.split("-");return[t,n]}var ja=xa,Ka=Fa,Va=Pa,qa=La;var Ga=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},$a=new WeakMap,Wa=new WeakMap,za={},Ja=0,Ya=function(e){return e&&(e.host||Ya(e.parentNode))},Xa=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=Ya(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);za[n]||(za[n]=new WeakMap);var s=za[n],o=[],a=new Set,A=new Set(i),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};i.forEach(c);var l=function(e){e&&!A.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))l(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,A=($a.get(e)||0)+1,c=(s.get(e)||0)+1;$a.set(e,A),s.set(e,c),o.push(e),1===A&&i&&Wa.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}}))};return l(t),a.clear(),Ja++,function(){o.forEach((function(e){var t=$a.get(e)-1,i=s.get(e)-1;$a.set(e,t),s.set(e,i),t||(Wa.has(e)||e.removeAttribute(r),Wa.delete(e)),i||e.removeAttribute(n)})),--Ja||($a=new WeakMap,$a=new WeakMap,Wa=new WeakMap,za={})}},Za=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||Ga(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Xa(r,i,n,"aria-hidden")):function(){return null}},eA=function(e,t){return eA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},eA(e,t)};function tA(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}eA(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nA=function(){return nA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nA.apply(this,arguments)};function rA(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function iA(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{A(r.next(e))}catch(t){s(t)}}function a(e){try{A(r.throw(e))}catch(t){s(t)}}function A(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,a)}A((r=r.apply(e,t||[])).next())}))}function sA(e,t){var n,r,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},o=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(A){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(A){a=[6,A],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,A])}}}Object.create;function oA(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function aA(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function AA(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function cA(e){return this instanceof cA?(this.v=e,this):new cA(e)}function lA(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{!function(e){e.value instanceof cA?Promise.resolve(e.value.v).then(A,c):l(s[0][2],e)}(i[e](t))}catch(n){l(s[0][3],n)}}function A(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function uA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=oA(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;var dA="right-scroll-bar-position",hA="width-before-scroll-bar";function pA(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var fA="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,gA=new WeakMap;function mA(e,t){var n=function(e,t){var n=(0,a.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return pA(e,t)}))}));return fA((function(){var t=gA.get(n);if(t){var r=new Set(t),i=new Set(e),s=n.current;r.forEach((function(e){i.has(e)||pA(e,null)})),i.forEach((function(e){r.has(e)||pA(e,s)}))}gA.set(n,e)}),[e]),n}function wA(e){return e}function yA(e,t){void 0===t&&(t=wA);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var s=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}var vA=function(e){void 0===e&&(e={});var t=yA(null);return t.options=nA({async:!0,ssr:!1},e),t}(),bA=function(){},CA=a.forwardRef((function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:bA,onWheelCapture:bA,onTouchMoveCapture:bA}),i=r[0],s=r[1],o=e.forwardProps,A=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,f=e.inert,g=e.allowPinchZoom,m=e.as,w=void 0===m?"div":m,y=e.gapMode,v=rA(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,C=mA([n,t]),B=nA(nA({},v),i);return a.createElement(a.Fragment,null,u&&a.createElement(b,{sideCar:vA,removeScrollBar:l,shards:d,noIsolation:p,inert:f,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?a.cloneElement(a.Children.only(A),nA(nA({},B),{ref:C})):a.createElement(w,nA({},B,{className:c,ref:C}),A))}));CA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},CA.classNames={fullWidth:hA,zeroRight:dA};var BA,SA=function(e){var t=e.sideCar,n=rA(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,nA({},n))};SA.isSideCarExport=!0;function EA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=BA||n.nc;return t&&e.setAttribute("nonce",t),e}var kA=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=EA())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},IA=function(){var e=function(){var e=kA();return function(t,n){a.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},TA={left:0,top:0,right:0,gap:0},xA=function(e){return parseInt(e||"",10)||0},UA=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return TA;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[xA(n),xA(r),xA(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},FA=IA(),QA="data-scroll-locked",_A=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(QA,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(dA," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(hA," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(dA," .").concat(dA," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(hA," .").concat(hA," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(QA,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},RA=function(){var e=parseInt(document.body.getAttribute(QA)||"0",10);return isFinite(e)?e:0},PA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;a.useEffect((function(){return document.body.setAttribute(QA,(RA()+1).toString()),function(){var e=RA()-1;e<=0?document.body.removeAttribute(QA):document.body.setAttribute(QA,e.toString())}}),[]);var s=a.useMemo((function(){return UA(i)}),[i]);return a.createElement(FA,{styles:_A(s,!t,i,n?"":"!important")})},NA=!1;if("undefined"!==typeof window)try{var OA=Object.defineProperty({},"passive",{get:function(){return NA=!0,!0}});window.addEventListener("test",OA,OA),window.removeEventListener("test",OA,OA)}catch(uH){NA=!1}var LA=!!NA&&{passive:!1},DA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},HA=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),MA(e,r)){var i=jA(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MA=function(e,t){return"v"===e?function(e){return DA(e,"overflowY")}(t):function(e){return DA(e,"overflowX")}(t)},jA=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},KA=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VA=function(e){return[e.deltaX,e.deltaY]},qA=function(e){return e&&"current"in e?e.current:e},GA=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},$A=0,WA=[];function zA(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JA=(YA=function(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),i=a.useState($A++)[0],s=a.useState(IA)[0],o=a.useRef(e);a.useEffect((function(){o.current=e}),[e]),a.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=AA([e.lockRef.current],(e.shards||[]).map(qA),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var A=a.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,s=KA(e),a=n.current,A="deltaX"in e?e.deltaX:a[0]-s[0],c="deltaY"in e?e.deltaY:a[1]-s[1],l=e.target,u=Math.abs(A)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===l.type)return!1;var d=HA(u,l);if(!d)return!0;if(d?i=u:(i="v"===u?"h":"v",d=HA(u,l)),!d)return!1;if(!r.current&&"changedTouches"in e&&(A||c)&&(r.current=i),!i)return!0;var h=r.current||i;return function(e,t,n,r,i){var s=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,A=t.contains(a),c=!1,l=o>0,u=0,d=0;do{var h=jA(e,a),p=h[0],f=h[1]-h[2]-s*p;(p||f)&&MA(e,a)&&(u+=f,d+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!A&&a!==document.body||A&&(t.contains(a)||t===a));return(l&&(i&&Math.abs(u)<1||!i&&o>u)||!l&&(i&&Math.abs(d)<1||!i&&-o>d))&&(c=!0),c}(h,t,e,"h"===h?A:c,!0)}),[]),c=a.useCallback((function(e){var n=e;if(WA.length&&WA[WA.length-1]===s){var r="deltaY"in n?VA(n):KA(n),i=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var a=(o.current.shards||[]).map(qA).filter(Boolean).filter((function(e){return e.contains(n.target)}));(a.length>0?A(n,a[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),l=a.useCallback((function(e,n,r,i){var s={name:e,delta:n,target:r,should:i,shadowParent:zA(r)};t.current.push(s),setTimeout((function(){t.current=t.current.filter((function(e){return e!==s}))}),1)}),[]),u=a.useCallback((function(e){n.current=KA(e),r.current=void 0}),[]),d=a.useCallback((function(t){l(t.type,VA(t),t.target,A(t,e.lockRef.current))}),[]),h=a.useCallback((function(t){l(t.type,KA(t),t.target,A(t,e.lockRef.current))}),[]);a.useEffect((function(){return WA.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,LA),document.addEventListener("touchmove",c,LA),document.addEventListener("touchstart",u,LA),function(){WA=WA.filter((function(e){return e!==s})),document.removeEventListener("wheel",c,LA),document.removeEventListener("touchmove",c,LA),document.removeEventListener("touchstart",u,LA)}}),[]);var p=e.removeScrollBar,f=e.inert;return a.createElement(a.Fragment,null,f?a.createElement(s,{styles:GA(i)}):null,p?a.createElement(PA,{gapMode:e.gapMode}):null)},vA.useMedium(YA),SA);var YA,XA=a.forwardRef((function(e,t){return a.createElement(CA,nA({},e,{ref:t,sideCar:JA}))}));XA.classNames=CA.classNames;const ZA=XA;var ec=[" ","Enter","ArrowUp","ArrowDown"],tc=[" ","Enter"],nc="Select",[rc,ic,sc]=At(nc),[oc,ac]=tt(nc,[sc,ka]),Ac=ka(),[cc,lc]=oc(nc),[uc,dc]=oc(nc),hc=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:A,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:h,required:p,form:f}=e,g=Ac(t),[m,w]=a.useState(null),[y,v]=a.useState(null),[b,C]=a.useState(!1),B=function(e){const t=a.useContext(xs);return e||t||"ltr"}(l),[S,E]=Ft({prop:r,defaultProp:i??!1,onChange:s,caller:nc}),[k,I]=Ft({prop:o,defaultProp:A,onChange:c,caller:nc}),T=a.useRef(null),x=!m||(f||!!m.closest("form")),[U,F]=a.useState(new Set),Q=Array.from(U).map((e=>e.props.value)).join(";");return(0,_e.jsx)(ja,{...g,children:(0,_e.jsxs)(cc,{required:p,scope:t,trigger:m,onTriggerChange:w,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:qs(),value:k,onValueChange:I,open:S,onOpenChange:E,dir:B,triggerPointerDownPosRef:T,disabled:h,children:[(0,_e.jsx)(rc.Provider,{scope:t,children:(0,_e.jsx)(uc,{scope:e.__scopeSelect,onNativeOptionAdd:a.useCallback((e=>{F((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:a.useCallback((e=>{F((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),x?(0,_e.jsxs)(tl,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:e=>I(e.target.value),disabled:h,form:f,children:[void 0===k?(0,_e.jsx)("option",{value:""}):null,Array.from(U)]},Q):null]})})};hc.displayName=nc;var pc="SelectTrigger",fc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=Ac(n),o=lc(pc,n),A=o.disabled||r,c=et(t,o.onTriggerChange),l=ic(n),u=a.useRef("touch"),[d,h,p]=rl((e=>{const t=l().filter((e=>!e.disabled)),n=t.find((e=>e.value===o.value)),r=il(t,e,n);void 0!==r&&o.onValueChange(r.value)})),f=e=>{A||(o.onOpenChange(!0),p()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,_e.jsx)(Ka,{asChild:!0,...s,children:(0,_e.jsx)(dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:A,"data-disabled":A?"":void 0,"data-placeholder":nl(o.value)?"":void 0,...i,ref:c,onClick:Ye(i.onClick,(e=>{e.currentTarget.focus(),"mouse"!==u.current&&f(e)})),onPointerDown:Ye(i.onPointerDown,(e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())})),onKeyDown:Ye(i.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||ec.includes(e.key)&&(f(),e.preventDefault())}))})})}));fc.displayName=pc;var gc="SelectValue",mc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=e,A=lc(gc,n),{onValueNodeHasChildrenChange:c}=A,l=void 0!==s,u=et(t,A.onValueNodeChange);return kt((()=>{c(l)}),[c,l]),(0,_e.jsx)(dt.span,{...a,ref:u,style:{pointerEvents:"none"},children:nl(A.value)?(0,_e.jsx)(_e.Fragment,{children:o}):s})}));mc.displayName=gc;var wc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return(0,_e.jsx)(dt.span,{"aria-hidden":!0,...i,ref:t,children:r||"\u25bc"})}));wc.displayName="SelectIcon";var yc=e=>(0,_e.jsx)(It,{asChild:!0,...e});yc.displayName="SelectPortal";var vc="SelectContent",bc=a.forwardRef(((e,t)=>{const n=lc(vc,e.__scopeSelect),[r,i]=a.useState();if(kt((()=>{i(new DocumentFragment)}),[]),!n.open){const t=r;return t?Je.createPortal((0,_e.jsx)(Bc,{scope:e.__scopeSelect,children:(0,_e.jsx)(rc.Slot,{scope:e.__scopeSelect,children:(0,_e.jsx)("div",{children:e.children})})}),t):null}return(0,_e.jsx)(kc,{...e,ref:t})}));bc.displayName=vc;var Cc=10,[Bc,Sc]=oc(vc),Ec=rt("SelectContent.RemoveScroll"),kc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:A,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:g,avoidCollisions:m,...w}=e,y=lc(vc,n),[v,b]=a.useState(null),[C,B]=a.useState(null),S=et(t,(e=>b(e))),[E,k]=a.useState(null),[I,T]=a.useState(null),x=ic(n),[U,F]=a.useState(!1),Q=a.useRef(!1);a.useEffect((()=>{if(v)return Za(v)}),[v]),Fs();const _=a.useCallback((e=>{const[t,...n]=x().map((e=>e.ref.current)),[r]=n.slice(-1),i=document.activeElement;for(const s of e){if(s===i)return;if(s?.scrollIntoView({block:"nearest"}),s===t&&C&&(C.scrollTop=0),s===r&&C&&(C.scrollTop=C.scrollHeight),s?.focus(),document.activeElement!==i)return}}),[x,C]),R=a.useCallback((()=>_([E,v])),[_,E,v]);a.useEffect((()=>{U&&R()}),[U,R]);const{onOpenChange:P,triggerPointerDownPosRef:N}=y;a.useEffect((()=>{if(v){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(N.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(N.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():v.contains(n.target)||P(!1),document.removeEventListener("pointermove",t),N.current=null};return null!==N.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[v,P,N]),a.useEffect((()=>{const e=()=>P(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[P]);const[O,L]=rl((e=>{const t=x().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=il(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),D=a.useCallback(((e,t,n)=>{const r=!Q.current&&!n;(void 0!==y.value&&y.value===t||r)&&(k(e),r&&(Q.current=!0))}),[y.value]),H=a.useCallback((()=>v?.focus()),[v]),M=a.useCallback(((e,t,n)=>{const r=!Q.current&&!n;(void 0!==y.value&&y.value===t||r)&&T(e)}),[y.value]),j="popper"===r?Tc:Ic,K=j===Tc?{side:A,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:g,avoidCollisions:m}:{};return(0,_e.jsx)(Bc,{scope:n,content:v,viewport:C,onViewportChange:B,itemRefCallback:D,selectedItem:E,onItemLeave:H,itemTextRefCallback:M,focusSelectedItem:R,selectedItemText:I,position:r,isPositioned:U,searchRef:O,children:(0,_e.jsx)(ZA,{as:Ec,allowPinchZoom:!0,children:(0,_e.jsx)(Ns,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Ye(i,(e=>{y.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:(0,_e.jsx)(vt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:(0,_e.jsx)(j,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...w,...K,onPlaced:()=>F(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Ye(w.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||L(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=x().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>_(t))),e.preventDefault()}}))})})})})})}));kc.displayName="SelectContentImpl";var Ic=a.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=lc(vc,n),o=Sc(vc,n),[A,c]=a.useState(null),[l,u]=a.useState(null),d=et(t,(e=>u(e))),h=ic(n),p=a.useRef(!1),f=a.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:w,focusSelectedItem:y}=o,v=a.useCallback((()=>{if(s.trigger&&s.valueNode&&A&&l&&g&&m&&w){const e=s.trigger.getBoundingClientRect(),t=l.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),i=w.getBoundingClientRect();if("rtl"!==s.dir){const r=i.left-t.left,s=n.left-r,o=e.left-s,a=e.width+o,c=Math.max(a,t.width),l=window.innerWidth-Cc,u=Ts(s,[Cc,Math.max(Cc,l-c)]);A.style.minWidth=a+"px",A.style.left=u+"px"}else{const r=t.right-i.right,s=window.innerWidth-n.right-r,o=window.innerWidth-e.right-s,a=e.width+o,c=Math.max(a,t.width),l=window.innerWidth-Cc,u=Ts(s,[Cc,Math.max(Cc,l-c)]);A.style.minWidth=a+"px",A.style.right=u+"px"}const o=h(),a=window.innerHeight-2*Cc,c=g.scrollHeight,u=window.getComputedStyle(l),d=parseInt(u.borderTopWidth,10),f=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),v=d+f+c+parseInt(u.paddingBottom,10)+y,b=Math.min(5*m.offsetHeight,v),C=window.getComputedStyle(g),B=parseInt(C.paddingTop,10),S=parseInt(C.paddingBottom,10),E=e.top+e.height/2-Cc,k=a-E,I=m.offsetHeight/2,T=d+f+(m.offsetTop+I),x=v-T;if(T<=E){const e=o.length>0&&m===o[o.length-1].ref.current;A.style.bottom="0px";const t=l.clientHeight-g.offsetTop-g.offsetHeight,n=T+Math.max(k,I+(e?S:0)+t+y);A.style.height=n+"px"}else{const e=o.length>0&&m===o[0].ref.current;A.style.top="0px";const t=Math.max(E,d+g.offsetTop+(e?B:0)+I)+x;A.style.height=t+"px",g.scrollTop=T-E+g.offsetTop}A.style.margin=`${Cc}px 0`,A.style.minHeight=b+"px",A.style.maxHeight=a+"px",r?.(),requestAnimationFrame((()=>p.current=!0))}}),[h,s.trigger,s.valueNode,A,l,g,m,w,s.dir,r]);kt((()=>v()),[v]);const[b,C]=a.useState();kt((()=>{l&&C(window.getComputedStyle(l).zIndex)}),[l]);const B=a.useCallback((e=>{e&&!0===f.current&&(v(),y?.(),f.current=!1)}),[v,y]);return(0,_e.jsx)(xc,{scope:n,contentWrapper:A,shouldExpandOnScrollRef:p,onScrollButtonChange:B,children:(0,_e.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:(0,_e.jsx)(dt.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})}));Ic.displayName="SelectItemAlignedPosition";var Tc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Cc,...s}=e,o=Ac(n);return(0,_e.jsx)(Va,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));Tc.displayName="SelectPopperPosition";var[xc,Uc]=oc(vc,{}),Fc="SelectViewport",Qc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Sc(Fc,n),o=Uc(Fc,n),A=et(t,s.onViewportChange),c=a.useRef(0);return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,_e.jsx)(rc.Slot,{scope:n,children:(0,_e.jsx)(dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:A,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ye(i.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(r?.current&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Cc,i=parseFloat(n.style.minHeight),s=parseFloat(n.style.height),o=Math.max(i,s);if(o<r){const i=o+e,s=Math.min(r,i),a=i-s;n.style.height=s+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop}))})})]})}));Qc.displayName=Fc;var _c="SelectGroup",[Rc,Pc]=oc(_c),Nc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=qs();return(0,_e.jsx)(Rc,{scope:n,id:i,children:(0,_e.jsx)(dt.div,{role:"group","aria-labelledby":i,...r,ref:t})})}));Nc.displayName=_c;var Oc="SelectLabel",Lc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=Pc(Oc,n);return(0,_e.jsx)(dt.div,{id:i.id,...r,ref:t})}));Lc.displayName=Oc;var Dc="SelectItem",[Hc,Mc]=oc(Dc),jc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,A=lc(Dc,n),c=Sc(Dc,n),l=A.value===r,[u,d]=a.useState(s??""),[h,p]=a.useState(!1),f=et(t,(e=>c.itemRefCallback?.(e,r,i))),g=qs(),m=a.useRef("touch"),w=()=>{i||(A.onValueChange(r),A.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,_e.jsx)(Hc,{scope:n,value:r,disabled:i,textId:g,isSelected:l,onItemTextChange:a.useCallback((e=>{d((t=>t||(e?.textContent??"").trim()))}),[]),children:(0,_e.jsx)(rc.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:(0,_e.jsx)(dt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:f,onFocus:Ye(o.onFocus,(()=>p(!0))),onBlur:Ye(o.onBlur,(()=>p(!1))),onClick:Ye(o.onClick,(()=>{"mouse"!==m.current&&w()})),onPointerUp:Ye(o.onPointerUp,(()=>{"mouse"===m.current&&w()})),onPointerDown:Ye(o.onPointerDown,(e=>{m.current=e.pointerType})),onPointerMove:Ye(o.onPointerMove,(e=>{m.current=e.pointerType,i?c.onItemLeave?.():"mouse"===m.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:Ye(o.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()})),onKeyDown:Ye(o.onKeyDown,(e=>{""!==c.searchRef?.current&&" "===e.key||(tc.includes(e.key)&&w()," "===e.key&&e.preventDefault())}))})})})}));jc.displayName=Dc;var Kc="SelectItemText",Vc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=lc(Kc,n),A=Sc(Kc,n),c=Mc(Kc,n),l=dc(Kc,n),[u,d]=a.useState(null),h=et(t,(e=>d(e)),c.onItemTextChange,(e=>A.itemTextRefCallback?.(e,c.value,c.disabled))),p=u?.textContent,f=a.useMemo((()=>(0,_e.jsx)("option",{value:c.value,disabled:c.disabled,children:p},c.value)),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=l;return kt((()=>(g(f),()=>m(f))),[g,m,f]),(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(dt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Je.createPortal(s.children,o.valueNode):null]})}));Vc.displayName=Kc;var qc="SelectItemIndicator",Gc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return Mc(qc,n).isSelected?(0,_e.jsx)(dt.span,{"aria-hidden":!0,...r,ref:t}):null}));Gc.displayName=qc;var $c="SelectScrollUpButton",Wc=a.forwardRef(((e,t)=>{const n=Sc($c,e.__scopeSelect),r=Uc($c,e.__scopeSelect),[i,s]=a.useState(!1),o=et(t,r.onScrollButtonChange);return kt((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),i?(0,_e.jsx)(Yc,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));Wc.displayName=$c;var zc="SelectScrollDownButton",Jc=a.forwardRef(((e,t)=>{const n=Sc(zc,e.__scopeSelect),r=Uc(zc,e.__scopeSelect),[i,s]=a.useState(!1),o=et(t,r.onScrollButtonChange);return kt((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),i?(0,_e.jsx)(Yc,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));Jc.displayName=zc;var Yc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Sc("SelectScrollButton",n),o=a.useRef(null),A=ic(n),c=a.useCallback((()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)}),[]);return a.useEffect((()=>()=>c()),[c]),kt((()=>{const e=A().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[A]),(0,_e.jsx)(dt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ye(i.onPointerDown,(()=>{null===o.current&&(o.current=window.setInterval(r,50))})),onPointerMove:Ye(i.onPointerMove,(()=>{s.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(r,50))})),onPointerLeave:Ye(i.onPointerLeave,(()=>{c()}))})})),Xc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return(0,_e.jsx)(dt.div,{"aria-hidden":!0,...r,ref:t})}));Xc.displayName="SelectSeparator";var Zc="SelectArrow",el=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ac(n),s=lc(Zc,n),o=Sc(Zc,n);return s.open&&"popper"===o.position?(0,_e.jsx)(qa,{...i,...r,ref:t}):null}));el.displayName=Zc;var tl=a.forwardRef(((e,t)=>{let{__scopeSelect:n,value:r,...i}=e;const s=a.useRef(null),o=et(t,s),A=function(e){const t=a.useRef({value:e,previous:e});return a.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(r);return a.useEffect((()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(A!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[A,r]),(0,_e.jsx)(dt.select,{...i,style:{...Qt,...i.style},ref:o,defaultValue:r})}));function nl(e){return""===e||void 0===e}function rl(e){const t=pt(e),n=a.useRef(""),r=a.useRef(0),i=a.useCallback((e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(i)}),[t]),s=a.useCallback((()=>{n.current="",window.clearTimeout(r.current)}),[]);return a.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[n,i,s]}function il(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=n?e.indexOf(n):-1;let s=(o=e,a=Math.max(i,0),o.map(((e,t)=>o[(a+t)%o.length])));var o,a;1===r.length&&(s=s.filter((e=>e!==n)));const A=s.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return A!==n?A:void 0}tl.displayName="SelectBubbleInput";var sl=hc,ol=fc,al=mc,Al=wc,cl=yc,ll=bc,ul=Qc,dl=Nc,hl=Wc,pl=Jc;const fl=Sn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gl=Sn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ml=sl,wl=dl,yl=al,vl=a.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,_e.jsxs)(ol,{ref:t,className:Cr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...i,children:[r,(0,_e.jsx)(Al,{asChild:!0,children:(0,_e.jsx)(fl,{className:"h-4 w-4 opacity-50"})})]})}));vl.displayName=ol.displayName;const bl=a.forwardRef(((e,t)=>{let{className:n,children:r,position:i="popper",...s}=e;return(0,_e.jsx)(cl,{children:(0,_e.jsxs)(ll,{ref:t,className:Cr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...s,children:[(0,_e.jsx)(hl,{className:"flex h-6 cursor-default items-center justify-center bg-popover",children:(0,_e.jsx)(gl,{className:"h-4 w-4"})}),(0,_e.jsx)(ul,{className:Cr("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,_e.jsx)(pl,{className:"flex h-6 cursor-default items-center justify-center bg-popover",children:(0,_e.jsx)(fl,{className:"h-4 w-4"})})]})})}));bl.displayName=ll.displayName;const Cl=Sn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function Bl(e,t){ki(2,arguments);var n=Ii(e),r=xi(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}const Sl=e=>{let{onAppointmentClick:t}=e;const[n,r]=(0,a.useState)(new Date),[i,s]=(0,a.useState)(null),[,o]=(0,a.useState)("day"),A=Cs(n,"yyyy-MM-dd"),c=Cs(n,"MMMM d, yyyy"),{data:l,isLoading:u}=Zr({queryKey:["appointments",A,i],queryFn:async()=>{const e=i?`/api/appointments/by-provider/${i}?date=${A}`:`/api/appointments?date=${A}`;return(await Fe("GET",e)).json()}}),{data:d}=Zr({queryKey:["providers"],queryFn:async()=>(await Fe("GET","/api/providers")).json()}),h=e=>l?l.filter((t=>t.time===e)):[];return(0,_e.jsxs)(ti,{children:[(0,_e.jsxs)(ni,{className:"flex flex-row items-center justify-between",children:[(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsx)(oi,{variant:"outline",onClick:()=>o("day"),size:"sm",children:"Day"}),(0,_e.jsx)(oi,{variant:"outline",onClick:()=>o("week"),size:"sm",children:"Week"}),(0,_e.jsx)(oi,{variant:"outline",onClick:()=>o("month"),size:"sm",children:"Month"})]}),(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsx)(oi,{variant:"outline",size:"icon",onClick:()=>{r((e=>function(e,t){return ki(2,arguments),Bl(e,-xi(t))}(e,1)))},children:(0,_e.jsx)(Cl,{className:"h-4 w-4"})}),(0,_e.jsx)("span",{className:"font-medium",children:c}),(0,_e.jsx)(oi,{variant:"outline",size:"icon",onClick:()=>{r((e=>Bl(e,1)))},children:(0,_e.jsx)(Es,{className:"h-4 w-4"})}),(0,_e.jsx)(oi,{variant:"outline",onClick:()=>{r(new Date)},children:"Today"})]}),(0,_e.jsxs)(ml,{value:i,onValueChange:s,children:[(0,_e.jsx)(vl,{className:"w-[200px]",children:(0,_e.jsx)(yl,{placeholder:"All Providers"})}),(0,_e.jsx)(bl,{children:(0,_e.jsxs)(wl,{children:[(0,_e.jsx)(yl,{value:"",children:"All Providers"}),null===d||void 0===d?void 0:d.map((e=>(0,_e.jsx)(yl,{value:e.id,children:e.fullName},e.id)))]})})]})]}),(0,_e.jsx)(ii,{children:u?Array(5).fill(0).map(((e,t)=>(0,_e.jsxs)("div",{className:"animate-pulse flex space-x-4 mb-4",children:[(0,_e.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,_e.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},t))):(0,_e.jsx)("div",{className:"space-y-4",children:["8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"].map((e=>(0,_e.jsxs)("div",{className:"flex",children:[(0,_e.jsx)("div",{className:"w-24 font-medium",children:e}),(0,_e.jsxs)("div",{className:"flex-1",children:[h(e).map((e=>{return(0,_e.jsxs)("div",{className:"p-3 mb-2 rounded-md "+(n=e.method,r=e.status,"waiting"===r?"bg-yellow-50 border-l-4 border-warning-500":"video"===n?"bg-blue-50 border-l-4 border-primary-500":"bg-green-50 border-l-4 border-success-500"),onClick:()=>t&&t(e.id),children:[(0,_e.jsx)("div",{className:"font-medium",children:e.patientName}),(0,_e.jsx)("div",{className:"text-sm text-gray-500",children:e.reason})]},e.id);var n,r})),0===h(e).length&&(0,_e.jsx)("div",{className:"text-sm text-gray-400 italic",children:"No appointments scheduled"})]})]},e)))})})]})},El=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("textarea",{className:Cr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})}));El.displayName="Textarea";const kl=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,Il=In,Tl=((e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return Il(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map((e=>{const t=null===n||void 0===n?void 0:n[e],r=null===s||void 0===s?void 0:s[e];if(null===t)return null;const o=kl(t)||kl(r);return i[e][o]})),a=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),A=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...a}[t]):{...s,...a}[t]===n}))?[...e,n,r]:e}),[]);return Il(e,o,A,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)})("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xl(e){let{className:t,variant:n,...r}=e;return(0,_e.jsx)("div",{className:Cr(Tl({variant:n}),t),...r})}var Ul=class extends ue{#A;#x=void 0;#W;#z;constructor(e,t){super(),this.#A=e,this.setOptions(t),this.bindMethods(),this.#J()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#A.defaultMutationOptions(e),ee(this.options,t)||this.#A.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#W,observer:this}),t?.mutationKey&&this.options.mutationKey&&Y(t.mutationKey)!==Y(this.options.mutationKey)?this.reset():"pending"===this.#W?.state.status&&this.#W.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#W?.removeObserver(this)}onMutationUpdate(e){this.#J(),this.#$(e)}getCurrentResult(){return this.#x}reset(){this.#W?.removeObserver(this),this.#W=void 0,this.#J(),this.#$()}mutate(e,t){return this.#z=t,this.#W?.removeObserver(this),this.#W=this.#A.getMutationCache().build(this.#A,this.options),this.#W.addObserver(this),this.#W.execute(e)}#J(){const e=this.#W?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#x={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#$(e){le.batch((()=>{if(this.#z&&this.hasListeners()){const t=this.#x.variables,n=this.#x.context;"success"===e?.type?(this.#z.onSuccess?.(e.data,t,n),this.#z.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#z.onError?.(e.error,t,n),this.#z.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#x)}))}))}};const Fl=Sn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ql=e=>{var t,n;let{appointmentId:r,onStartVideoCall:i}=e;const[s,o]=(0,a.useState)(""),{toast:A}=ze(),c=Pe(),{data:l,isLoading:u}=Zr({queryKey:["appointment",r],enabled:!!r}),{data:d,isLoading:h}=Zr({queryKey:["patient",null===l||void 0===l?void 0:l.patientId],enabled:!(null===l||void 0===l||!l.patientId)}),{data:p,isLoading:f}=Zr({queryKey:["provider",null===l||void 0===l?void 0:l.providerId],enabled:!(null===l||void 0===l||!l.providerId)}),{data:g,isLoading:m}=Zr({queryKey:["clinicalNotes",r],enabled:!!r}),w=function(e,t){const n=Pe(t),[r]=a.useState((()=>new Ul(n,e)));a.useEffect((()=>{r.setOptions(e)}),[r,e]);const i=a.useSyncExternalStore(a.useCallback((e=>r.subscribe(le.batchCalls(e))),[r]),(()=>r.getCurrentResult()),(()=>r.getCurrentResult())),s=a.useCallback(((e,t)=>{r.mutate(e,t).catch(zr)}),[r]);if(i.error&&Wr(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}({mutationFn:async e=>(await Fe("POST","/api/clinical-notes",e)).json(),onSuccess:()=>{A({title:"Success",description:"Clinical note saved successfully"}),o(""),c.invalidateQueries({queryKey:["clinicalNotes",r]})},onError:()=>{A({title:"Error",description:"Failed to save clinical note",variant:"destructive"})}});return u||h||f||m?(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{children:(0,_e.jsx)(ri,{children:"Appointment Details"})}),(0,_e.jsx)(ii,{children:(0,_e.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,_e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]}):l&&d&&p?(0,_e.jsxs)("div",{className:"space-y-6",children:[(0,_e.jsxs)(ti,{children:[(0,_e.jsxs)(ni,{className:"flex flex-row items-center justify-between",children:[(0,_e.jsx)(ri,{children:"Appointment Details"}),(0,_e.jsxs)("div",{className:"flex gap-2",children:["video"===l.method&&(0,_e.jsx)(oi,{onClick:i,children:"Start Video Call"}),(0,_e.jsx)(oi,{variant:"outline",children:"Reschedule"}),(0,_e.jsx)(oi,{variant:"destructive",children:"Cancel"})]})]}),(0,_e.jsxs)(ii,{children:[(0,_e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"font-medium mb-4",children:"Patient Information"}),(0,_e.jsxs)("div",{className:"flex items-start",children:[d.profileImage?(0,_e.jsx)("img",{src:d.profileImage,alt:`${d.firstName} ${d.lastName}`,className:"w-20 h-20 rounded-md object-cover mr-4"}):(0,_e.jsx)("div",{className:"w-20 h-20 rounded-md bg-neutral-200 flex items-center justify-center mr-4",children:(0,_e.jsxs)("span",{className:"text-lg font-medium",children:[null===(t=d.firstName)||void 0===t?void 0:t.charAt(0),null===(n=d.lastName)||void 0===n?void 0:n.charAt(0)]})}),(0,_e.jsxs)("div",{children:[(0,_e.jsxs)("h4",{className:"font-medium",children:[d.firstName," ",d.lastName]}),(0,_e.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Patient ID"}),(0,_e.jsx)("p",{className:"font-medium",children:d.patientId})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),(0,_e.jsx)("p",{className:"font-medium",children:d.dob?Cs(new Date(d.dob),"MM/dd/yyyy"):"N/A"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,_e.jsx)("p",{className:"font-medium",children:d.phone||"N/A"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,_e.jsx)("p",{className:"font-medium",children:d.email||"N/A"})]})]})]})]}),(0,_e.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,_e.jsxs)(xl,{variant:d.insuranceVerified?"success":"warning",children:["Insurance ",d.insuranceVerified?"Verified":"Pending"]}),(0,_e.jsxs)(xl,{variant:d.formsCompleted?"success":"warning",children:["Forms ",d.formsCompleted?"Completed":"Pending"]})]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("h3",{className:"font-medium mb-4",children:"Appointment Details"}),(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Appointment ID"}),(0,_e.jsx)("p",{className:"font-medium",children:l.appointmentId})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Date & Time"}),(0,_e.jsxs)("p",{className:"font-medium",children:[Cs(new Date(l.date),"MMMM d, yyyy")," -"," ",l.time]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Provider"}),(0,_e.jsxs)("p",{className:"font-medium",children:[p.fullName," (",p.specialty,")"]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Type"}),(0,_e.jsx)("p",{className:"font-medium",children:l.type})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,_e.jsx)(xl,{variant:"confirmed"===l.status?"success":"warning",children:l.status})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Visit Method"}),(0,_e.jsx)("div",{className:"flex items-center",children:"video"===l.method?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(_r,{className:"w-4 h-4 mr-1 text-success-500"}),(0,_e.jsx)("span",{children:"Video Call"})]}):(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(Fl,{className:"w-4 h-4 mr-1 text-success-500"}),(0,_e.jsx)("span",{children:"In-Person"})]})})]})]})]})]}),(0,_e.jsxs)("div",{className:"mt-6",children:[(0,_e.jsx)("h3",{className:"font-medium mb-2",children:"Reason for Visit"}),(0,_e.jsx)("p",{className:"text-gray-700",children:l.reason||"No reason provided"})]})]})]}),(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{children:(0,_e.jsx)(ri,{children:"Clinical Notes"})}),(0,_e.jsx)(ii,{children:(0,_e.jsxs)("div",{className:"space-y-4",children:[null===g||void 0===g?void 0:g.map((e=>(0,_e.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,_e.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,_e.jsxs)("div",{children:[(0,_e.jsx)("p",{className:"font-medium",children:e.providerName}),(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:Cs(new Date(e.createdAt),"MMM d, yyyy h:mm a")})]})}),(0,_e.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.content})]},e.id))),(0,_e.jsxs)("div",{className:"mt-4",children:[(0,_e.jsx)(El,{placeholder:"Add a new clinical note...",value:s,onChange:e=>o(e.target.value),className:"min-h-[100px]"}),(0,_e.jsx)(oi,{onClick:()=>{s.trim()?w.mutate({appointmentId:r,providerId:null===p||void 0===p?void 0:p.id,content:s,createdAt:(new Date).toISOString()}):A({title:"Error",description:"Note cannot be empty",variant:"destructive"})},className:"mt-2",disabled:w.isLoading,children:w.isLoading?"Saving...":"Save Note"})]})]})})]})]}):(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{children:(0,_e.jsx)(ri,{children:"Appointment Details"})}),(0,_e.jsx)(ii,{children:(0,_e.jsxs)("div",{className:"text-center py-8",children:[(0,_e.jsx)("p",{className:"text-lg font-medium",children:"No appointment selected"}),(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Please select an appointment from the calendar to view details."})]})})]})};const _l=function(){return(0,a.useEffect)((()=>{document.title="Appointments - Seismic Connect"}),[]),(0,_e.jsxs)("div",{className:"space-y-6",children:[(0,_e.jsx)("h1",{className:"text-2xl font-semibold",children:"Appointments"}),(0,_e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,_e.jsx)("div",{className:"lg:col-span-2",children:(0,_e.jsx)(Sl,{})}),(0,_e.jsx)("div",{children:(0,_e.jsx)(Ql,{})})]})]})},Rl=a.forwardRef(((e,t)=>{let{className:n,type:r,...i}=e;return(0,_e.jsx)("input",{type:r,className:Cr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})}));Rl.displayName="Input";const Pl=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("div",{className:"relative w-full overflow-auto",children:(0,_e.jsx)("table",{ref:t,className:Cr("w-full caption-bottom text-sm",n),...r})})}));Pl.displayName="Table";const Nl=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("thead",{ref:t,className:Cr("[&_tr]:border-b",n),...r})}));Nl.displayName="TableHeader";const Ol=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("tbody",{ref:t,className:Cr("[&_tr:last-child]:border-0",n),...r})}));Ol.displayName="TableBody";const Ll=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("tr",{ref:t,className:Cr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...r})}));Ll.displayName="TableRow";const Dl=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("td",{ref:t,className:Cr("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...r})}));Dl.displayName="TableCell";const Hl=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)("th",{ref:t,className:Cr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...r})}));Hl.displayName="TableHead";const Ml=Sn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jl=Sn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Kl=Sn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Vl=Sn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var ql=a.forwardRef(((e,t)=>(0,_e.jsx)(dt.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));ql.displayName="Label";var Gl=ql;const $l=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,_e.jsx)(Gl,{ref:t,className:Cr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...r})}));$l.displayName=Gl.displayName;const Wl=function(){return(0,_e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)($l,{children:"Date of Birth"}),(0,_e.jsx)(Rl,{type:"date"})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)($l,{children:"Insurance Provider"}),(0,_e.jsx)(Rl,{placeholder:"Enter insurance provider..."})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)($l,{children:"Insurance ID"}),(0,_e.jsx)(Rl,{placeholder:"Enter insurance ID..."})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)($l,{children:"Phone Number"}),(0,_e.jsx)(Rl,{placeholder:"Enter phone number..."})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)($l,{children:"Email"}),(0,_e.jsx)(Rl,{type:"email",placeholder:"Enter email..."})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)($l,{children:"SSN"}),(0,_e.jsx)(Rl,{placeholder:"Enter SSN..."})]}),(0,_e.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 flex justify-end gap-2",children:[(0,_e.jsx)(oi,{variant:"outline",children:"Reset"}),(0,_e.jsx)(oi,{children:"Search"})]})]})};const zl=function(){const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(!1),{data:i}=Zr(["/api/patients"]);return(0,_e.jsxs)("div",{className:"space-y-6",children:[(0,_e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,_e.jsx)("h1",{className:"text-2xl font-semibold",children:"Patients"}),(0,_e.jsxs)(oi,{children:[(0,_e.jsx)(Ml,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]}),(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{children:(0,_e.jsx)(ri,{children:"Patient Search"})}),(0,_e.jsxs)(ii,{children:[(0,_e.jsxs)("div",{className:"flex gap-4",children:[(0,_e.jsx)("div",{className:"flex-1",children:(0,_e.jsx)(Rl,{placeholder:"Search patients...",value:e,onChange:e=>t(e.target.value)})}),(0,_e.jsx)(oi,{variant:"outline",onClick:()=>r(!n),children:"Advanced Search"})]}),n&&(0,_e.jsx)(Wl,{})]})]}),(0,_e.jsx)(ti,{children:(0,_e.jsx)(ii,{className:"p-0",children:(0,_e.jsxs)(Pl,{children:[(0,_e.jsx)(Nl,{children:(0,_e.jsxs)(Ll,{children:[(0,_e.jsx)(Hl,{children:"Name"}),(0,_e.jsx)(Hl,{children:"Contact"}),(0,_e.jsx)(Hl,{children:"Insurance"}),(0,_e.jsx)(Hl,{children:"Last Visit"}),(0,_e.jsx)(Hl,{children:"Status"}),(0,_e.jsx)(Hl,{children:"Actions"})]})}),(0,_e.jsx)(Ol,{children:null===i||void 0===i?void 0:i.map((e=>(0,_e.jsxs)(Ll,{children:[(0,_e.jsxs)(Dl,{children:[e.firstName," ",e.lastName]}),(0,_e.jsxs)(Dl,{children:[(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)(jl,{className:"w-4 h-4"}),e.phone]}),(0,_e.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,_e.jsx)(Kl,{className:"w-4 h-4"}),e.email]})]}),(0,_e.jsxs)(Dl,{children:[(0,_e.jsx)("div",{children:e.insuranceProvider}),(0,_e.jsx)("div",{className:"text-sm text-gray-500",children:e.insuranceId})]}),(0,_e.jsx)(Dl,{children:(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)(Qr,{className:"w-4 h-4"}),Cs(new Date,"MMM d, yyyy")]})}),(0,_e.jsx)(Dl,{children:(0,_e.jsx)(xl,{variant:e.insuranceVerified?"success":"warning",children:e.insuranceVerified?"Verified":"Pending"})}),(0,_e.jsx)(Dl,{children:(0,_e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,_e.jsx)(oi,{variant:"ghost",size:"icon",children:(0,_e.jsx)(Pr,{className:"w-4 h-4"})}),(0,_e.jsx)(oi,{variant:"ghost",size:"icon",children:(0,_e.jsx)(Vl,{className:"w-4 h-4"})})]})})]},e.id)))})]})})})]})};const Jl=function(){return(0,a.useEffect)((()=>{document.title="Reports - Seismic Connect"}),[]),(0,_e.jsxs)("div",{className:"space-y-6",children:[(0,_e.jsx)("h1",{className:"text-2xl font-semibold",children:"Reports"}),(0,_e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{children:(0,_e.jsx)(ri,{children:"Patient Demographics"})}),(0,_e.jsx)(ii,{children:"Coming soon..."})]})})]})};const Yl=function(){return(0,a.useEffect)((()=>{document.title="Settings - Seismic Connect"}),[]),(0,_e.jsxs)("div",{className:"space-y-6",children:[(0,_e.jsx)("h1",{className:"text-2xl font-semibold",children:"Settings"}),(0,_e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,_e.jsxs)(ti,{children:[(0,_e.jsx)(ni,{children:(0,_e.jsx)(ri,{children:"Account Settings"})}),(0,_e.jsx)(ii,{children:"Coming soon..."})]})})]})};const Xl=function(){return(0,_e.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,_e.jsxs)("div",{className:"text-center",children:[(0,_e.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"404"}),(0,_e.jsx)("p",{className:"text-lg text-gray-600",children:"Page not found"})]})})},Zl=Object.create(null);Zl.open="0",Zl.close="1",Zl.ping="2",Zl.pong="3",Zl.message="4",Zl.upgrade="5",Zl.noop="6";const eu=Object.create(null);Object.keys(Zl).forEach((e=>{eu[Zl[e]]=e}));const tu={type:"error",data:"parser error"},nu="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ru="function"===typeof ArrayBuffer,iu=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,su=(e,t,n)=>{let{type:r,data:i}=e;return nu&&i instanceof Blob?t?n(i):ou(i,n):ru&&(i instanceof ArrayBuffer||iu(i))?t?n(i):ou(new Blob([i]),n):n(Zl[r]+(i||""))},ou=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function au(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Au;const cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lu="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)lu[cu.charCodeAt(n)]=n;const uu="function"===typeof ArrayBuffer,du=(e,t)=>{if("string"!==typeof e)return{type:"message",data:pu(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:hu(e.substring(1),t)};return eu[n]?e.length>1?{type:eu[n],data:e.substring(1)}:{type:eu[n]}:tu},hu=(e,t)=>{if(uu){const n=(e=>{let t,n,r,i,s,o=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const c=new ArrayBuffer(o),l=new Uint8Array(c);for(t=0;t<a;t+=4)n=lu[e.charCodeAt(t)],r=lu[e.charCodeAt(t+1)],i=lu[e.charCodeAt(t+2)],s=lu[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&s;return c})(e);return pu(n,t)}return{base64:!0,data:e}},pu=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,fu=String.fromCharCode(30);function gu(){return new TransformStream({transform(e,t){!function(e,t){nu&&e.data instanceof Blob?e.data.arrayBuffer().then(au).then(t):ru&&(e.data instanceof ArrayBuffer||iu(e.data))?t(au(e.data)):su(e,!1,(e=>{Au||(Au=new TextEncoder),t(Au.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let mu;function wu(e){return e.reduce(((e,t)=>e+t.length),0)}function yu(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function vu(e){if(e)return function(e){for(var t in vu.prototype)e[t]=vu.prototype[t];return e}(e)}vu.prototype.on=vu.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},vu.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},vu.prototype.off=vu.prototype.removeListener=vu.prototype.removeAllListeners=vu.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},vu.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},vu.prototype.emitReserved=vu.prototype.emit,vu.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},vu.prototype.hasListeners=function(e){return!!this.listeners(e).length};const bu="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Cu="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Bu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Su=Cu.setTimeout,Eu=Cu.clearTimeout;function ku(e,t){t.useNativeTimers?(e.setTimeoutFn=Su.bind(Cu),e.clearTimeoutFn=Eu.bind(Cu)):(e.setTimeoutFn=Cu.setTimeout.bind(Cu),e.clearTimeoutFn=Cu.clearTimeout.bind(Cu))}function Iu(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Tu extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class xu extends vu{constructor(e){super(),this.writable=!1,ku(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Tu(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=du(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Uu extends xu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(fu),r=[];for(let i=0;i<n.length;i++){const e=du(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,s)=>{su(e,!1,(e=>{r[s]=e,++i===n&&t(r.join(fu))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Iu()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Fu=!1;try{Fu="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(uH){}const Qu=Fu;function _u(){}class Ru extends Uu{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Pu extends vu{constructor(e,t,n){super(),this.createRequest=e,ku(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Bu(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(r){return void this.setTimeoutFn((()=>{this._onError(r)}),0)}"undefined"!==typeof document&&(this._index=Pu.requestsCount++,Pu.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=_u,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete Pu.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Pu.requestsCount=0,Pu.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Nu);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Cu?"pagehide":"unload",Nu,!1)}function Nu(){for(let e in Pu.requests)Pu.requests.hasOwnProperty(e)&&Pu.requests[e].abort()}const Ou=function(){const e=Lu({xdomain:!1});return e&&null!==e.responseType}();function Lu(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Qu))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Cu[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const Du="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Hu extends xu{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Du?{}:Bu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(uH){return this.emitReserved("error",uH)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;su(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(t){}r&&bu((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Iu()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Mu=Cu.WebSocket||Cu.MozWebSocket;const ju={websocket:class extends Hu{createSocket(e,t,n){return Du?new Mu(e,t,n):t?new Mu(e,t):new Mu(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends xu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(uH){return this.emitReserved("error",uH)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){mu||(mu=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(0===r){if(wu(n)<1)break;const e=yu(n,1);s=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(wu(n)<2)break;const e=yu(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(wu(n)<8)break;const e=yu(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){a.enqueue(tu);break}i=s*Math.pow(2,32)+t.getUint32(4),r=3}else{if(wu(n)<i)break;const e=yu(n,i);a.enqueue(du(s?e:mu.decode(e),t)),r=0}if(0===i||i>e){a.enqueue(tu);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=gu();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())})).catch((e=>{}))};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&bu((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Ru{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ou&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Pu(Lu,this.uri(),e)}}},Ku=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qu(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Ku.exec(e||""),s={},o=14;for(;o--;)s[Vu[o]]=i[o]||"";return-1!=n&&-1!=r&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,s.query),s}const Gu="function"===typeof addEventListener&&"function"===typeof removeEventListener,$u=[];Gu&&addEventListener("offline",(()=>{$u.forEach((e=>e()))}),!1);class Wu extends vu{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=qu(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=qu(t.host).host);ku(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Gu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},$u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Wu.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Wu.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,bu((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(Wu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=$u.indexOf(this._offlineEventListener);-1!==e&&$u.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Wu.protocol=4;class zu extends Wu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Wu.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Wu.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function o(){s("transport closed")}function a(){s("socket closed")}function A(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",s),t.removeListener("close",o),this.off("close",a),this.off("upgrading",A)};t.once("open",r),t.once("error",s),t.once("close",o),this.once("close",a),this.once("upgrading",A),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Ju extends zu{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>ju[e])).filter((e=>!!e))),super(e,t)}}const Yu="function"===typeof ArrayBuffer,Xu=Object.prototype.toString,Zu="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Xu.call(Blob),ed="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Xu.call(File);function td(e){return Yu&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Zu&&e instanceof Blob||ed&&e instanceof File}function nd(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(nd(e[t]))return!0;return!1}if(td(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return nd(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&nd(e[n]))return!0;return!1}function rd(e){const t=[],n=e.data,r=e;return r.data=id(n,t),r.attachments=t.length,{packet:r,buffers:t}}function id(e,t){if(!e)return e;if(td(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=id(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=id(e[r],t));return n}return e}function sd(e,t){return e.data=od(e.data,t),delete e.attachments,e}function od(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=od(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=od(e[n],t));return e}const ad=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ad=5;var cd;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(cd||(cd={}));class ld{constructor(e){this.replacer=e}encode(e){return e.type!==cd.EVENT&&e.type!==cd.ACK||!nd(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===cd.EVENT?cd.BINARY_EVENT:cd.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==cd.BINARY_EVENT&&e.type!==cd.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=rd(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function ud(e){return"[object Object]"===Object.prototype.toString.call(e)}class dd extends vu{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===cd.BINARY_EVENT;n||t.type===cd.BINARY_ACK?(t.type=n?cd.EVENT:cd.ACK,this.reconstructor=new hd(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!td(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===cd[n.type])throw new Error("unknown packet type "+n.type);if(n.type===cd.BINARY_EVENT||n.type===cd.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!dd.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case cd.CONNECT:return ud(t);case cd.DISCONNECT:return void 0===t;case cd.CONNECT_ERROR:return"string"===typeof t||ud(t);case cd.EVENT:case cd.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===ad.indexOf(t[0]));case cd.ACK:case cd.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hd{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=sd(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function pd(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const fd=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gd extends vu{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[pd(e,"open",this.onopen.bind(this)),pd(e,"packet",this.onpacket.bind(this)),pd(e,"error",this.onerror.bind(this)),pd(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(fd.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:cd.EVENT,data:s,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),a.id=e}const A=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!A||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const s=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i),o=function(){r.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};o.withError=!0,this.acks[e]=o}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];n(null,...s)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:cd.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case cd.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case cd.EVENT:case cd.BINARY_EVENT:this.onevent(e);break;case cd.ACK:case cd.BINARY_ACK:this.onack(e);break;case cd.DISCONNECT:this.ondisconnect();break;case cd.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];t.packet({type:cd.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:cd.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function md(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}md.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},md.prototype.reset=function(){this.attempts=0},md.prototype.setMin=function(e){this.ms=e},md.prototype.setMax=function(e){this.max=e},md.prototype.setJitter=function(e){this.jitter=e};class wd extends vu{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,ku(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new md({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ju(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=pd(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=pd(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(pd(e,"ping",this.onping.bind(this)),pd(e,"data",this.ondata.bind(this)),pd(e,"error",this.onerror.bind(this)),pd(e,"close",this.onclose.bind(this)),pd(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){bu((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new gd(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const yd={};function vd(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=qu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=yd[i]&&s in yd[i].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||o?a=new wd(r,t):(yd[i]||(yd[i]=new wd(r,t)),a=yd[i]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(vd,{Manager:wd,Socket:gd,io:vd,connect:vd});var bd={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cd=a.createContext&&a.createContext(bd),Bd=["attr","size","title"];function Sd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(this,arguments)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){Td(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Td(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xd(e){return e&&e.map(((e,t)=>a.createElement(e.tag,Id({key:t},e.attr),xd(e.child))))}function Ud(e){return t=>a.createElement(Fd,Ed({attr:Id({},e.attr)},t),xd(e.child))}function Fd(e){var t=t=>{var n,{attr:r,size:i,title:s}=e,o=Sd(e,Bd),A=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",Ed({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Id(Id({color:e.color||t.color},t.style),e.style),height:A,width:A,xmlns:"http://www.w3.org/2000/svg"}),s&&a.createElement("title",null,s),e.children)};return void 0!==Cd?a.createElement(Cd.Consumer,null,(e=>t(e))):t(bd)}function Qd(e){return Ud({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function _d(e){return Ud({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M268.2 381.4l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48c-10.7 4.6-16.5 16.1-13.9 27.5l24 104c2.5 10.8 12.1 18.6 23.4 18.6 100.7 0 193.7-32.4 269.7-86.9l-80-61.8c-10.9 6.5-22.1 12.7-33.6 18.1zm365.6 76.7L475.1 335.5C537.9 256.4 576 156.9 576 48c0-11.2-7.7-20.9-18.6-23.4l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-12.2 26.1-27.9 50.3-46 72.8L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3z"},child:[]}]})(e)}function Rd(e){return Ud({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Pd(e){return Ud({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}const Nd=vd("https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net"),Od=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),i=(0,a.useState)(!0)[0],[s,o]=(0,a.useState)(!1),[A,c]=(0,a.useState)(""),[l,u]=(0,a.useState)("upcoming"),[d,h]=(0,a.useState)(""),[p,f]=(0,a.useState)("online"),g=(0,a.useState)(!1)[0],m=[{appointmentId:"demo-appointment-1",patientName:"John Doe",date:"2025-04-30",time:"10:00 AM",reason:"Follow-up consultation"},{appointmentId:"demo-appointment-2",patientName:"Jane Smith",date:"2025-04-30",time:"2:30 PM",reason:"Initial consultation"}],w=m.find((e=>e.appointmentId===d))||null,y=w?{firstName:w.patientName.split(" ")[0],lastName:w.patientName.split(" ")[1]}:null,[v,b]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),E=(0,a.useState)(null)[1],k=e=>{const t=new Date(`${e.date}T${e.time}`),n=new Date,r=new Date(t.getTime()-9e5),i=new Date(t.getTime()+36e5);return n<r?(alert("Meeting is not available yet. Please try again at the scheduled time."),S(!0),!1):!(n>i)||(alert("This meeting has expired. Please schedule a new appointment."),S(!0),!1)};(0,a.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("room");if(e){r(e),u("join");const t=m.find((t=>t.appointmentId===e));t?(E(t),k(t)):b(!0)}}),[]);const I="Guest",T=new URLSearchParams(window.location.search).get("role")||"doctor",x=e=>{const n=m.find((t=>t.appointmentId===e));n?(h(e),r(e),t("Mike"),E(n),k(n)&&(U(e),(e=>{if(!e)return alert("Enter a room ID");Nd.emit("create-room",{roomId:e,appointmentDetails:{}}),e?(Nd.emit("createRoom",{roomId:e,nickname:I,role:T}),Nd.once("roomCreated",(e=>{console.log(""),console.log("Room created:",e.roomId)})),Nd.once("roomExists",(()=>{console.log("Room already exists. Please choose another Room ID.")}))):console.log("Both Room ID and Nickname are required.")})(e))):b(!0)},U=t=>{const n=`${window.location.href.split("?")[0]}?room=${encodeURIComponent(t)}&role=patient&name=${e}`;return c(n),o(!0),n};return(0,_e.jsx)("div",{className:"bg-gray-50 flex flex-col items-center min-h-screen p-4",children:(0,_e.jsxs)("div",{className:"rounded-lg border bg-white shadow-sm w-full",children:[(0,_e.jsxs)("div",{className:"flex flex-col space-y-1.5 p-6",children:[(0,_e.jsx)("h3",{className:"text-2xl font-semibold leading-none tracking-tight",children:"Seismic Video Call"}),(0,_e.jsx)("p",{className:"text-sm text-gray-500",children:"Connect with patients through secure video consultations"})]}),(0,_e.jsx)("div",{className:"p-6 pt-0",children:(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsxs)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500 mb-4",children:["doctor"===T&&(0,_e.jsx)("button",{onClick:()=>u("upcoming"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("upcoming"===l?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Upcoming Calls"}),"patient"===T&&(0,_e.jsx)("button",{onClick:()=>u("join"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("join"===l?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Join by ID"}),"doctor"===T&&(0,_e.jsx)("button",{onClick:()=>u("history"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("history"===l?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Call History"})]}),"upcoming"===l&&(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsxs)("div",{className:"grid gap-2",children:[(0,_e.jsx)("label",{htmlFor:"appointment",className:"text-sm font-medium text-gray-700",children:"Select an appointment"}),(0,_e.jsx)("div",{className:"relative",children:(0,_e.jsxs)("select",{value:d,onChange:e=>x(e.target.value),className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,_e.jsx)("option",{value:"",children:"Select an appointment"}),g?(0,_e.jsx)("option",{value:"loading",disabled:!0,children:"Loading appointments..."}):m.length>0?m.map((e=>(0,_e.jsxs)("option",{value:e.appointmentId,children:[e.patientName," - ",e.date," ",e.time]},e.appointmentId))):(0,_e.jsx)("option",{value:"no-appointments",disabled:!0,children:"No upcoming video calls"})]})})]}),d&&(0,_e.jsxs)("div",{className:"mt-4",children:[(0,_e.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Appointment Type"}),(0,_e.jsxs)("div",{className:"flex space-x-4",children:[(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsx)("input",{type:"radio",id:"online",name:"appointmentType",value:"online",checked:"online"===p,onChange:()=>f("online"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,_e.jsx)("label",{htmlFor:"online",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Online"})]}),(0,_e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,_e.jsx)("input",{type:"radio",id:"in-person",name:"appointmentType",value:"in-person",checked:"in-person"===p,onChange:()=>f("in-person"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,_e.jsx)("label",{htmlFor:"in-person",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"In-Person"})]})]})]}),d&&w&&y&&(0,_e.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md mt-4",children:[(0,_e.jsx)("h3",{className:"font-medium mb-2",children:"Appointment Details"}),(0,_e.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"text-gray-500",children:"Patient:"}),(0,_e.jsxs)("span",{className:"ml-2 font-medium",children:[y.firstName," ",y.lastName]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"text-gray-500",children:"Appointment ID:"}),(0,_e.jsx)("span",{className:"ml-2 font-medium",children:w.appointmentId})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"text-gray-500",children:"Date & Time:"}),(0,_e.jsxs)("span",{className:"ml-2 font-medium",children:[w.date," at"," ",w.time]})]}),(0,_e.jsxs)("div",{children:[(0,_e.jsx)("span",{className:"text-gray-500",children:"Reason:"}),(0,_e.jsx)("span",{className:"ml-2 font-medium",children:w.reason||"Not specified"})]})]})]}),(0,_e.jsx)("div",{className:"w-full mb-6",children:(0,_e.jsxs)("div",{className:"flex flex-row justify-between w-full gap-4",children:[(0,_e.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Your Name",(0,_e.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]}),(0,_e.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:[i?"Meeting ID":"Meeting ID (from invite link)",(0,_e.jsx)("input",{placeholder:"Meeting ID",value:n,onChange:e=>r(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]})]})}),(0,_e.jsx)("div",{className:"flex justify-end space-x-2 mt-4",children:(0,_e.jsxs)("button",{onClick:()=>{n?(t=>{B(`/meeting-room?roomId=${encodeURIComponent(t)}&role=doctor&name=${e}`)})(n):alert("Please select an appointment first")},className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 py-2",children:[(0,_e.jsx)(Pd,{className:"mr-2"}),"Start Video Call"]})}),s&&(0,_e.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[(0,_e.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Invite others to join"}),(0,_e.jsxs)("div",{className:"flex items-center",children:[(0,_e.jsx)("input",{type:"text",value:A,readOnly:!0,className:"border border-gray-300 rounded-l-lg px-4 py-2 flex-grow"}),(0,_e.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(A),alert("Link copied to clipboard!")},className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600",children:[(0,_e.jsx)(Qd,{className:"inline-block mr-1"})," Copy"]})]}),(0,_e.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to join your meeting"})]})]}),"join"===l&&(0,_e.jsxs)("div",{className:"space-y-4",children:[(0,_e.jsx)("div",{className:"w-full mb-6",children:(0,_e.jsxs)("div",{className:"flex flex-row justify-between w-full gap-4",children:[(0,_e.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Your Name",(0,_e.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]}),(0,_e.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Meeting ID (from invite link)",(0,_e.jsx)("input",{placeholder:"Meeting ID",value:n,onChange:e=>r(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]})]})}),(0,_e.jsx)("div",{className:"flex justify-end",children:(0,_e.jsx)("button",{onClick:()=>(t=>{B(`/meeting-room?roomId=${encodeURIComponent(t)}&role=patient&name=${e}`)})(n),disabled:!n||!e,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Join Call"})})]}),"history"===l&&(0,_e.jsx)("div",{className:"space-y-4",children:(0,_e.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,_e.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Call History"}),(0,_e.jsx)("p",{children:"Your recent video call history will appear here."})]})})]})}),v&&(0,_e.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:(0,_e.jsx)("p",{children:"Invalid meeting ID. Please check your meeting link."})}),C&&(0,_e.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:(0,_e.jsx)("p",{children:"This meeting is not available at this time."})})]})})},Ld={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Dd=400,Hd=499,Md=500,jd=599,Kd=[Ld.OPENID_SCOPE,Ld.PROFILE_SCOPE,Ld.OFFLINE_ACCESS_SCOPE],Vd=[...Kd,Ld.EMAIL_SCOPE],qd="Content-Type",Gd="Content-Length",$d="Retry-After",Wd="X-AnchorMailbox",zd="x-ms-request-id",Jd="x-ms-httpver",Yd="active-account-filters",Xd="common",Zd="organizations",eh="consumers",th="access_token",nh="xms_cc",rh={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},ih={PLAIN:"plain",S256:"S256"},sh="code",oh="id_token token refresh_token",ah="query",Ah="fragment",ch="query",lh="authorization_code",uh="refresh_token",dh="MSSTS",hh="ADFS",ph="Generic",fh="-",gh=".",mh={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},wh="appmetadata",yh="1",vh="authority-metadata",bh=86400,Ch="config",Bh="cache",Sh="network",Eh="hardcoded_values",kh={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ih={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Th=60,xh=3600,Uh="throttling",Fh="retry-after, h429",Qh="invalid_grant",_h="client_mismatch",Rh=200,Ph=400,Nh="1",Oh="3",Lh="4",Dh="2",Hh="4",Mh="5",jh="0",Kh="1",Vh="2",qh="3",Gh="4",$h="pop",Wh="unexpected_error",zh="post_request_failed",Jh={[Wh]:"Unexpected error in authentication.",[zh]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Yh extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,Yh.prototype),this.errorCode=e||Ld.EMPTY_STRING,this.errorMessage=t||Ld.EMPTY_STRING,this.subError=n||Ld.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Xh(e,t){return new Yh(e,t?`${Jh[e]} ${t}`:Jh[e])}const Zh="storage_not_supported",ep="stubbed_public_client_application_called",tp="in_mem_redirect_unavailable",np={[Zh]:"Given storage configuration option was not supported.",[ep]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[tp]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class rp extends Yh{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,rp.prototype)}}function ip(e){return new rp(e,np[e])}const sp={initialize:()=>Promise.reject(ip(ep)),acquireTokenPopup:()=>Promise.reject(ip(ep)),acquireTokenRedirect:()=>Promise.reject(ip(ep)),acquireTokenSilent:()=>Promise.reject(ip(ep)),acquireTokenByCode:()=>Promise.reject(ip(ep)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(ip(ep)),loginPopup:()=>Promise.reject(ip(ep)),loginRedirect:()=>Promise.reject(ip(ep)),logout:()=>Promise.reject(ip(ep)),logoutRedirect:()=>Promise.reject(ip(ep)),logoutPopup:()=>Promise.reject(ip(ep)),ssoSilent:()=>Promise.reject(ip(ep)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw ip(ep)},getLogger:()=>{throw ip(ep)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw ip(ep)},hydrateCache:()=>Promise.reject(ip(ep)),clearCache:()=>Promise.reject(ip(ep))},op="invalid_grant",ap=483,Ap=600,cp="msal",lp=30,up="msal.js.browser",dp="53ee284d-920a-4b59-9d30-a60315b26836",hp="ppnbnpeolgkicgegkbkbjmhlideopiji",pp="MATS",fp="Handshake",gp="HandshakeResponse",mp="GetToken",wp="Response",yp="localStorage",vp="sessionStorage",bp="memoryStorage",Cp="GET",Bp="POST",Sp="signin",Ep="signout",kp="request.origin",Ip="urlHash",Tp="request.params",xp="code.verifier",Up="interaction.status",Fp="request.native",Qp="msal.account.keys",_p="msal.token.keys",Rp="wrapper.sku",Pp="wrapper.version",Np=861,Op=862,Lp=863,Dp=865,Hp=866,Mp=61,jp=961,Kp=962;var Vp;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(Vp||(Vp={}));const qp="startup",Gp="login",$p="logout",Wp="acquireToken",zp="ssoSilent",Jp="handleRedirect",Yp="none",Xp={scopes:Kd},Zp="@azure/msal-react",ef="msal.db",tf=`${ef}.keys`,nf=0,rf=1,sf=2,of=3,af=4,Af=5,cf=[nf,Af,af];var lf;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(lf||(lf={}));class uf{constructor(e,t,n){this.level=lf.Info;const r=e||uf.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:lf.Info,this.correlationId=r.correlationId||Ld.EMPTY_STRING,this.packageName=t||Ld.EMPTY_STRING,this.packageVersion=n||Ld.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:lf.Info}}clone(e,t,n){return new uf({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${lf[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:lf.Error,containsPii:!1,correlationId:t||Ld.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:lf.Error,containsPii:!0,correlationId:t||Ld.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:lf.Warning,containsPii:!1,correlationId:t||Ld.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:lf.Warning,containsPii:!0,correlationId:t||Ld.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:lf.Info,containsPii:!1,correlationId:t||Ld.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:lf.Info,containsPii:!0,correlationId:t||Ld.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:lf.Verbose,containsPii:!1,correlationId:t||Ld.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:lf.Verbose,containsPii:!0,correlationId:t||Ld.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:lf.Trace,containsPii:!1,correlationId:t||Ld.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:lf.Trace,containsPii:!0,correlationId:t||Ld.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const df={instance:sp,inProgress:Yp,accounts:[],logger:new uf({})},hf=a.createContext(df),pf=(hf.Consumer,"msal:initializeStart"),ff="msal:initializeEnd",gf="msal:accountAdded",mf="msal:accountRemoved",wf="msal:activeAccountChanged",yf="msal:loginStart",vf="msal:loginSuccess",bf="msal:loginFailure",Cf="msal:acquireTokenStart",Bf="msal:acquireTokenSuccess",Sf="msal:acquireTokenFailure",Ef="msal:acquireTokenFromNetworkStart",kf="msal:ssoSilentStart",If="msal:ssoSilentSuccess",Tf="msal:ssoSilentFailure",xf="msal:acquireTokenByCodeStart",Uf="msal:acquireTokenByCodeSuccess",Ff="msal:acquireTokenByCodeFailure",Qf="msal:handleRedirectStart",_f="msal:handleRedirectEnd",Rf="msal:popupOpened",Pf="msal:logoutStart",Nf="msal:logoutSuccess",Of="msal:logoutFailure",Lf="msal:logoutEnd",Df="msal:restoreFromBFCache";class Hf{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case yf:return Gp;case kf:return zp;case Cf:if(e.interactionType===Vp.Redirect||e.interactionType===Vp.Popup)return Wp;break;case Qf:return Jp;case Pf:return $p;case If:case Tf:if(t&&t!==zp)break;return Yp;case Lf:if(t&&t!==$p)break;return Yp;case _f:if(t&&t!==Jp)break;return Yp;case vf:case bf:case Bf:case Sf:case Df:if(e.interactionType===Vp.Redirect||e.interactionType===Vp.Popup){if(t&&t!==Gp&&t!==Wp)break;return Yp}}return null}}function Mf(e,t){return"function"===typeof e?e(t):e}function jf(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}const Kf="3.0.12",Vf="UNBLOCK_INPROGRESS",qf="EVENT",Gf=(e,t)=>{const{type:n,payload:r}=t;let i=e.inProgress;switch(n){case Vf:e.inProgress===qp&&(i=Yp,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case qf:const t=r.message,s=Hf.getInteractionStatusFromEvent(t,e.inProgress);s&&(r.logger.info(`MsalProvider - ${t.eventType} results in setting inProgress from ${e.inProgress} to ${s}`),i=s);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===qp)return e;const s=r.instance.getAllAccounts();return i===e.inProgress||jf(s,e.accounts)?i!==e.inProgress?{...e,inProgress:i}:jf(s,e.accounts)?e:{...e,accounts:s}:{...e,inProgress:i,accounts:s}};function $f(e){let{instance:t,children:n}=e;(0,a.useEffect)((()=>{t.initializeWrapperLibrary(Zp,Kf)}),[t]);const r=(0,a.useMemo)((()=>t.getLogger().clone("@azure/msal-react",Kf)),[t]),[i,s]=(0,a.useReducer)(Gf,void 0,(()=>({inProgress:qp,accounts:[]})));(0,a.useEffect)((()=>{const e=t.addEventCallback((e=>{s({payload:{instance:t,logger:r,message:e},type:qf})}));return r.verbose(`MsalProvider - Registered event callback with id: ${e}`),t.initialize().then((()=>{t.handleRedirectPromise().catch((()=>{})).finally((()=>{s({payload:{instance:t,logger:r},type:Vf})}))})).catch((()=>{})),()=>{e&&(r.verbose(`MsalProvider - Removing event callback ${e}`),t.removeEventCallback(e))}}),[t,r]);const o={instance:t,inProgress:i.inProgress,accounts:i.accounts,logger:r};return a.createElement(hf.Provider,{value:o},n)}const Wf=()=>(0,a.useContext)(hf);function zf(e){const{accounts:t,inProgress:n}=Wf(),r=(0,a.useMemo)((()=>n!==qp&&function(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!function(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter((e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&(!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase())))[0]||null}(e,t):e.length>0}(t,e)),[t,n,e]);return r}function Jf(e){let{username:t,homeAccountId:n,localAccountId:r,children:i}=e;const s=Wf();return zf((0,a.useMemo)((()=>({username:t,homeAccountId:n,localAccountId:r})),[t,n,r]))&&s.inProgress!==qp?a.createElement(a.Fragment,null,Mf(i,s)):null}function Yf(e){let{username:t,homeAccountId:n,localAccountId:r,children:i}=e;const s=Wf();return zf((0,a.useMemo)((()=>({username:t,homeAccountId:n,localAccountId:r})),[t,n,r]))||s.inProgress===qp||s.inProgress===Jp?null:a.createElement(a.Fragment,null,Mf(i,s))}const Xf={auth:{clientId:"529bcde4-d3c1-4896-9277-b7d72ec4f57b",authority:"https://login.microsoftonline.com/b3e3a3db-e3db-4f76-9a7c-5bca46062c8c",redirectUri:"https://victorious-mushroom-08b7e7d0f.4.azurestaticapps.net/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,n)=>{n||e!==lf.Error||console.error(t)}}}},Zf={scopes:["openid","profile","User.Read","Directory.Read.All","Group.Read.All","User.Read.All"]},eg="https://graph.microsoft.com/v1.0/me";const tg=()=>{const{instance:e,accounts:t}=Wf(),[n,r]=(0,a.useState)(!1),i=(0,a.useState)(null)[1];function s(){e.acquireTokenSilent({...Zf,account:t[0]}).then((e=>{(async function(e){const t=new Headers,n=`Bearer ${e}`;return t.append("Authorization",n),fetch(eg,{method:"GET",headers:t}).then((e=>e.json())).catch((e=>console.log(e)))})(e.accessToken).then((e=>{i(e)}))}))}const o=t=>{"popup"===t?e.loginPopup(Zf).then((e=>{s()})).catch((e=>{console.log(e)})):"redirect"===t&&e.loginRedirect(Zf).catch((e=>{console.log(e)}))};return(0,_e.jsxs)("div",{className:"relative ml-auto",children:[(0,_e.jsx)("button",{onClick:()=>r(!n),className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Sign In"}),n&&(0,_e.jsxs)("div",{className:"absolute left-0 mt-2 w-56 bg-white border border-gray-300 rounded-md shadow-lg z-50",children:[(0,_e.jsx)("button",{onClick:()=>{o("popup"),r(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Sign in using Popup"}),(0,_e.jsx)("button",{onClick:()=>{o("redirect"),r(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Sign in using Redirect"})]})]})};let ng=!0,rg=!0;function ig(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function sg(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const s=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,s),i.apply(this,[e,s])};const s=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(n))return s.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function og(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(ng=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function ag(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(rg=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Ag(){if("object"===typeof window){if(ng)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function cg(e,t){rg&&console.warn(e+" is deprecated, please use "+t+" instead.")}function lg(e){return"[object Object]"===Object.prototype.toString.call(e)}function ug(e){return lg(e)?Object.keys(e).reduce((function(t,n){const r=lg(e[n]),i=r?ug(e[n]):e[n],s=r&&!Object.keys(i).length;return void 0===i||s?t:Object.assign(t,{[n]:i})}),{}):e}function dg(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?dg(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{dg(e,e.get(t),n)}))})))}function hg(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const s=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&s.push(e)})),s.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&dg(e,n,i)}))})),i}const pg=Ag;function fg(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"===typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){let s=e.video.facingMode;s=s&&("object"===typeof s?s:{ideal:s});const o=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||o)){let t;if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?t=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let o=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!o&&n.length&&t.includes("back")&&(o=n[n.length-1]),o&&(e.video.deviceId=s.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=r(e.video),pg("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return pg("chrome: "+JSON.stringify(e)),i(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(s(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(s(e))))))}}}function gg(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,s=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:s||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function mg(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function wg(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else sg(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function yg(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function vg(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"===typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(s(i(e)))};return t.apply(this,[r,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(s(i(t)))},n])})).then(n,r)}}function bg(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>hg(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),sg(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>hg(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Cg(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function Bg(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Cg(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function s(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[t=>{const n=s(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>s(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=a.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Sg(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function Eg(e,t){sg(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function kg(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){cg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"===typeof n&&"object"===typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"===typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Ig(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function Tg(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function xg(e,t){if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,s]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,s)}}function Ug(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Fg(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),sg(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Qg(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){cg("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function _g(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Rg(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function Pg(e){if("object"!==typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function Ng(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function Og(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function Lg(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function Dg(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function Hg(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let a=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){const r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function Mg(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(jg(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function jg(e){return e&&void 0!==e.video?Object.assign({},e,{video:ug(e.video)}):e}function Kg(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(cg("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function Vg(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function qg(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Gg(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var $g=n(824),Wg=n.n($g);function zg(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),r=Wg().parseCandidate(e.candidate);for(const e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,sg(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function Jg(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||sg(e,"icecandidate",(e=>{if(e.candidate){const t=Wg().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function Yg(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=Wg().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Wg().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!==n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=Wg().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>i}),this._sctp=s}return n.apply(this,arguments)}}function Xg(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},sg(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function Zg(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function em(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function tm(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function nm(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!==typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return n.apply(this,[e]);return("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const o=Ag,a=function(e){const t={browser:null,version:null};if("undefined"===typeof e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(ig(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(ig(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=parseInt(ig(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=ig(n.userAgent,/Version\/(\d+(\.?\d+))/,1)}return t}(e),A={browserDetails:a,commonShim:s,extractVersion:ig,disableLog:og,disableWarnings:ag,sdp:$g};switch(a.browser){case"chrome":if(!t||!Sg||!n.shimChrome)return o("Chrome shim is not included in this adapter release."),A;if(null===a.version)return o("Chrome shim can not determine version, not shimming."),A;o("adapter.js shimming chrome."),A.browserShim=t,tm(e,a),nm(e),fg(e,a),mg(e),Sg(e,a),wg(e),Bg(e,a),yg(e),vg(e),bg(e),Eg(e,a),zg(e),Jg(e),Zg(e),Yg(e,a),Xg(e),em(e,a);break;case"firefox":if(!r||!xg||!n.shimFirefox)return o("Firefox shim is not included in this adapter release."),A;o("adapter.js shimming firefox."),A.browserShim=r,tm(e,a),nm(e),kg(e,a),xg(e,a),Tg(e),Qg(e),Ug(e),Fg(e),_g(e),Rg(e),Pg(e),Ng(e),Og(e),zg(e),Zg(e),Yg(e,a),Xg(e);break;case"safari":if(!i||!n.shimSafari)return o("Safari shim is not included in this adapter release."),A;o("adapter.js shimming safari."),A.browserShim=i,tm(e,a),nm(e),Kg(e),qg(e),Hg(e),Lg(e),Dg(e),Vg(e),Mg(e),Gg(e),zg(e),Jg(e),Yg(e,a),Xg(e),em(e,a);break;default:o("Unsupported browser!")}}({window:"undefined"===typeof window?void 0:window});const rm=Symbol.for("protobuf-ts/message-type");function im(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);"_"==i?t=!0:/\d/.test(i)?(n.push(i),t=!0):t?(n.push(i.toUpperCase()),t=!1):0==r?n.push(i.toLowerCase()):n.push(i)}return n.join("")}var sm,om,am;function Am(e){var t,n,r,i;return e.localName=null!==(t=e.localName)&&void 0!==t?t:im(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:im(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:am.NO,e.opt=null!==(i=e.opt)&&void 0!==i?i:!e.repeat&&(!e.oneof&&"message"==e.kind),e}function cm(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(sm||(sm={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(om||(om={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(am||(am={}));class lm{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;const e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":r.opt&&!r.repeat||e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<0)return!0;if(null===e||void 0===e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),i=this.data;if(r.length<i.req.length||i.req.some((e=>!r.includes(e))))return!1;if(!n&&r.some((e=>!i.known.includes(e))))return!1;if(t<1)return!0;for(const s of i.oneofs){const r=e[s];if(!cm(r))return!1;if(void 0===r.oneofKind)continue;const i=this.fields.find((e=>e.localName===r.oneofKind));if(!i)return!1;if(!this.field(r[r.oneofKind],i,n,t))return!1}for(const s of this.fields)if(void 0===s.oneof&&!this.field(e[s.localName],s,n,t))return!1;return!0}field(e,t,n,r){let i=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:i?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:i?this.scalars(e,sm.INT32,r):this.scalar(e,sm.INT32);case"message":return void 0===e||(i?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r));case"map":if("object"!=typeof e||null===e)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),sm.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let i=0;i<e.length&&i<r;i++)if(!t.isAssignable(e[i],r-1))return!1}else for(let i=0;i<e.length&&i<r;i++)if(!t.is(e[i],r-1))return!1;return!0}scalar(e,t,n){let r=typeof e;switch(t){case sm.UINT64:case sm.FIXED64:case sm.INT64:case sm.SFIXED64:case sm.SINT64:switch(n){case om.BIGINT:return"bigint"==r;case om.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case sm.BOOL:return"boolean"==r;case sm.STRING:return"string"==r;case sm.BYTES:return e instanceof Uint8Array;case sm.DOUBLE:case sm.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(let i=0;i<e.length&&i<n;i++)if(!this.scalar(e[i],t,r))return!1;return!0}mapKeys(e,t,n){let r=Object.keys(e);switch(t){case sm.INT32:case sm.FIXED32:case sm.SFIXED32:case sm.SINT32:case sm.UINT32:return this.scalars(r.slice(0,n).map((e=>parseInt(e))),t,n);case sm.BOOL:return this.scalars(r.slice(0,n).map((e=>"true"==e||"false"!=e&&e)),t,n);default:return this.scalars(r,t,n,om.STRING)}}}function um(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function dm(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let hm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),pm=[];for(let n=0;n<hm.length;n++)pm[hm[n].charCodeAt(0)]=n;function fm(){let e=0,t=0;for(let r=0;r<28;r+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<r,0==(128&n))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,0==(128&n))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<r,0==(128&n))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function gm(e,t,n){for(let s=0;s<28;s+=7){const r=e>>>s,i=!(r>>>7==0&&0==t),o=255&(i?128|r:r);if(n.push(o),!i)return}const r=e>>>28&15|(7&t)<<4,i=!(t>>3==0);if(n.push(255&(i?128|r:r)),i){for(let e=3;e<31;e+=7){const r=t>>>e,i=!(r>>>7==0),s=255&(i?128|r:r);if(n.push(s),!i)return}n.push(t>>>31&1)}}pm["-".charCodeAt(0)]=hm.indexOf("+"),pm["_".charCodeAt(0)]=hm.indexOf("/");const mm=4294967296;function wm(e){let t="-"==e[0];t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function s(t,s){const o=Number(e.slice(t,s));i*=n,r=r*n+o,r>=mm&&(i+=r/mm|0,r%=mm)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[t,r,i]}function ym(e,t){if(t>>>0<=2097151)return""+(mm*t+(e>>>0));let n=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,i=(16777215&e)+6777216*n+6710656*r,s=n+8147497*r,o=2*r,a=1e7;function A(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return i>=a&&(s+=Math.floor(i/a),i%=a),s>=a&&(o+=Math.floor(s/a),s%=a),A(o,0)+A(s,o)+A(i,1)}function vm(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function bm(){let e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,0==(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let n=5;0!==(128&e)&&n<10;n++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}let Cm;function Bm(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}!function(){const e=new DataView(new ArrayBuffer(8)),t=void 0!==globalThis.BigInt&&"function"===typeof e.getBigInt64&&"function"===typeof e.getBigUint64&&"function"===typeof e.setBigInt64&&"function"===typeof e.setBigUint64;Cm=t?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();const Sm=/^-?[0-9]+$/,Em=4294967296,km=2147483648;class Im{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*Em+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class Tm extends Im{static from(e){if(Cm)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=Cm.C(e);case"number":if(0===e)return this.ZERO;e=Cm.C(e);case"bigint":if(!e)return this.ZERO;if(e<Cm.UMIN)throw new Error("signed value for ulong");if(e>Cm.UMAX)throw new Error("ulong too large");return Cm.V.setBigUint64(0,e,!0),new Tm(Cm.V.getInt32(0,!0),Cm.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!Sm.test(e))throw new Error("string is no integer");let[t,n,r]=wm(e);if(t)throw new Error("signed value for ulong");return new Tm(n,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new Tm(e,e/Em)}throw new Error("unknown value "+typeof e)}toString(){return Cm?this.toBigInt().toString():ym(this.lo,this.hi)}toBigInt(){return Bm(Cm),Cm.V.setInt32(0,this.lo,!0),Cm.V.setInt32(4,this.hi,!0),Cm.V.getBigUint64(0,!0)}}Tm.ZERO=new Tm(0,0);class xm extends Im{static from(e){if(Cm)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=Cm.C(e);case"number":if(0===e)return this.ZERO;e=Cm.C(e);case"bigint":if(!e)return this.ZERO;if(e<Cm.MIN)throw new Error("signed long too small");if(e>Cm.MAX)throw new Error("signed long too large");return Cm.V.setBigInt64(0,e,!0),new xm(Cm.V.getInt32(0,!0),Cm.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!Sm.test(e))throw new Error("string is no integer");let[t,n,r]=wm(e);if(t){if(r>km||r==km&&0!=n)throw new Error("signed long too small")}else if(r>=km)throw new Error("signed long too large");let i=new xm(n,r);return t?i.negate():i;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new xm(e,e/Em):new xm(-e,-e/Em).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!==(this.hi&km)}negate(){let e=~this.hi,t=this.lo;return t?t=1+~t:e+=1,new xm(t,e)}toString(){if(Cm)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+ym(e.lo,e.hi)}return ym(this.lo,this.hi)}toBigInt(){return Bm(Cm),Cm.V.setInt32(0,this.lo,!0),Cm.V.setInt32(4,this.hi,!0),Cm.V.getBigInt64(0,!0)}}function Um(e,t){if(!e)throw new Error(t)}xm.ZERO=new xm(0,0);function Fm(e){if("number"!==typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function Qm(e){if("number"!==typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function _m(e){if("number"!==typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}function Rm(e,t){switch(t){case om.BIGINT:return e.toBigInt();case om.NUMBER:return e.toNumber();default:return e.toString()}}class Pm{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const t=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of t)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,t,n){if(!e){let e=um(n);throw"number"!=e&&"boolean"!=e||(e=n.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();const r=[];for(const[i,s]of Object.entries(e)){const e=this.fMap[i];if(!e){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${i}`);continue}const o=e.localName;let a;if(e.oneof){if(null===s&&("enum"!==e.kind||"google.protobuf.NullValue"!==e.T()[0]))continue;if(r.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(e.oneof),a=t[e.oneof]={oneofKind:o}}else a=t;if("map"==e.kind){if(null===s)continue;this.assert(dm(s),e.name,s);const t=a[o];for(const[r,i]of Object.entries(s)){let s;switch(this.assert(null!==i,e.name+" map value",null),e.V.kind){case"message":s=e.V.T().internalJsonRead(i,n);break;case"enum":if(s=this.enum(e.V.T(),i,e.name,n.ignoreUnknownFields),!1===s)continue;break;case"scalar":s=this.scalar(i,e.V.T,e.V.L,e.name)}this.assert(void 0!==s,e.name+" map value",i);let o=r;e.K==sm.BOOL&&(o="true"==o||"false"!=o&&o),o=this.scalar(o,e.K,om.STRING,e.name).toString(),t[o]=s}}else if(e.repeat){if(null===s)continue;this.assert(Array.isArray(s),e.name,s);const t=a[o];for(const r of s){let i;switch(this.assert(null!==r,e.name,null),e.kind){case"message":i=e.T().internalJsonRead(r,n);break;case"enum":if(i=this.enum(e.T(),r,e.name,n.ignoreUnknownFields),!1===i)continue;break;case"scalar":i=this.scalar(r,e.T,e.L,e.name)}this.assert(void 0!==i,e.name,s),t.push(i)}}else switch(e.kind){case"message":if(null===s&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}a[o]=e.T().internalJsonRead(s,n,a[o]);break;case"enum":if(null===s)continue;let t=this.enum(e.T(),s,e.name,n.ignoreUnknownFields);if(!1===t)continue;a[o]=t;break;case"scalar":if(null===s)continue;a[o]=this.scalar(s,e.T,e.L,e.name)}}}enum(e,t,n,r){if("google.protobuf.NullValue"==e[0]&&Um(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return Um(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let i=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(i=t.substring(e[2].length));let s=e[1][i];return("undefined"!==typeof s||!r)&&(Um("number"==typeof s,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),s)}Um(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,r){let i;try{switch(t){case sm.DOUBLE:case sm.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){i="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){i="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let r=Number(e);if(Number.isNaN(r)){i="not a number";break}if(!Number.isFinite(r)){i="too large or small";break}return t==sm.FLOAT&&_m(r),r;case sm.INT32:case sm.FIXED32:case sm.SFIXED32:case sm.SINT32:case sm.UINT32:if(null===e)return 0;let s;if("number"==typeof e?s=e:""===e?i="empty string":"string"==typeof e&&(e.trim().length!==e.length?i="extra whitespace":s=Number(e)),void 0===s)break;return t==sm.UINT32?Qm(s):Fm(s),s;case sm.INT64:case sm.SFIXED64:case sm.SINT64:if(null===e)return Rm(xm.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return Rm(xm.from(e),n);case sm.FIXED64:case sm.UINT64:if(null===e)return Rm(Tm.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return Rm(Tm.from(e),n);case sm.BOOL:if(null===e)return!1;if("boolean"!==typeof e)break;return e;case sm.STRING:if(null===e)return"";if("string"!==typeof e){i="extra whitespace";break}try{encodeURIComponent(e)}catch(i){i="invalid UTF8";break}return e;case sm.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!==typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),i=0,s=0,o=0;for(let a=0;a<e.length;a++){if(n=pm[e.charCodeAt(a)],void 0===n)switch(e[a]){case"=":s=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:o=n,s=1;break;case 1:r[i++]=o<<2|(48&n)>>4,o=n,s=2;break;case 2:r[i++]=(15&o)<<4|(60&n)>>2,o=n,s=3;break;case 3:r[i++]=(3&o)<<6|n,s=0}}if(1==s)throw Error("invalid base64 string.");return r.subarray(0,i)}(e)}}catch(s){i=s.message}this.assert(!1,r+(i?" - "+i:""),e)}}class Nm{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){const n={},r=e;for(const i of this.fields){if(!i.oneof){let e=this.field(i,r[i.localName],t);void 0!==e&&(n[t.useProtoFieldName?i.name:i.jsonName]=e);continue}const e=r[i.oneof];if(e.oneofKind!==i.localName)continue;const s="scalar"==i.kind||"enum"==i.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let o=this.field(i,e[i.localName],s);Um(void 0!==o),n[t.useProtoFieldName?i.name:i.jsonName]=o}return n}field(e,t,n){let r;if("map"==e.kind){Um("object"==typeof t&&null!==t);const i={};switch(e.V.kind){case"scalar":for(const[n,o]of Object.entries(t)){const t=this.scalar(e.V.T,o,e.name,!1,!0);Um(void 0!==t),i[n.toString()]=t}break;case"message":const r=e.V.T();for(const[o,a]of Object.entries(t)){const t=this.message(r,a,e.name,n);Um(void 0!==t),i[o.toString()]=t}break;case"enum":const s=e.V.T();for(const[o,a]of Object.entries(t)){Um(void 0===a||"number"==typeof a);const t=this.enum(s,a,e.name,!1,!0,n.enumAsInteger);Um(void 0!==t),i[o.toString()]=t}}(n.emitDefaultValues||Object.keys(i).length>0)&&(r=i)}else if(e.repeat){Um(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){const r=this.scalar(e.T,t[n],e.name,e.opt,!0);Um(void 0!==r),i.push(r)}break;case"enum":const r=e.T();for(let o=0;o<t.length;o++){Um(void 0===t[o]||"number"==typeof t[o]);const s=this.enum(r,t[o],e.name,e.opt,!0,n.enumAsInteger);Um(void 0!==s),i.push(s)}break;case"message":const s=e.T();for(let o=0;o<t.length;o++){const r=this.message(s,t[o],e.name,n);Um(void 0!==r),i.push(r)}}(n.emitDefaultValues||i.length>0||n.emitDefaultValues)&&(r=i)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}enum(e,t,n,r,i,s){if("google.protobuf.NullValue"==e[0])return i||r?null:void 0;if(void 0!==t){if(0!==t||i||r)return Um("number"==typeof t),Um(Number.isInteger(t)),s||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else Um(r)}message(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,n,r,i){if(void 0===t)return void Um(r);const s=i||r;switch(e){case sm.INT32:case sm.SFIXED32:case sm.SINT32:return 0===t?s?0:void 0:(Fm(t),t);case sm.FIXED32:case sm.UINT32:return 0===t?s?0:void 0:(Qm(t),t);case sm.FLOAT:_m(t);case sm.DOUBLE:return 0===t?s?0:void 0:(Um("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case sm.STRING:return""===t?s?"":void 0:(Um("string"==typeof t),t);case sm.BOOL:return!1===t?!s&&void 0:(Um("boolean"==typeof t),t);case sm.UINT64:case sm.FIXED64:Um("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let e=Tm.from(t);if(e.isZero()&&!s)return;return e.toString();case sm.INT64:case sm.SFIXED64:case sm.SINT64:Um("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let n=xm.from(t);if(n.isZero()&&!s)return;return n.toString();case sm.BYTES:return Um(t instanceof Uint8Array),t.byteLength?function(e){let t,n="",r=0,i=0;for(let s=0;s<e.length;s++)switch(t=e[s],r){case 0:n+=hm[t>>2],i=(3&t)<<4,r=1;break;case 1:n+=hm[i|t>>4],i=(15&t)<<2,r=2;break;case 2:n+=hm[i|t>>6],n+=hm[63&t],r=0}return r&&(n+=hm[i],n+="=",1==r&&(n+="=")),n}(t):s?"":void 0}}}var Om,Lm;function Dm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:om.STRING;switch(e){case sm.BOOL:return!1;case sm.UINT64:case sm.FIXED64:return Rm(Tm.ZERO,t);case sm.INT64:case sm.SFIXED64:case sm.SINT64:return Rm(xm.ZERO,t);case sm.DOUBLE:case sm.FLOAT:return 0;case sm.BYTES:return new Uint8Array(0);case sm.STRING:return"";default:return 0}}!function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,i,s,o)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:i,wireType:s,data:o})},e.onWrite=(t,n,r)=>{for(let{no:i,wireType:s,data:o}of e.list(n))r.tag(i,s).raw(o)},e.list=(n,r)=>{if(t(n)){let t=n[e.symbol];return r?t.filter((e=>e.no==r)):t}return[]},e.last=(t,n)=>e.list(t,n).slice(-1)[0];const t=t=>t&&Array.isArray(t[e.symbol])}(Om||(Om={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(Lm||(Lm={}));class Hm{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map((e=>[e.no,e])))}}read(e,t,n,r){this.prepare();const i=void 0===r?e.len:e.pos+r;for(;e.pos<i;){const[r,i]=e.tag(),s=this.fieldNoToField.get(r);if(!s){let s=n.readUnknownField;if("throw"==s)throw new Error(`Unknown field ${r} (wire type ${i}) for ${this.info.typeName}`);let o=e.skip(i);!1!==s&&(!0===s?Om.onRead:s)(this.info.typeName,t,r,i,o);continue}let o=t,a=s.repeat,A=s.localName;switch(s.oneof&&(o=o[s.oneof],o.oneofKind!==A&&(o=t[s.oneof]={oneofKind:A})),s.kind){case"scalar":case"enum":let t="enum"==s.kind?sm.INT32:s.T,r="scalar"==s.kind?s.L:void 0;if(a){let n=o[A];if(i==Lm.LengthDelimited&&t!=sm.STRING&&t!=sm.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)n.push(this.scalar(e,t,r))}else n.push(this.scalar(e,t,r))}else o[A]=this.scalar(e,t,r);break;case"message":if(a){let t=o[A],r=s.T().internalBinaryRead(e,e.uint32(),n);t.push(r)}else o[A]=s.T().internalBinaryRead(e,e.uint32(),n,o[A]);break;case"map":let[c,l]=this.mapEntry(s,e,n);o[A][c]=l}}}mapEntry(e,t,n){let r,i,s=t.uint32(),o=t.pos+s;for(;t.pos<o;){let[s,o]=t.tag();switch(s){case 1:r=e.K==sm.BOOL?t.bool().toString():this.scalar(t,e.K,om.STRING);break;case 2:switch(e.V.kind){case"scalar":i=this.scalar(t,e.V.T,e.V.L);break;case"enum":i=t.int32();break;case"message":i=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error(`Unknown field ${s} (wire type ${o}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===r){let t=Dm(e.K);r=e.K==sm.BOOL?t.toString():t}if(void 0===i)switch(e.V.kind){case"scalar":i=Dm(e.V.T,e.V.L);break;case"enum":i=0;break;case"message":i=e.V.T().create()}return[r,i]}scalar(e,t,n){switch(t){case sm.INT32:return e.int32();case sm.STRING:return e.string();case sm.BOOL:return e.bool();case sm.DOUBLE:return e.double();case sm.FLOAT:return e.float();case sm.INT64:return Rm(e.int64(),n);case sm.UINT64:return Rm(e.uint64(),n);case sm.FIXED64:return Rm(e.fixed64(),n);case sm.FIXED32:return e.fixed32();case sm.BYTES:return e.bytes();case sm.UINT32:return e.uint32();case sm.SFIXED32:return e.sfixed32();case sm.SFIXED64:return Rm(e.sfixed64(),n);case sm.SINT32:return e.sint32();case sm.SINT64:return Rm(e.sint64(),n)}}}class Mm{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort(((e,t)=>e.no-t.no))}}write(e,t,n){this.prepare();for(const i of this.fields){let r,s,o=i.repeat,a=i.localName;if(i.oneof){const t=e[i.oneof];if(t.oneofKind!==a)continue;r=t[a],s=!0}else r=e[a],s=!1;switch(i.kind){case"scalar":case"enum":let e="enum"==i.kind?sm.INT32:i.T;if(o)if(Um(Array.isArray(r)),o==am.PACKED)this.packed(t,e,i.no,r);else for(const n of r)this.scalar(t,e,i.no,n,!0);else void 0===r?Um(i.opt):this.scalar(t,e,i.no,r,s||i.opt);break;case"message":if(o){Um(Array.isArray(r));for(const e of r)this.message(t,n,i.T(),i.no,e)}else this.message(t,n,i.T(),i.no,r);break;case"map":Um("object"==typeof r&&null!==r);for(const[s,o]of Object.entries(r))this.mapEntry(t,n,i,s,o)}}let r=n.writeUnknownFields;!1!==r&&(!0===r?Om.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,n,r,i){e.tag(n.no,Lm.LengthDelimited),e.fork();let s=r;switch(n.K){case sm.INT32:case sm.FIXED32:case sm.UINT32:case sm.SFIXED32:case sm.SINT32:s=Number.parseInt(r);break;case sm.BOOL:Um("true"==r||"false"==r),s="true"==r}switch(this.scalar(e,n.K,1,s,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,i,!0);break;case"enum":this.scalar(e,sm.INT32,2,i,!0);break;case"message":this.message(e,t,n.V.T(),2,i)}e.join()}message(e,t,n,r,i){void 0!==i&&(n.internalBinaryWrite(i,e.tag(r,Lm.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,r,i){let[s,o,a]=this.scalarInfo(t,r);a&&!i||(e.tag(n,s),e[o](r))}packed(e,t,n,r){if(!r.length)return;Um(t!==sm.BYTES&&t!==sm.STRING),e.tag(n,Lm.LengthDelimited),e.fork();let[,i]=this.scalarInfo(t);for(let s=0;s<r.length;s++)e[i](r[s]);e.join()}scalarInfo(e,t){let n,r=Lm.Varint,i=void 0===t,s=0===t;switch(e){case sm.INT32:n="int32";break;case sm.STRING:s=i||!t.length,r=Lm.LengthDelimited,n="string";break;case sm.BOOL:s=!1===t,n="bool";break;case sm.UINT32:n="uint32";break;case sm.DOUBLE:r=Lm.Bit64,n="double";break;case sm.FLOAT:r=Lm.Bit32,n="float";break;case sm.INT64:s=i||xm.from(t).isZero(),n="int64";break;case sm.UINT64:s=i||Tm.from(t).isZero(),n="uint64";break;case sm.FIXED64:s=i||Tm.from(t).isZero(),r=Lm.Bit64,n="fixed64";break;case sm.BYTES:s=i||!t.byteLength,r=Lm.LengthDelimited,n="bytes";break;case sm.FIXED32:r=Lm.Bit32,n="fixed32";break;case sm.SFIXED32:r=Lm.Bit32,n="sfixed32";break;case sm.SFIXED64:s=i||xm.from(t).isZero(),r=Lm.Bit64,n="sfixed64";break;case sm.SINT32:n="sint32";break;case sm.SINT64:s=i||xm.from(t).isZero(),n="sint64"}return[r,n,i||s]}}function jm(e,t,n){let r,i,s=n;for(let o of e.fields){let e=o.localName;if(o.oneof){const n=s[o.oneof];if(void 0==(null===n||void 0===n?void 0:n.oneofKind))continue;if(r=n[e],i=t[o.oneof],i.oneofKind=n.oneofKind,void 0==r){delete i[e];continue}}else if(r=s[e],i=t,void 0==r)continue;switch(o.repeat&&(i[e].length=r.length),o.kind){case"scalar":case"enum":if(o.repeat)for(let n=0;n<r.length;n++)i[e][n]=r[n];else i[e]=r;break;case"message":let t=o.T();if(o.repeat)for(let n=0;n<r.length;n++)i[e][n]=t.create(r[n]);else void 0===i[e]?i[e]=t.create(r):t.mergePartial(i[e],r);break;case"map":switch(o.V.kind){case"scalar":case"enum":Object.assign(i[e],r);break;case"message":let t=o.V.T();for(let n of Object.keys(r))i[e][n]=t.create(r[n])}}}}const Km={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Vm={ignoreUnknownFields:!1};function qm(e,t){var n,r;let i=Object.assign(Object.assign({},e),t);return i.typeRegistry=[...null!==(n=null===e||void 0===e?void 0:e.typeRegistry)&&void 0!==n?n:[],...null!==(r=null===t||void 0===t?void 0:t.typeRegistry)&&void 0!==r?r:[]],i}const Gm=Object.values;function $m(e,t,n){if(t===n)return!0;if(e!==sm.BYTES)return!1;let r=t,i=n;if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++)if(r[s]!=i[s])return!1;return!0}function Wm(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!$m(e,t[r],n[r]))return!1;return!0}function zm(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}const Jm={writeUnknownFields:!0,writerFactory:()=>new Ym};class Ym{constructor(e){this.stack=[],this.textEncoder=null!==e&&void 0!==e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let t=new Uint8Array(e),n=0;for(let r=0;r<this.chunks.length;r++)t.set(this.chunks[r],n),n+=this.chunks[r].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Qm(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return Fm(e),vm(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){_m(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){Qm(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){Fm(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return Fm(e),vm(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=xm.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Tm.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=xm.from(e);return gm(t.lo,t.hi,this.buf),this}sint64(e){let t=xm.from(e),n=t.hi>>31;return gm(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=Tm.from(e);return gm(t.lo,t.hi,this.buf),this}}const Xm={readUnknownField:!0,readerFactory:e=>new Zm(e)};class Zm{constructor(e,t){this.varint64=fm,this.uint32=bm,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!==t&&void 0!==t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case Lm.Varint:for(;128&this.buf[this.pos++];);break;case Lm.Bit64:this.pos+=4;case Lm.Bit32:this.pos+=4;break;case Lm.LengthDelimited:let t=this.uint32();this.pos+=t;break;case Lm.StartGroup:let n;for(;(n=this.tag()[1])!==Lm.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new xm(...this.varint64())}uint64(){return new Tm(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,new xm(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new Tm(this.sfixed32(),this.sfixed32())}sfixed64(){return new xm(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}const ew=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class tw{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(Am),this.options=null!==n&&void 0!==n?n:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},ew),{[rm]:{value:this}})),this.refTypeCheck=new lm(this),this.refJsonReader=new Pm(this),this.refJsonWriter=new Nm(this),this.refBinReader=new Hm(this),this.refBinWriter=new Mm(this)}create(e){let t=function(e){const t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},rm,{value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=Dm(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}(this);return void 0!==e&&jm(this,t,e),t}clone(e){let t=this.create();return jm(this,t,e),t}equals(e,t){return function(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let e=r.localName,i=r.oneof?t[r.oneof][e]:t[e],s=r.oneof?n[r.oneof][e]:n[e];switch(r.kind){case"enum":case"scalar":let e="enum"==r.kind?sm.INT32:r.T;if(!(r.repeat?Wm(e,i,s):$m(e,i,s)))return!1;break;case"map":if(!("message"==r.V.kind?zm(r.V.T(),Gm(i),Gm(s)):Wm("enum"==r.V.kind?sm.INT32:r.V.T,Gm(i),Gm(s))))return!1;break;case"message":let t=r.T();if(!(r.repeat?zm(t,i,s):t.equals(i,s)))return!1}}return!0}(this,e,t)}is(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,t,!1)}isAssignable(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){jm(this,e,t)}fromBinary(e,t){let n=function(e){return e?Object.assign(Object.assign({},Xm),e):Xm}(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,function(e){return e?Object.assign(Object.assign({},Vm),e):Vm}(t))}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,function(e){return e?Object.assign(Object.assign({},Km),e):Km}(t))}toJsonString(e,t){var n;let r=this.toJson(e,t);return JSON.stringify(r,null,null!==(n=null===t||void 0===t?void 0:t.prettySpaces)&&void 0!==n?n:0)}toBinary(e,t){let n=function(e){return e?Object.assign(Object.assign({},Jm),e):Jm}(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!==n&&void 0!==n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw new Error(`Unable to parse message ${this.typeName} from JSON ${um(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,r){let i=null!==r&&void 0!==r?r:this.create();return this.refBinReader.read(e,i,n,t),i}}function nw(e,t,n,r,i){var s,o,a,A;if("unary"==e){let e=(e,n,r)=>t.unary(e,n,r);for(const t of(null!==(s=r.interceptors)&&void 0!==s?s:[]).filter((e=>e.interceptUnary)).reverse()){const n=e;e=(e,r,i)=>t.interceptUnary(n,e,r,i)}return e(n,i,r)}if("serverStreaming"==e){let e=(e,n,r)=>t.serverStreaming(e,n,r);for(const t of(null!==(o=r.interceptors)&&void 0!==o?o:[]).filter((e=>e.interceptServerStreaming)).reverse()){const n=e;e=(e,r,i)=>t.interceptServerStreaming(n,e,r,i)}return e(n,i,r)}if("clientStreaming"==e){let e=(e,n)=>t.clientStreaming(e,n);for(const t of(null!==(a=r.interceptors)&&void 0!==a?a:[]).filter((e=>e.interceptClientStreaming)).reverse()){const n=e;e=(e,r)=>t.interceptClientStreaming(n,e,r)}return e(n,r)}if("duplex"==e){let e=(e,n)=>t.duplex(e,n);for(const t of(null!==(A=r.interceptors)&&void 0!==A?A:[]).filter((e=>e.interceptDuplex)).reverse()){const n=e;e=(e,r)=>t.interceptDuplex(n,e,r)}return e(n,r)}!function(e,t){throw new Error(null!==t&&void 0!==t?t:"Unexpected object: "+e)}(e)}class rw extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UNKNOWN",n=arguments.length>2?arguments[2]:void 0;super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!==n&&void 0!==n?n:{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length){e.push(""),e.push("Meta:");for(let[n,r]of t)e.push(`  ${n}: ${r}`)}return e.join("\n")}}function iw(e,t){return function(){return e.apply(t,arguments)}}const{toString:sw}=Object.prototype,{getPrototypeOf:ow}=Object,{iterator:aw,toStringTag:Aw}=Symbol,cw=(e=>t=>{const n=sw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),lw=e=>(e=e.toLowerCase(),t=>cw(t)===e),uw=e=>t=>typeof t===e,{isArray:dw}=Array,hw=uw("undefined");const pw=lw("ArrayBuffer");const fw=uw("string"),gw=uw("function"),mw=uw("number"),ww=e=>null!==e&&"object"===typeof e,yw=e=>{if("object"!==cw(e))return!1;const t=ow(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Aw in e)&&!(aw in e)},vw=lw("Date"),bw=lw("File"),Cw=lw("Blob"),Bw=lw("FileList"),Sw=lw("URLSearchParams"),[Ew,kw,Iw,Tw]=["ReadableStream","Request","Response","Headers"].map(lw);function xw(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),dw(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function Uw(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Fw="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Qw=e=>!hw(e)&&e!==Fw;const _w=(Rw="undefined"!==typeof Uint8Array&&ow(Uint8Array),e=>Rw&&e instanceof Rw);var Rw;const Pw=lw("HTMLFormElement"),Nw=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ow=lw("RegExp"),Lw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xw(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)};const Dw=lw("AsyncFunction"),Hw=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Fw.addEventListener("message",(e=>{let{source:t,data:i}=e;t===Fw&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Fw.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,gw(Fw.postMessage)),Mw="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Fw):"undefined"!==typeof process&&process.nextTick||Hw,jw={isArray:dw,isArrayBuffer:pw,isBuffer:function(e){return null!==e&&!hw(e)&&null!==e.constructor&&!hw(e.constructor)&&gw(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||gw(e.append)&&("formdata"===(t=cw(e))||"object"===t&&gw(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&pw(e.buffer),t},isString:fw,isNumber:mw,isBoolean:e=>!0===e||!1===e,isObject:ww,isPlainObject:yw,isReadableStream:Ew,isRequest:kw,isResponse:Iw,isHeaders:Tw,isUndefined:hw,isDate:vw,isFile:bw,isBlob:Cw,isRegExp:Ow,isFunction:gw,isStream:e=>ww(e)&&gw(e.pipe),isURLSearchParams:Sw,isTypedArray:_w,isFileList:Bw,forEach:xw,merge:function e(){const{caseless:t}=Qw(this)&&this||{},n={},r=(r,i)=>{const s=t&&Uw(n,i)||i;yw(n[s])&&yw(r)?n[s]=e(n[s],r):yw(r)?n[s]=e({},r):dw(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&xw(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xw(t,((t,r)=>{n&&gw(t)?e[r]=iw(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&ow(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:cw,kindOfTest:lw,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(dw(e))return e;let t=e.length;if(!mw(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[aw]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Pw,hasOwnProperty:Nw,hasOwnProp:Nw,reduceDescriptors:Lw,freezeMethods:e=>{Lw(e,((t,n)=>{if(gw(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];gw(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return dw(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Uw,global:Fw,isContextDefined:Qw,isSpecCompliantForm:function(e){return!!(e&&gw(e.append)&&"FormData"===e[Aw]&&e[aw])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ww(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=dw(e)?[]:{};return xw(e,((e,t)=>{const s=n(e,r+1);!hw(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Dw,isThenable:e=>e&&(ww(e)||gw(e))&&gw(e.then)&&gw(e.catch),setImmediate:Hw,asap:Mw,isIterable:e=>null!=e&&gw(e[aw])};function Kw(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}jw.inherits(Kw,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jw.toJSONObject(this.config),code:this.code,status:this.status}}});const Vw=Kw.prototype,qw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{qw[e]={value:e}})),Object.defineProperties(Kw,qw),Object.defineProperty(Vw,"isAxiosError",{value:!0}),Kw.from=(e,t,n,r,i,s)=>{const o=Object.create(Vw);return jw.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Kw.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const Gw=Kw;function $w(e){return jw.isPlainObject(e)||jw.isArray(e)}function Ww(e){return jw.endsWith(e,"[]")?e.slice(0,-2):e}function zw(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ww(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Jw=jw.toFlatObject(jw,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Yw=function(e,t,n){if(!jw.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=jw.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!jw.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&jw.isSpecCompliantForm(t);if(!jw.isFunction(i))throw new TypeError("visitor must be a function");function A(e){if(null===e)return"";if(jw.isDate(e))return e.toISOString();if(!a&&jw.isBlob(e))throw new Gw("Blob is not supported. Use a Buffer instead.");return jw.isArrayBuffer(e)||jw.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(jw.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(jw.isArray(e)&&function(e){return jw.isArray(e)&&!e.some($w)}(e)||(jw.isFileList(e)||jw.endsWith(n,"[]"))&&(a=jw.toArray(e)))return n=Ww(n),a.forEach((function(e,r){!jw.isUndefined(e)&&null!==e&&t.append(!0===o?zw([n],r,s):null===o?n:n+"[]",A(e))})),!1;return!!$w(e)||(t.append(zw(i,n,s),A(e)),!1)}const l=[],u=Object.assign(Jw,{defaultVisitor:c,convertValue:A,isVisitable:$w});if(!jw.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!jw.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),jw.forEach(n,(function(n,s){!0===(!(jw.isUndefined(n)||null===n)&&i.call(t,n,jw.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])})),l.pop()}}(e),t};function Xw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Zw(e,t){this._pairs=[],e&&Yw(e,this,t)}const ey=Zw.prototype;ey.append=function(e,t){this._pairs.push([e,t])},ey.toString=function(e){const t=e?function(t){return e.call(this,t,Xw)}:Xw;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ty=Zw;function ny(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ry(e,t,n){if(!t)return e;const r=n&&n.encode||ny;jw.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):jw.isURLSearchParams(t)?t.toString():new ty(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const iy=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){jw.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},sy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oy={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ty,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ay="undefined"!==typeof window&&"undefined"!==typeof document,Ay="object"===typeof navigator&&navigator||void 0,cy=ay&&(!Ay||["ReactNative","NativeScript","NS"].indexOf(Ay.product)<0),ly="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,uy=ay&&window.location.href||"http://localhost",dy={...o,...oy};const hy=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&jw.isArray(r)?r.length:s,a)return jw.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&jw.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&jw.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(jw.isFormData(e)&&jw.isFunction(e.entries)){const n={};return jw.forEachEntry(e,((e,r)=>{t(function(e){return jw.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const py={transitional:sy,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=jw.isObject(e);i&&jw.isHTMLForm(e)&&(e=new FormData(e));if(jw.isFormData(e))return r?JSON.stringify(hy(e)):e;if(jw.isArrayBuffer(e)||jw.isBuffer(e)||jw.isStream(e)||jw.isFile(e)||jw.isBlob(e)||jw.isReadableStream(e))return e;if(jw.isArrayBufferView(e))return e.buffer;if(jw.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Yw(e,new dy.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return dy.isNode&&jw.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=jw.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Yw(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(jw.isString(e))try{return(t||JSON.parse)(e),jw.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||py.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(jw.isResponse(e)||jw.isReadableStream(e))return e;if(e&&jw.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw Gw.from(i,Gw.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dy.classes.FormData,Blob:dy.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jw.forEach(["delete","get","head","post","put","patch"],(e=>{py.headers[e]={}}));const fy=py,gy=jw.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),my=Symbol("internals");function wy(e){return e&&String(e).trim().toLowerCase()}function yy(e){return!1===e||null==e?e:jw.isArray(e)?e.map(yy):String(e)}function vy(e,t,n,r,i){return jw.isFunction(r)?r.call(this,t,n):(i&&(t=n),jw.isString(t)?jw.isString(r)?-1!==t.indexOf(r):jw.isRegExp(r)?r.test(t):void 0:void 0)}class by{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=wy(t);if(!i)throw new Error("header name must be a non-empty string");const s=jw.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=yy(e))}const s=(e,t)=>jw.forEach(e,((e,n)=>i(e,n,t)));if(jw.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(jw.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&gy[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(jw.isObject(e)&&jw.isIterable(e)){let n,r,i={};for(const t of e){if(!jw.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?jw.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=wy(e)){const n=jw.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(jw.isFunction(t))return t.call(this,e,n);if(jw.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wy(e)){const n=jw.findKey(this,e);return!(!n||void 0===this[n]||t&&!vy(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=wy(e)){const i=jw.findKey(n,e);!i||t&&!vy(0,n[i],i,t)||(delete n[i],r=!0)}}return jw.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!vy(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return jw.forEach(this,((r,i)=>{const s=jw.findKey(n,i);if(s)return t[s]=yy(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=yy(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return jw.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&jw.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[my]=this[my]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=wy(e);t[r]||(!function(e,t){const n=jw.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return jw.isArray(e)?e.forEach(r):r(e),this}}by.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),jw.reduceDescriptors(by.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),jw.freezeMethods(by);const Cy=by;function By(e,t){const n=this||fy,r=t||n,i=Cy.from(r.headers);let s=r.data;return jw.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Sy(e){return!(!e||!e.__CANCEL__)}function Ey(e,t,n){Gw.call(this,null==e?"canceled":e,Gw.ERR_CANCELED,t,n),this.name="CanceledError"}jw.inherits(Ey,Gw,{__CANCEL__:!0});const ky=Ey;function Iy(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Gw("Request failed with status code "+n.status,[Gw.ERR_BAD_REQUEST,Gw.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ty=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const A=Date.now(),c=r[o];i||(i=A),n[s]=a,r[s]=A;let l=o,u=0;for(;l!==s;)u+=n[l++],l%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),A-i<t)return;const d=c&&A-c;return d?Math.round(1e3*u/d):void 0}};const xy=function(e,t){let n,r,i=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,A=new Array(a),c=0;c<a;c++)A[c]=arguments[c];t>=s?o(A,e):(n=A,r||(r=setTimeout((()=>{r=null,o(n)}),s-t)))},()=>n&&o(n)]},Uy=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Ty(50,250);return xy((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,A=i(a);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:A||void 0,estimated:A&&o&&s<=o?(o-s)/A:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},Fy=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Qy=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jw.asap((()=>e(...n)))},_y=dy.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dy.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dy.origin),dy.navigator&&/(msie|trident)/i.test(dy.navigator.userAgent)):()=>!0,Ry=dy.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];jw.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),jw.isString(r)&&o.push("path="+r),jw.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Py(e,t,n){let r=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ny=e=>e instanceof Cy?{...e}:e;function Oy(e,t){t=t||{};const n={};function r(e,t,n,r){return jw.isPlainObject(e)&&jw.isPlainObject(t)?jw.merge.call({caseless:r},e,t):jw.isPlainObject(t)?jw.merge({},t):jw.isArray(t)?t.slice():t}function i(e,t,n,i){return jw.isUndefined(t)?jw.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!jw.isUndefined(t))return r(void 0,t)}function o(e,t){return jw.isUndefined(t)?jw.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const A={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>i(Ny(e),Ny(t),0,!0)};return jw.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=A[r]||i,o=s(e[r],t[r],r);jw.isUndefined(o)&&s!==a||(n[r]=o)})),n}const Ly=e=>{const t=Oy({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:A}=t;if(t.headers=a=Cy.from(a),t.url=ry(Py(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),A&&a.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):""))),jw.isFormData(r))if(dy.hasStandardBrowserEnv||dy.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(dy.hasStandardBrowserEnv&&(i&&jw.isFunction(i)&&(i=i(t)),i||!1!==i&&_y(t.url))){const e=s&&o&&Ry.read(o);e&&a.set(s,e)}return t},Dy="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ly(e);let i=r.data;const s=Cy.from(r.headers).normalize();let o,a,A,c,l,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=r;function p(){c&&c(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Cy.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Iy((function(e){t(e),p()}),(function(e){n(e),p()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Gw("Request aborted",Gw.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Gw("Network Error",Gw.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||sy;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Gw(t,i.clarifyTimeoutError?Gw.ETIMEDOUT:Gw.ECONNABORTED,e,f)),f=null},void 0===i&&s.setContentType(null),"setRequestHeader"in f&&jw.forEach(s.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),jw.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),h&&([A,l]=Uy(h,!0),f.addEventListener("progress",A)),d&&f.upload&&([a,c]=Uy(d),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{f&&(n(!t||t.type?new ky(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);m&&-1===dy.protocols.indexOf(m)?n(new Gw("Unsupported protocol "+m+":",Gw.ERR_BAD_REQUEST,e)):f.send(i||null)}))},Hy=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Gw?t:new ky(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new Gw(`timeout ${t} of ms exceeded`,Gw.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>jw.asap(o),a}},My=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},jy=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Ky=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of jy(e))yield*My(n,t)}(e,t);let s,o=0,a=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(uH){throw a(uH),uH}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},Vy="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,qy=Vy&&"function"===typeof ReadableStream,Gy=Vy&&("function"===typeof TextEncoder?($y=new TextEncoder,e=>$y.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var $y;const Wy=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(i){return!1}},zy=qy&&Wy((()=>{let e=!1;const t=new Request(dy.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Jy=qy&&Wy((()=>jw.isReadableStream(new Response("").body))),Yy={stream:Jy&&(e=>e.body)};var Xy;Vy&&(Xy=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Yy[e]&&(Yy[e]=jw.isFunction(Xy[e])?t=>t[e]():(t,n)=>{throw new Gw(`Response type '${e}' is not supported`,Gw.ERR_NOT_SUPPORT,n)})})));const Zy=async(e,t)=>{const n=jw.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(jw.isBlob(e))return e.size;if(jw.isSpecCompliantForm(e)){const t=new Request(dy.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return jw.isArrayBufferView(e)||jw.isArrayBuffer(e)?e.byteLength:(jw.isURLSearchParams(e)&&(e+=""),jw.isString(e)?(await Gy(e)).byteLength:void 0)})(t):n},ev=Vy&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:A,responseType:c,headers:l,withCredentials:u="same-origin",fetchOptions:d}=Ly(e);c=c?(c+"").toLowerCase():"text";let h,p=Hy([i,s&&s.toAbortSignal()],o);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(A&&zy&&"get"!==n&&"head"!==n&&0!==(g=await Zy(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(jw.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=Fy(g,Uy(Qy(A)));r=Ky(n.body,65536,e,t)}}jw.isString(u)||(u=u?"include":"omit");const i="credentials"in Request.prototype;h=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:i?u:void 0});let s=await fetch(h);const o=Jy&&("stream"===c||"response"===c);if(Jy&&(a||o&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=jw.toFiniteNumber(s.headers.get("content-length")),[n,r]=a&&Fy(t,Uy(Qy(a),!0))||[];s=new Response(Ky(s.body,65536,n,(()=>{r&&r(),f&&f()})),e)}c=c||"text";let m=await Yy[jw.findKey(Yy,c)||"text"](s,e);return!o&&f&&f(),await new Promise(((t,n)=>{Iy(t,n,{data:m,headers:Cy.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})}))}catch(uH){if(f&&f(),uH&&"TypeError"===uH.name&&/Load failed|fetch/i.test(uH.message))throw Object.assign(new Gw("Network Error",Gw.ERR_NETWORK,e,h),{cause:uH.cause||uH});throw Gw.from(uH,uH&&uH.code,e,h)}}),tv={http:null,xhr:Dy,fetch:ev};jw.forEach(tv,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const nv=e=>`- ${e}`,rv=e=>jw.isFunction(e)||null===e||!1===e,iv=e=>{e=jw.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!rv(n)&&(r=tv[(t=String(n)).toLowerCase()],void 0===r))throw new Gw(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(nv).join("\n"):" "+nv(e[0]):"as no adapter specified";throw new Gw("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function sv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ky(null,e)}function ov(e){sv(e),e.headers=Cy.from(e.headers),e.data=By.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return iv(e.adapter||fy.adapter)(e).then((function(t){return sv(e),t.data=By.call(e,e.transformResponse,t),t.headers=Cy.from(t.headers),t}),(function(t){return Sy(t)||(sv(e),t&&t.response&&(t.response.data=By.call(e,e.transformResponse,t.response),t.response.headers=Cy.from(t.response.headers))),Promise.reject(t)}))}const av="1.9.0",Av={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Av[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const cv={};Av.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new Gw(r(i," has been removed"+(t?" in "+t:"")),Gw.ERR_DEPRECATED);return t&&!cv[i]&&(cv[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},Av.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const lv={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Gw("options must be an object",Gw.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new Gw("option "+s+" must be "+n,Gw.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Gw("Unknown option "+s,Gw.ERR_BAD_OPTION)}},validators:Av},uv=lv.validators;class dv{constructor(e){this.defaults=e||{},this.interceptors={request:new iy,response:new iy}}async request(e,t){try{return await this._request(e,t)}catch(uH){if(uH instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{uH.stack?r&&!String(uH.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(uH.stack+="\n"+r):uH.stack=r}catch(n){}}throw uH}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Oy(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&lv.assertOptions(n,{silentJSONParsing:uv.transitional(uv.boolean),forcedJSONParsing:uv.transitional(uv.boolean),clarifyTimeoutError:uv.transitional(uv.boolean)},!1),null!=r&&(jw.isFunction(r)?t.paramsSerializer={serialize:r}:lv.assertOptions(r,{encode:uv.function,serialize:uv.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lv.assertOptions(t,{baseUrl:uv.spelling("baseURL"),withXsrfToken:uv.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&jw.merge(i.common,i[t.method]);i&&jw.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Cy.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const A=[];let c;this.interceptors.response.forEach((function(e){A.push(e.fulfilled,e.rejected)}));let l,u=0;if(!a){const e=[ov.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,A),l=e.length,c=Promise.resolve(t);u<l;)c=c.then(e[u++],e[u++]);return c}l=o.length;let d=t;for(u=0;u<l;){const e=o[u++],t=o[u++];try{d=e(d)}catch(h){t.call(this,h);break}}try{c=ov.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,l=A.length;u<l;)c=c.then(A[u++],A[u++]);return c}getUri(e){return ry(Py((e=Oy(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}jw.forEach(["delete","get","head","options"],(function(e){dv.prototype[e]=function(t,n){return this.request(Oy(n||{},{method:e,url:t,data:(n||{}).data}))}})),jw.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Oy(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}dv.prototype[e]=t(),dv.prototype[e+"Form"]=t(!0)}));const hv=dv;class pv{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new ky(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pv((function(t){e=t})),cancel:e}}}const fv=pv;const gv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gv).forEach((e=>{let[t,n]=e;gv[n]=t}));const mv=gv;const wv=function e(t){const n=new hv(t),r=iw(hv.prototype.request,n);return jw.extend(r,hv.prototype,n,{allOwnKeys:!0}),jw.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Oy(t,n))},r}(fy);wv.Axios=hv,wv.CanceledError=ky,wv.CancelToken=fv,wv.isCancel=Sy,wv.VERSION=av,wv.toFormData=Yw,wv.AxiosError=Gw,wv.Cancel=wv.CanceledError,wv.all=function(e){return Promise.all(e)},wv.spread=function(e){return function(t){return e.apply(null,t)}},wv.isAxiosError=function(e){return jw.isObject(e)&&!0===e.isAxiosError},wv.mergeConfig=Oy,wv.AxiosHeaders=Cy,wv.formToJSON=e=>hy(jw.isHTMLForm(e)?new FormData(e):e),wv.getAdapter=iv,wv.HttpStatusCode=mv,wv.default=wv;const yv=wv;var vv,bv;function Cv(e,t,n){if(n)for(let[r,i]of Object.entries(n))if("string"==typeof i)e.append(r,i);else for(let t of i)e.append(r,t);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}function Bv(e,t){if(!e)return;let n=t;for(let[r,i]of Object.entries(e))i instanceof Date?n[r]=new Date(i.getTime()):Array.isArray(i)?n[r]=i.concat():n[r]=i}!function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"}(vv||(vv={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(bv||(bv={}));class Sv{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._state=bv.PENDING,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),e&&this._promise.catch((e=>{}))}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==bv.PENDING)throw new Error(`cannot resolve ${bv[this.state].toLowerCase()}`);this._resolve(e),this._state=bv.RESOLVED}reject(e){if(this.state!==bv.PENDING)throw new Error(`cannot reject ${bv[this.state].toLowerCase()}`);this._reject(e),this._state=bv.REJECTED}resolvePending(e){this._state===bv.PENDING&&this.resolve(e)}rejectPending(e){this._state===bv.PENDING&&this.reject(e)}}var Ev=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{A(r.next(e))}catch(t){s(t)}}function a(e){try{A(r.throw(e))}catch(t){s(t)}}function A(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,a)}A((r=r.apply(e,t||[])).next())}))};class kv{constructor(e,t,n,r,i,s,o){this.method=e,this.requestHeaders=t,this.request=n,this.headers=r,this.response=i,this.status=s,this.trailers=o}then(e,t){return this.promiseFinished().then((t=>e?Promise.resolve(e(t)):t),(e=>t?Promise.resolve(t(e)):Promise.reject(e)))}promiseFinished(){return Ev(this,void 0,void 0,(function*(){let[e,t,n,r]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:n,trailers:r}}))}}class Iv{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let n={};Bv(e,n),Bv(t,n);for(let s of Object.keys(t)){let o=t[s];switch(s){case"jsonOptions":n.jsonOptions=qm(e.jsonOptions,n.jsonOptions);break;case"binaryOptions":n.binaryOptions=(r=e.binaryOptions,i=n.binaryOptions,Object.assign(Object.assign({},r),i));break;case"meta":n.meta={},Bv(e.meta,n.meta),Bv(t.meta,n.meta);break;case"interceptors":n.interceptors=e.interceptors?e.interceptors.concat(o):o.concat()}}var r,i;return n}(this.defaultOptions,e)}unary(e,t,n){var r,i,s;let o=n,a=this.makeUrl(e,o),A=null!==(r=o.fetchInit)&&void 0!==r?r:{},c=o.sendJson?e.I.toJsonString(t,o.jsonOptions):e.I.toBinary(t,o.binaryOptions),l=new Sv,u=new Sv,d=new Sv,h=new Sv;return globalThis.fetch(a,Object.assign(Object.assign({},A),{method:"POST",headers:Cv(new globalThis.Headers,!!o.sendJson,o.meta),body:c,signal:null!==(i=n.abort)&&void 0!==i?i:null})).then((t=>{let n;l.resolve(function(e){let t={};return e.forEach(((e,n)=>{"content-type"!==n.toLowerCase()&&"content-length"!==n.toLowerCase()&&(t.hasOwnProperty(n)?t[n].push(e):t[n]=e)})),t}(t.headers));try{n=t.type}catch(r){}switch(n){case"error":case"opaque":case"opaqueredirect":throw new rw(`fetch response type ${t.type}`,vv[vv.unknown])}return t.ok?o.sendJson?t.json().then((t=>e.O.fromJson(t,o.jsonOptions)),(()=>{throw new rw("unable to read response body as json",vv[vv.dataloss])})):t.arrayBuffer().then((t=>e.O.fromBinary(new Uint8Array(t),o.binaryOptions)),(()=>{throw new rw("unable to read response body",vv[vv.dataloss])})):t.json().then((e=>{throw function(e){if(!dm(e)||"string"!==typeof e.code||"string"!==typeof e.msg)return new rw("cannot read twirp error response",vv[vv.internal]);let t={};if(dm(e.meta))for(let[n,r]of Object.entries(e.meta))"string"==typeof r&&(t[n]=r);return new rw(e.msg,e.code,t)}(e)}),(()=>{throw new rw("received HTTP "+t.status+", unable to read response body as json",vv[vv.internal])}))}),(e=>{if(e instanceof Error&&"AbortError"===e.name)throw new rw(e.message,vv[vv.cancelled]);throw new rw(e instanceof Error?e.message:e)})).then((e=>{u.resolve(e),d.resolve({code:"OK",detail:""}),h.resolve({})})).catch((t=>{let n=t instanceof rw?t:new rw(t instanceof Error?t.message:t,vv[vv.internal]);n.methodName=e.name,n.serviceName=e.service.typeName,l.rejectPending(n),u.rejectPending(n),d.rejectPending(n),h.rejectPending(n)})),new kv(e,null!==(s=o.meta)&&void 0!==s?s:{},t,l.promise,u.promise,d.promise,h.promise)}makeUrl(e,t){let n=t.baseUrl;n.endsWith("/")&&(n=n.substring(0,n.length-1));let r=e.name;return!0!==t.useProtoMethodName&&(r=im(r),r=r.substring(0,1).toUpperCase()+r.substring(1)),`${n}/${e.service.typeName}/${r}`}clientStreaming(e){const t=new rw("Client streaming is not supported by Twirp",vv[vv.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){const t=new rw("Duplex streaming is not supported by Twirp",vv[vv.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){const t=new rw("Server streaming is not supported by Twirp",vv[vv.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}function Tv(e){return"function"===typeof e}function xv(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Uv=xv((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Fv(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Qv=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=oA(s),a=o.next();!a.done;a=o.next()){a.value.remove(this)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this);var A=this.initialTeardown;if(Tv(A))try{A()}catch(p){i=p instanceof Uv?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=oA(c),u=l.next();!u.done;u=l.next()){var d=u.value;try{Pv(d)}catch(uH){i=null!==i&&void 0!==i?i:[],uH instanceof Uv?i=AA(AA([],aA(i)),aA(uH.errors)):i.push(uH)}}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new Uv(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Pv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Fv(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Fv(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),_v=Qv.EMPTY;function Rv(e){return e instanceof Qv||e&&"closed"in e&&Tv(e.remove)&&Tv(e.add)&&Tv(e.unsubscribe)}function Pv(e){Tv(e)?e():e.unsubscribe()}var Nv={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ov={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Ov.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,AA([e,t],aA(n))):setTimeout.apply(void 0,AA([e,t],aA(n)))},clearTimeout:function(e){var t=Ov.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Lv(e){Ov.setTimeout((function(){var t=Nv.onUnhandledError;if(!t)throw e;t(e)}))}function Dv(){}var Hv=Mv("C",void 0,void 0);function Mv(e,t,n){return{kind:e,value:t,error:n}}var jv=null;function Kv(e){if(Nv.useDeprecatedSynchronousErrorHandling){var t=!jv;if(t&&(jv={errorThrown:!1,error:null}),e(),t){var n=jv,r=n.errorThrown,i=n.error;if(jv=null,r)throw i}}else e()}var Vv=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Rv(t)&&t.add(n)):n.destination=Yv,n}return tA(t,e),t.create=function(e,t,n){return new Wv(e,t,n)},t.prototype.next=function(e){this.isStopped?Jv(function(e){return Mv("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Jv(function(e){return Mv("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Jv(Hv,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Qv),qv=Function.prototype.bind;function Gv(e,t){return qv.call(e,t)}var $v=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){zv(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){zv(n)}else zv(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){zv(t)}},e}(),Wv=function(e){function t(t,n,r){var i,s,o=e.call(this)||this;Tv(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:o&&Nv.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&Gv(t.next,s),error:t.error&&Gv(t.error,s),complete:t.complete&&Gv(t.complete,s)}):i=t;return o.destination=new $v(i),o}return tA(t,e),t}(Vv);function zv(e){var t;Nv.useDeprecatedSynchronousErrorHandling?(t=e,Nv.useDeprecatedSynchronousErrorHandling&&jv&&(jv.errorThrown=!0,jv.error=t)):Lv(e)}function Jv(e,t){var n=Nv.onStoppedNotification;n&&Ov.setTimeout((function(){return n(e,t)}))}var Yv={closed:!0,next:Dv,error:function(e){throw e},complete:Dv},Xv="function"===typeof Symbol&&Symbol.observable||"@@observable";function Zv(e){return e}function eb(e){return 0===e.length?Zv:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var tb=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof Vv||function(e){return e&&Tv(e.next)&&Tv(e.error)&&Tv(e.complete)}(e)&&Rv(e)}(e)?e:new Wv(e,t,n);return Kv((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(uH){e.error(uH)}},e.prototype.forEach=function(e,t){var n=this;return new(t=nb(t))((function(t,r){var i=new Wv({next:function(t){try{e(t)}catch(uH){r(uH),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Xv]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return eb(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=nb(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function nb(e){var t;return null!==(t=null!==e&&void 0!==e?e:Nv.Promise)&&void 0!==t?t:Promise}var rb=xv((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ib=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return tA(t,e),t.prototype.lift=function(e){var t=new sb(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rb},t.prototype.next=function(e){var t=this;Kv((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=oA(t.currentObservers),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Kv((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Kv((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,s=n.observers;return r||i?_v:(this.currentObservers=null,s.push(e),new Qv((function(){t.currentObservers=null,Fv(s,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new tb;return e.source=this,e},t.create=function(e,t){return new sb(e,t)},t}(tb),sb=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return tA(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:_v},t}(ib),ob={now:function(){return(ob.delegate||Date).now()},delegate:void 0},ab=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=ob);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return tA(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,s=n._infiniteTimeWindow,o=n._timestampProvider,a=n._windowTime;r||(i.push(t),!s&&i.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){for(var o=n.now(),a=0,A=1;A<r.length&&r[A]<=o;A+=2)a=A;a&&r.splice(0,a+1)}},t}(ib),Ab=Array.isArray,cb=Object.getPrototypeOf,lb=Object.prototype,ub=Object.keys;function db(e){if(1===e.length){var t=e[0];if(Ab(t))return{args:t,keys:null};if((r=t)&&"object"===typeof r&&cb(r)===lb){var n=ub(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}var hb=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function pb(e){return Tv(null===e||void 0===e?void 0:e.then)}function fb(e){return Tv(e[Xv])}function gb(e){return Symbol.asyncIterator&&Tv(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function mb(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var wb="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function yb(e){return Tv(null===e||void 0===e?void 0:e[wb])}function vb(e){return lA(this,arguments,(function(){var t,n,r;return sA(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,cA(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,cA(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,cA(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function bb(e){return Tv(null===e||void 0===e?void 0:e.getReader)}function Cb(e){if(e instanceof tb)return e;if(null!=e){if(fb(e))return i=e,new tb((function(e){var t=i[Xv]();if(Tv(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(hb(e))return r=e,new tb((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(pb(e))return n=e,new tb((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Lv)}));if(gb(e))return Bb(e);if(yb(e))return t=e,new tb((function(e){var n,r;try{for(var i=oA(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(bb(e))return Bb(vb(e))}var t,n,r,i;throw mb(e)}function Bb(e){return new tb((function(t){(function(e,t){var n,r,i,s;return iA(this,void 0,void 0,(function(){var o,a;return sA(this,(function(A){switch(A.label){case 0:A.trys.push([0,5,6,11]),n=uA(e),A.label=1;case 1:return[4,n.next()];case 2:if((r=A.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];A.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=A.sent(),i={error:a},[3,11];case 6:return A.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:A.sent(),A.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Sb(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var s=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(s),!i)return s}function Eb(e){return function(t){if(function(e){return Tv(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(uH){this.error(uH)}}));throw new TypeError("Unable to lift unknown Observable type")}}function kb(e,t,n,r,i){return new Ib(e,t,n,r,i)}var Ib=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(uH){t.error(uH)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(uH){t.error(uH)}finally{this.unsubscribe()}}:e.prototype._complete,a}return tA(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Vv);function Tb(e,t){return void 0===t&&(t=0),Eb((function(n,r){n.subscribe(kb(r,(function(n){return Sb(r,e,(function(){return r.next(n)}),t)}),(function(){return Sb(r,e,(function(){return r.complete()}),t)}),(function(n){return Sb(r,e,(function(){return r.error(n)}),t)})))}))}function xb(e,t){return void 0===t&&(t=0),Eb((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Ub(e,t){if(!e)throw new Error("Iterable cannot be null");return new tb((function(n){Sb(n,t,(function(){var r=e[Symbol.asyncIterator]();Sb(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Fb(e,t){if(null!=e){if(fb(e))return function(e,t){return Cb(e).pipe(xb(t),Tb(t))}(e,t);if(hb(e))return function(e,t){return new tb((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(pb(e))return function(e,t){return Cb(e).pipe(xb(t),Tb(t))}(e,t);if(gb(e))return Ub(e,t);if(yb(e))return function(e,t){return new tb((function(n){var r;return Sb(n,t,(function(){r=e[wb](),Sb(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(uH){return void n.error(uH)}i?n.complete():n.next(t)}),0,!0)})),function(){return Tv(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(bb(e))return function(e,t){return Ub(vb(e),t)}(e,t)}throw mb(e)}function Qb(e,t){return t?Fb(e,t):Cb(e)}function _b(e,t){return Eb((function(n,r){var i=0;n.subscribe(kb(r,(function(n){r.next(e.call(t,n,i++))})))}))}var Rb=Array.isArray;function Pb(e){return _b((function(t){return function(e,t){return Rb(t)?e.apply(void 0,AA([],aA(t))):e(t)}(e,t)}))}function Nb(e){return e[e.length-1]}function Ob(e){return function(e){return e&&Tv(e.schedule)}(Nb(e))?e.pop():void 0}function Lb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ob(e),r=function(e){return Tv(Nb(e))?e.pop():void 0}(e),i=db(e),s=i.args,o=i.keys;if(0===s.length)return Qb([],n);var a=new tb(function(e,t,n){void 0===n&&(n=Zv);return function(r){Db(t,(function(){for(var i=e.length,s=new Array(i),o=i,a=i,A=function(i){Db(t,(function(){var A=Qb(e[i],t),c=!1;A.subscribe(kb(r,(function(e){s[i]=e,c||(c=!0,a--),a||r.next(n(s.slice()))}),(function(){--o||r.complete()})))}),r)},c=0;c<i;c++)A(c)}),r)}}(s,n,o?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(o,e)}:Zv));return r?a.pipe(Pb(r)):a}function Db(e,t,n){e?Sb(n,e,t):t()}var Hb=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return tA(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ib);function Mb(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new Wv({next:function(){i.unsubscribe(),e()}});return Cb(t.apply(void 0,AA([],aA(n)))).subscribe(i)}}else e()}function jb(e,t,n){var r,i,s,o,a=!1;return e&&"object"===typeof e?(r=e.bufferSize,o=void 0===r?1/0:r,i=e.windowTime,t=void 0===i?1/0:i,a=void 0!==(s=e.refCount)&&s,n=e.scheduler):o=null!==e&&void 0!==e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new ib}:t,r=e.resetOnError,i=void 0===r||r,s=e.resetOnComplete,o=void 0===s||s,a=e.resetOnRefCountZero,A=void 0===a||a;return function(e){var t,r,s,a=0,c=!1,l=!1,u=function(){null===r||void 0===r||r.unsubscribe(),r=void 0},d=function(){u(),t=s=void 0,c=l=!1},h=function(){var e=t;d(),null===e||void 0===e||e.unsubscribe()};return Eb((function(e,p){a++,l||c||u();var f=s=null!==s&&void 0!==s?s:n();p.add((function(){0!==--a||l||c||(r=Mb(h,A))})),f.subscribe(p),!t&&a>0&&(t=new Wv({next:function(e){return f.next(e)},error:function(e){l=!0,u(),r=Mb(d,i,e),f.error(e)},complete:function(){c=!0,u(),r=Mb(d,o),f.complete()}}),Cb(e).subscribe(t))}))(e)}}({connector:function(){return new ab(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Kb(e,t){return void 0===t&&(t=Zv),e=null!==e&&void 0!==e?e:Vb,Eb((function(n,r){var i,s=!0;n.subscribe(kb(r,(function(n){var o=t(n);!s&&e(i,o)||(s=!1,i=o,r.next(n))})))}))}function Vb(e,t){return e===t}function qb(e,t){return void 0===t&&(t=!1),Eb((function(n,r){var i=0;n.subscribe(kb(r,(function(n){var s=e(n,i++);(s||t)&&r.next(n),!s&&r.complete()})))}))}function Gb(e,t){return Kb((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}function $b(e,t,n){return n?$b(e,t).pipe(Pb(n)):new tb((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},i=e(r);return Tv(t)?function(){return t(r,i)}:void 0}))}function Wb(e,t,n){return void 0===n&&(n=1/0),Tv(t)?Wb((function(n,r){return _b((function(e,i){return t(n,e,r,i)}))(Cb(e(n,r)))}),n):("number"===typeof t&&(n=t),Eb((function(t,r){return function(e,t,n,r,i,s,o,a){var A=[],c=0,l=0,u=!1,d=function(){!u||A.length||c||t.complete()},h=function(e){return c<r?p(e):A.push(e)},p=function(e){s&&t.next(e),c++;var a=!1;Cb(n(e,l++)).subscribe(kb(t,(function(e){null===i||void 0===i||i(e),s?h(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{c--;for(var e=function(){var e=A.shift();o?Sb(t,o,(function(){return p(e)})):p(e)};A.length&&c<r;)e();d()}catch(uH){t.error(uH)}})))};return e.subscribe(kb(t,h,(function(){u=!0,d()}))),function(){null===a||void 0===a||a()}}(t,r,e,n)})))}var zb=["addListener","removeListener"],Jb=["addEventListener","removeEventListener"],Yb=["on","off"];function Xb(e,t,n,r){if(Tv(n)&&(r=n,n=void 0),r)return Xb(e,t,n).pipe(Pb(r));var i=aA(function(e){return Tv(e.addEventListener)&&Tv(e.removeEventListener)}(e)?Jb.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return Tv(e.addListener)&&Tv(e.removeListener)}(e)?zb.map(Zb(e,t)):function(e){return Tv(e.on)&&Tv(e.off)}(e)?Yb.map(Zb(e,t)):[],2),s=i[0],o=i[1];if(!s&&hb(e))return Wb((function(e){return Xb(e,t,n)}))(Cb(e));if(!s)throw new TypeError("Invalid event target");return new tb((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return s(t),function(){return o(t)}}))}function Zb(e,t){return function(n){return function(r){return e[n](t,r)}}}var eC=function(e){function t(t,n){return e.call(this)||this}return tA(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(Qv),tC={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=tC.delegate;return(null===i||void 0===i?void 0:i.setInterval)?i.setInterval.apply(i,AA([e,t],aA(n))):setInterval.apply(void 0,AA([e,t],aA(n)))},clearInterval:function(e){var t=tC.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},nC=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return tA(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),tC.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&tC.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Fv(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(eC),rC=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=ob.now,e}(),iC=function(e){function t(t,n){void 0===n&&(n=rC.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return tA(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(rC),sC=new iC(nC);function oC(e){return void 0===e&&(e=1/0),Wb(Zv,e)}var aC=new tb((function(e){return e.complete()}));function AC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ob(e),r=function(e,t){return"number"===typeof Nb(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?Cb(i[0]):oC(r)(Qb(i,n)):aC}function cC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return oC(1)(Qb(e,Ob(e)))}function lC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ob(e);return Eb((function(t,r){(n?cC(e,t,n):cC(e,t)).subscribe(r)}))}function uC(e,t){return Tv(t)?Wb(e,t,1):Wb(e,1)}function dC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Qb(e,Ob(e))}var hC=n(121),pC=n(640);const fC="disabled",gC="auto-on",mC="block-users",wC="enable-noise-cancellation",yC="join-backstage",vC="mute-users",bC="pin-for-everyone",CC="screenshare",BC="send-audio",SC="send-video",EC="update-call-permissions";class kC extends Error{constructor(e){let{message:t,code:n,status:r,response:i,unrecoverable:s}=e;super(t),this.name="ErrorFromResponse",this.code=n,this.response=i,this.status=r,this.unrecoverable=s}toJSON(){const e=[["status",this.status],["code",this.code],["unrecoverable",this.unrecoverable]],t=[];for(const[n,r]of e)"undefined"!==typeof r&&null!==r&&t.push(`${n}: ${r}`);return{message:`(${t.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name}}}var IC;!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(IC||(IC={}));const TC=new class extends tw{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>xC}}])}internalJsonWrite(e,t){let n={};for(let[r,i]of Object.entries(e.fields))n[r]=xC.toJson(i);return n}internalJsonRead(e,t,n){if(!dm(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+um(e)+".");n||(n=this.create());for(let[r,i]of globalThis.Object.entries(e))n.fields[r]=xC.fromJson(i);return n}};const xC=new class extends tw{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",IC]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>TC},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>UC}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let t=e.kind.numberValue;if("number"==typeof t&&!Number.isFinite(t))throw new globalThis.Error;return t;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find((e=>6===e.no));if("message"!==n?.kind)throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find((e=>5===e.no));if("message"!==r?.kind)throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,n){switch(n||(n=this.create()),typeof e){case"number":n.kind={oneofKind:"numberValue",numberValue:e};break;case"string":n.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":n.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?n.kind={oneofKind:"nullValue",nullValue:IC.NULL_VALUE}:globalThis.Array.isArray(e)?n.kind={oneofKind:"listValue",listValue:UC.fromJson(e)}:n.kind={oneofKind:"structValue",structValue:TC.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+um(e))}return n}};const UC=new class extends tw{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>xC}])}internalJsonWrite(e,t){return e.values.map((e=>xC.toJson(e)))}internalJsonRead(e,t,n){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+um(e));n||(n=this.create());let r=e.map((e=>xC.fromJson(e)));return n.values.push(...r),n}};const FC=new class extends tw{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){const e=this.create(),t=Date.now();return e.seconds=xm.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*xm.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){const t=this.create(),n=e.getTime();return t.seconds=xm.from(Math.floor(n/1e3)).toString(),t.nanos=1e6*(n%1e3+(n<0&&n%1e3!==0?1e3:0)),t}internalJsonWrite(e,t){let n=1e3*xm.from(e.seconds).toNumber();if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw new Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let r="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);r="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(n).toISOString().replace(".000Z",r)}internalJsonRead(e,t,n){if("string"!==typeof e)throw new Error("Unable to parse Timestamp from JSON "+um(e)+".");let r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("Unable to parse Timestamp from JSON. Invalid format.");let i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("Unable to parse Timestamp from JSON. Invalid value.");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return n||(n=this.create()),n.seconds=xm.from(i/1e3).toString(),n.nanos=0,r[7]&&(n.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),n}};var QC,_C,RC,PC,NC,OC,LC,DC,HC,MC,jC,KC;!function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"}(QC||(QC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(_C||(_C={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(RC||(RC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(PC||(PC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(NC||(NC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY",e[e.GO=8]="GO",e[e.PLAIN_JAVASCRIPT=9]="PLAIN_JAVASCRIPT"}(OC||(OC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(LC||(LC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(DC||(DC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ENDED=1]="ENDED",e[e.LIVE_ENDED=2]="LIVE_ENDED",e[e.KICKED=3]="KICKED",e[e.SESSION_ENDED=4]="SESSION_ENDED"}(HC||(HC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DISCONNECT=1]="DISCONNECT",e[e.FAST=2]="FAST",e[e.REJOIN=3]="REJOIN",e[e.MIGRATE=4]="MIGRATE"}(MC||(MC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NONE=1]="NONE",e[e.LIGHT=2]="LIGHT",e[e.MODERATE=3]="MODERATE",e[e.SEVERE=4]="SEVERE",e[e.CRITICAL=5]="CRITICAL",e[e.EMERGENCY=6]="EMERGENCY",e[e.SHUTDOWN=7]="SHUTDOWN"}(jC||(jC={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NOMINAL=1]="NOMINAL",e[e.FAIR=2]="FAIR",e[e.SERIOUS=3]="SERIOUS",e[e.CRITICAL=4]="CRITICAL"}(KC||(KC={}));const VC=new class extends tw{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>$C},{no:2,name:"started_at",kind:"message",T:()=>FC},{no:3,name:"participant_count",kind:"message",T:()=>qC},{no:4,name:"pins",kind:"message",repeat:1,T:()=>GC}])}};const qC=new class extends tw{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}};const GC=new class extends tw{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}};const $C=new class extends tw{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>FC},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",_C,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>TC},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}};const WC=new class extends tw{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",RC,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}};const zC=new class extends tw{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}};const JC=new class extends tw{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>zC},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",RC,"VIDEO_QUALITY_"]}])}};const YC=new class extends tw{constructor(){super("stream.video.sfu.models.SubscribeOption",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:2,name:"codecs",kind:"message",repeat:1,T:()=>ZC}])}};const XC=new class extends tw{constructor(){super("stream.video.sfu.models.PublishOption",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:2,name:"codec",kind:"message",T:()=>ZC},{no:3,name:"bitrate",kind:"scalar",T:5},{no:4,name:"fps",kind:"scalar",T:5},{no:5,name:"max_spatial_layers",kind:"scalar",T:5},{no:6,name:"max_temporal_layers",kind:"scalar",T:5},{no:7,name:"video_dimension",kind:"message",T:()=>zC},{no:8,name:"id",kind:"scalar",T:5},{no:9,name:"use_single_layer",kind:"scalar",T:8}])}};const ZC=new class extends tw{constructor(){super("stream.video.sfu.models.Codec",[{no:16,name:"payload_type",kind:"scalar",T:13},{no:10,name:"name",kind:"scalar",T:9},{no:14,name:"clock_rate",kind:"scalar",T:13},{no:15,name:"encoding_parameters",kind:"scalar",T:9},{no:12,name:"fmtp",kind:"scalar",T:9}])}};const eB=new class extends tw{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",QC,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}};const tB=new class extends tw{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>JC},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8},{no:10,name:"muted",kind:"scalar",T:8},{no:11,name:"codec",kind:"message",T:()=>ZC},{no:12,name:"publish_option_id",kind:"scalar",T:5}])}};const nB=new class extends tw{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",NC,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}};const rB=new class extends tw{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>iB},{no:2,name:"os",kind:"message",T:()=>sB},{no:3,name:"browser",kind:"message",T:()=>oB},{no:4,name:"device",kind:"message",T:()=>AB}])}};const iB=new class extends tw{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",OC,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}};const sB=new class extends tw{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}};const oB=new class extends tw{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}};const aB=new class extends tw{constructor(){super("stream.video.sfu.models.RTMPIngress",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13},{no:3,name:"frame_rate",kind:"scalar",T:1},{no:4,name:"software",kind:"scalar",T:9},{no:5,name:"version",kind:"scalar",T:9},{no:6,name:"encoder",kind:"scalar",T:9},{no:7,name:"remote_addr",kind:"scalar",T:9}])}};const AB=new class extends tw{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}};const cB=new class extends tw{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>TC},{no:6,name:"created_at",kind:"message",T:()=>FC},{no:7,name:"updated_at",kind:"message",T:()=>FC}])}};const lB=new class extends tw{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}};const uB=new class extends tw{constructor(){super("stream.video.sfu.models.InputDevices",[{no:1,name:"available_devices",kind:"scalar",repeat:2,T:9},{no:2,name:"current_device",kind:"scalar",T:9},{no:3,name:"is_permitted",kind:"scalar",T:8}])}};const dB=new class extends tw{constructor(){super("stream.video.sfu.models.AndroidState",[{no:1,name:"thermal_state",kind:"enum",T:()=>["stream.video.sfu.models.AndroidThermalState",jC,"ANDROID_THERMAL_STATE_"]},{no:2,name:"is_power_saver_mode",kind:"scalar",T:8}])}};const hB=new class extends tw{constructor(){super("stream.video.sfu.models.AppleState",[{no:1,name:"thermal_state",kind:"enum",T:()=>["stream.video.sfu.models.AppleThermalState",KC,"APPLE_THERMAL_STATE_"]},{no:2,name:"is_low_power_mode_enabled",kind:"scalar",T:8}])}};const pB=new class extends tw{constructor(){super("stream.video.sfu.models.PerformanceStats",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:2,name:"codec",kind:"message",T:()=>ZC},{no:3,name:"avg_frame_time_ms",kind:"scalar",T:2},{no:4,name:"avg_fps",kind:"scalar",T:2},{no:5,name:"video_dimension",kind:"message",T:()=>zC},{no:6,name:"target_bitrate",kind:"scalar",T:5}])}};var fB=Object.freeze({__proto__:null,AndroidState:dB,get AndroidThermalState(){return jC},AppleState:hB,get AppleThermalState(){return KC},Browser:oB,Call:cB,get CallEndedReason(){return HC},CallGrants:lB,CallState:VC,ClientDetails:rB,Codec:ZC,get ConnectionQuality(){return _C},Device:AB,Error:nB,get ErrorCode(){return NC},get GoAwayReason(){return DC},ICETrickle:eB,InputDevices:uB,OS:sB,Participant:$C,ParticipantCount:qC,get PeerType(){return QC},PerformanceStats:pB,Pin:GC,PublishOption:XC,RTMPIngress:aB,Sdk:iB,get SdkType(){return OC},StreamQuality:WC,SubscribeOption:YC,TrackInfo:tB,get TrackType(){return PC},get TrackUnpublishReason(){return LC},VideoDimension:zC,VideoLayer:JC,get VideoQuality(){return RC},get WebsocketReconnectStrategy(){return MC}});const gB=new class extends tw{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}};const mB=new class extends tw{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>nB}])}};const wB=new class extends tw{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}};const yB=new class extends tw{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>nB}])}};const vB=new class extends tw{constructor(){super("stream.video.sfu.signal.Reconnection",[{no:1,name:"time_seconds",kind:"scalar",T:2},{no:2,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",MC,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}};const bB=new class extends tw{constructor(){super("stream.video.sfu.signal.Telemetry",[{no:1,name:"connection_time_seconds",kind:"scalar",oneof:"data",T:2},{no:2,name:"reconnection",kind:"message",oneof:"data",T:()=>vB}])}};const CB=new class extends tw{constructor(){super("stream.video.sfu.signal.SendStatsRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"subscriber_stats",kind:"scalar",T:9},{no:3,name:"publisher_stats",kind:"scalar",T:9},{no:4,name:"webrtc_version",kind:"scalar",T:9},{no:5,name:"sdk",kind:"scalar",T:9},{no:6,name:"sdk_version",kind:"scalar",T:9},{no:7,name:"audio_devices",kind:"message",T:()=>uB},{no:8,name:"video_devices",kind:"message",T:()=>uB},{no:9,name:"android",kind:"message",oneof:"deviceState",T:()=>dB},{no:10,name:"apple",kind:"message",oneof:"deviceState",T:()=>hB},{no:11,name:"telemetry",kind:"message",T:()=>bB},{no:12,name:"rtmp",kind:"message",T:()=>aB},{no:13,name:"subscriber_rtc_stats",kind:"scalar",T:9},{no:14,name:"publisher_rtc_stats",kind:"scalar",T:9},{no:15,name:"rtc_stats",kind:"scalar",T:9},{no:16,name:"encode_stats",kind:"message",repeat:1,T:()=>pB},{no:17,name:"decode_stats",kind:"message",repeat:1,T:()=>pB},{no:18,name:"unified_session_id",kind:"scalar",T:9}])}};const BB=new class extends tw{constructor(){super("stream.video.sfu.signal.SendStatsResponse",[{no:1,name:"error",kind:"message",T:()=>nB}])}};const SB=new class extends tw{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",QC,"PEER_TYPE_"]}])}};const EB=new class extends tw{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>nB}])}};const kB=new class extends tw{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>TB}])}};const IB=new class extends tw{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>nB}])}};const TB=new class extends tw{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}};new class extends tw{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}};new class extends tw{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}};const xB=new class extends tw{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>FB}])}};const UB=new class extends tw{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>nB}])}};const FB=new class extends tw{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>zC}])}};const QB=new class extends tw{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",QC,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}};const _B=new class extends tw{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>nB}])}};const RB=new class extends tw{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>nB}])}};const PB=new class extends tw{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>tB}])}};const NB=new class extends tw{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>nB}])}},OB=new class{constructor(e,t,n){this.typeName=e,this.methods=t.map((e=>function(e,t){var n,r,i;let s=e;return s.service=t,s.localName=null!==(n=s.localName)&&void 0!==n?n:im(s.name),s.serverStreaming=!!s.serverStreaming,s.clientStreaming=!!s.clientStreaming,s.options=null!==(r=s.options)&&void 0!==r?r:{},s.idempotency=null!==(i=s.idempotency)&&void 0!==i?i:void 0,s}(e,this))),this.options=null!==n&&void 0!==n?n:{}}}("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:PB,O:NB},{name:"SendAnswer",options:{},I:QB,O:_B},{name:"IceTrickle",options:{},I:eB,O:RB},{name:"UpdateSubscriptions",options:{},I:xB,O:UB},{name:"UpdateMuteStates",options:{},I:kB,O:IB},{name:"IceRestart",options:{},I:SB,O:EB},{name:"SendStats",options:{},I:CB,O:BB},{name:"StartNoiseCancellation",options:{},I:gB,O:mB},{name:"StopNoiseCancellation",options:{},I:wB,O:yB}]);const LB=new class extends tw{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>rS},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>iS},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>sS},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>cS},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>eB},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>hS},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>eS},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>tS},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>aS},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>ZB},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>$B},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>WB},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>zB},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>jB},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>pS},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>fS},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>KB},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>MB},{no:23,name:"call_ended",kind:"message",oneof:"eventPayload",T:()=>gS},{no:24,name:"participant_updated",kind:"message",oneof:"eventPayload",T:()=>nS},{no:25,name:"participant_migration_complete",kind:"message",oneof:"eventPayload",T:()=>HB},{no:27,name:"change_publish_options",kind:"message",oneof:"eventPayload",T:()=>DB}])}};const DB=new class extends tw{constructor(){super("stream.video.sfu.event.ChangePublishOptions",[{no:1,name:"publish_options",kind:"message",repeat:1,T:()=>XC},{no:2,name:"reason",kind:"scalar",T:9}])}};new class extends tw{constructor(){super("stream.video.sfu.event.ChangePublishOptionsComplete",[])}};const HB=new class extends tw{constructor(){super("stream.video.sfu.event.ParticipantMigrationComplete",[])}};const MB=new class extends tw{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>GC}])}};const jB=new class extends tw{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>nB},{no:5,name:"reconnect_strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",MC,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}};new class extends tw{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",QC,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}};const KB=new class extends tw{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",QC,"PEER_TYPE_"]}])}};const VB=new class extends tw{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>JB},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>GB},{no:3,name:"leave_call_request",kind:"message",oneof:"requestPayload",T:()=>qB}])}};const qB=new class extends tw{constructor(){super("stream.video.sfu.event.LeaveCallRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9}])}};const GB=new class extends tw{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}};const $B=new class extends tw{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>qC}])}};const WB=new class extends tw{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>$C}])}};const zB=new class extends tw{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",LC,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>$C}])}};const JB=new class extends tw{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:8,name:"publisher_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>rB},{no:5,name:"migration",kind:"message",T:()=>XB},{no:6,name:"fast_reconnect",kind:"scalar",T:8},{no:7,name:"reconnect_details",kind:"message",T:()=>YB},{no:9,name:"preferred_publish_options",kind:"message",repeat:1,T:()=>XC},{no:10,name:"preferred_subscribe_options",kind:"message",repeat:1,T:()=>YC}])}};const YB=new class extends tw{constructor(){super("stream.video.sfu.event.ReconnectDetails",[{no:1,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",MC,"WEBSOCKET_RECONNECT_STRATEGY_"]},{no:3,name:"announced_tracks",kind:"message",repeat:1,T:()=>tB},{no:4,name:"subscriptions",kind:"message",repeat:1,T:()=>FB},{no:5,name:"reconnect_attempt",kind:"scalar",T:13},{no:6,name:"from_sfu_id",kind:"scalar",T:9},{no:7,name:"previous_session_id",kind:"scalar",T:9},{no:8,name:"reason",kind:"scalar",T:9}])}};const XB=new class extends tw{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>tB},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>FB}])}};const ZB=new class extends tw{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>VC},{no:2,name:"reconnected",kind:"scalar",T:8},{no:3,name:"fast_reconnect_deadline_seconds",kind:"scalar",T:5},{no:4,name:"publish_options",kind:"message",repeat:1,T:()=>XC}])}};const eS=new class extends tw{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>$C}])}};const tS=new class extends tw{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>$C}])}};const nS=new class extends tw{constructor(){super("stream.video.sfu.event.ParticipantUpdated",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>$C}])}};const rS=new class extends tw{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}};const iS=new class extends tw{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}};const sS=new class extends tw{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>oS}])}};const oS=new class extends tw{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",_C,"CONNECTION_QUALITY_"]}])}};const aS=new class extends tw{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}};const AS=new class extends tw{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}};const cS=new class extends tw{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>AS}])}};const lS=new class extends tw{constructor(){super("stream.video.sfu.event.AudioSender",[{no:2,name:"codec",kind:"message",T:()=>ZC},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:4,name:"publish_option_id",kind:"scalar",T:5}])}};const uS=new class extends tw{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:6,name:"codec",kind:"message",T:()=>ZC},{no:7,name:"max_framerate",kind:"scalar",T:13},{no:8,name:"scalability_mode",kind:"scalar",T:9}])}};const dS=new class extends tw{constructor(){super("stream.video.sfu.event.VideoSender",[{no:2,name:"codec",kind:"message",T:()=>ZC},{no:3,name:"layers",kind:"message",repeat:1,T:()=>uS},{no:4,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",PC,"TRACK_TYPE_"]},{no:5,name:"publish_option_id",kind:"scalar",T:5}])}};const hS=new class extends tw{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>lS},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>dS}])}};const pS=new class extends tw{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>lB},{no:2,name:"message",kind:"scalar",T:9}])}};const fS=new class extends tw{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",DC,"GO_AWAY_REASON_"]}])}};const gS=new class extends tw{constructor(){super("stream.video.sfu.event.CallEnded",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.CallEndedReason",HC,"CALL_ENDED_REASON_"]}])}};var mS,wS;!function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"}(mS||(mS={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(wS||(wS={}));class yS{constructor(e){this._transport=e,this.typeName=OB.typeName,this.methods=OB.methods,this.options=OB.options}setPublisher(e,t){const n=this.methods[0],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}sendAnswer(e,t){const n=this.methods[1],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}iceTrickle(e,t){const n=this.methods[2],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}updateSubscriptions(e,t){const n=this.methods[3],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}updateMuteStates(e,t){const n=this.methods[4],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}iceRestart(e,t){const n=this.methods[5],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}sendStats(e,t){const n=this.methods[6],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}startNoiseCancellation(e,t){const n=this.methods[7],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}stopNoiseCancellation(e,t){const n=this.methods[8],r=this._transport.mergeOptions(t);return nw("unary",this._transport,n,r,e)}}const vS={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},bS=(e,t)=>({interceptUnary:(n,r,i,s)=>{let o;try{o=n(r,i,s)}finally{e(t,`Invoked SFU RPC method ${r.name}`,{request:o?.request,headers:o?.requestHeaders,response:o?.response})}return o}}),CS=e=>{const t={SendStats:!0};return{interceptUnary(n,r,i,s){if(t[r.name])return n(r,i,s);try{return e(r.name,i),n(r,i,s)}catch(uH){throw e(`${r.name}OnFailure`,[i,uH]),uH}}}},BS=e=>new Promise((t=>setTimeout(t,e)));function SS(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"===typeof e||e instanceof Function)}const ES=40,kS=1e3;function IS(e){const t=Math.min(500+2e3*e,5e3),n=Math.min(Math.max(250,2e3*(e-1)),5e3);return Math.floor(Math.random()*(t-n)+n)}function TS(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function xS(){const e=function(e){const t=new Uint8Array(e);return US(t),t}(16);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,[TS(e.subarray(0,4)),TS(e.subarray(4,6)),TS(e.subarray(6,8)),TS(e.subarray(8,10)),TS(e.subarray(10,16))].join("-")}const US="undefined"!==typeof crypto&&crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){const t=Math.pow(2,8*e.byteLength/e.length);for(let n=0;n<e.length;n++)e[n]=Math.random()*t};function FS(e){"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("offline",e),window.addEventListener("online",e))}function QS(e){"undefined"!==typeof window&&window.removeEventListener&&(window.removeEventListener("offline",e),window.removeEventListener("online",e))}const _S=()=>"undefined"!==typeof navigator&&"reactnative"===navigator.product?.toLowerCase(),RS=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4});let PS,NS="info";const OS=function(e,t){let n;switch(e){case"error":if(_S()){t=`ERROR: ${t}`,n=console.info;break}n=console.error;break;case"warn":if(_S()){t=`WARN: ${t}`,n=console.info;break}n=console.warn;break;case"info":n=console.info;break;case"trace":n=console.trace;break;default:n=console.log}for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];n(t,...i)},LS=e=>{NS=e},DS=()=>NS,HS=e=>{const t=PS||OS,n=(e||[]).filter(Boolean).join(":");return function(e,r){if(RS[e]>=RS[NS]){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];t(e,`[${n}]: ${r}`,...s)}}},MS=async(e,t)=>{let n,r=0;do{r>0&&await BS(IS(r));try{n=await e()}catch(uH){if(uH instanceof rw&&uH.code===vv[vv.cancelled]||(t?.aborted??!1))throw uH;HS(["sfu-client","rpc"])("debug",`rpc failed (${r})`,uH),r++}}while(!n||n.response.error?.shouldRetry);return n},jS=async e=>{const t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});const n=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach((e=>{e.stop?.()})),t.close(),n},KS=e=>!!e&&("vp9"===(e=e.toLowerCase())||"av1"===e||"video/vp9"===e||"video/av1"===e),VS={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0,callEnded:void 0,participantUpdated:void 0,participantMigrationComplete:void 0,changePublishOptions:void 0},qS=e=>Object.prototype.hasOwnProperty.call(VS,e);class GS{constructor(){var e=this;this.logger=HS(["Dispatcher"]),this.subscribers={},this.dispatch=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";const r=t.eventPayload.oneofKind;if(!r)return;const i=t.eventPayload[r];e.logger("debug",`Dispatching ${r}, tag=${n}`,i);const s=e.subscribers[r];if(s)for(const a of s)try{a(i)}catch(o){e.logger("warn","Listener failed with error",o)}},this.on=(e,t)=>{var n;return((n=this.subscribers)[e]??(n[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter((e=>e!==t))}}}class $S{constructor(){this.subscriberCandidates=new ab,this.publisherCandidates=new ab,this.push=e=>{const t=WS(e);if(t)if(e.peerType===QC.SUBSCRIBER)this.subscriberCandidates.next(t);else if(e.peerType===QC.PUBLISHER_UNSPECIFIED)this.publisherCandidates.next(t);else{HS(["sfu-client"])("warn","ICETrickle, Unknown peer type",e)}},this.dispose=()=>{this.subscriberCandidates.complete(),this.publisherCandidates.complete()}}}const WS=e=>{try{return JSON.parse(e.iceCandidate)}catch(t){return void HS(["sfu-client"])("error","Failed to parse ICE Trickle",t,e)}},zS=ZS((function(e,t){let n=!1;return{cb:()=>t().finally((()=>{n||YS.delete(e)})),onContinued:()=>n=!0}})),JS=ZS((function(e,t){const n=new AbortController;return{cb:()=>n.signal.aborted?Promise.resolve("canceled"):t(n.signal).finally((()=>{n.signal.aborted||YS.delete(e)})),onContinued:()=>n.abort()}})),YS=new Map;async function XS(e){let t;for(;t=YS.get(e);)await t.promise}function ZS(e){return function(t,n){const{cb:r,onContinued:i}=e(t,n),s=YS.get(t);s?.onContinued();const o=s?s.promise.then(r,r):r();return YS.set(t,{promise:o,onContinued:i}),o}}const eE=e=>{let t,n;if(Lb([e]).subscribe({next:e=>{let[n]=e;t=n},error:e=>{n=e}}).unsubscribe(),n)throw n;return t},tE=(e,t)=>{const n=(e=>"function"===typeof e)(t)?t(eE(e)):t;return e.next(n),n},nE=(e,t)=>{const n=e.getValue(),r=tE(e,t);return{lastValue:n,value:r,rollback:()=>tE(e,n)}},rE=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>HS(["RxUtils"])("warn","An observable emitted an error",e);const r=e.subscribe({next:t,error:n});return()=>{r.unsubscribe()}},iE=(e,t)=>{const n=Symbol();return rE(e,(e=>{zS(n,(()=>t(e)))}))};var sE,oE=Object.freeze({__proto__:null,createSafeAsyncSubscription:iE,createSubscription:rE,getCurrentValue:eE,setCurrentValue:tE,updateValue:nE});!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(sE||(sE={}));class aE{constructor(){this.connectedUserSubject=new Hb(void 0),this.callsSubject=new Hb([]),this.setConnectedUser=e=>tE(this.connectedUserSubject,e),this.setCalls=e=>tE(this.callsSubject,e),this.registerCall=e=>{this.calls.find((t=>t.cid===e.cid))||this.setCalls((t=>[...t,e]))},this.unregisterCall=e=>(HS(["client-state"])("trace",`Unregistering call: ${e.cid}`),this.setCalls((t=>t.filter((t=>t!==e))))),this.findCall=(e,t)=>this.calls.find((n=>n.type===e&&n.id===t)),this.connectedUserSubject.subscribe((async e=>{if(!e){const e=HS(["client-state"]);for(const t of this.calls)t.state.callingState!==sE.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave({message:"client.disconnectUser() called"}).catch((n=>{e("error",`Error leaving call: ${t.cid}`,n)})))}}))}get connectedUser(){return eE(this.connectedUserSubject)}get calls(){return eE(this.callsSubject)}}class AE{constructor(e){this.getCurrentValue=eE,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return eE(this.connectedUser$)}get calls(){return eE(this.calls$)}}const cE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{for(const r of t){const t=r(e,n);if(0!==t)return t}return 0}},lE=e=>t=>(n,r)=>e(n,r)?t(n,r):0,uE=e=>e.publishedTracks.includes(PC.VIDEO),dE=e=>e.publishedTracks.includes(PC.AUDIO),hE=e=>e.publishedTracks.includes(PC.SCREEN_SHARE),pE=e=>e.publishedTracks.includes(PC.SCREEN_SHARE_AUDIO),fE=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,gE=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,mE=(e,t)=>hE(e)&&!hE(t)?-1:!hE(e)&&hE(t)?1:0,wE=(e,t)=>uE(e)&&!uE(t)?-1:!uE(e)&&uE(t)?1:0,yE=(e,t)=>dE(e)&&!dE(t)?-1:!dE(e)&&dE(t)?1:0,vE=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return-1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return-1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},bE=e=>(t,n)=>t.reaction?.type===e&&n.reaction?.type!==e?-1:t.reaction?.type!==e&&n.reaction?.type===e?1:0,CE=(e,t)=>(e.roles||[]).some((e=>t.includes(e))),BE=lE(((e,t)=>e.viewportVisibilityState?.videoTrack===mS.INVISIBLE||t.viewportVisibilityState?.videoTrack===mS.INVISIBLE)),SE=lE(((e,t)=>e.viewportVisibilityState?.videoTrack===mS.INVISIBLE||e.viewportVisibilityState?.videoTrack===mS.UNKNOWN||t.viewportVisibilityState?.videoTrack===mS.INVISIBLE||t.viewportVisibilityState?.videoTrack===mS.UNKNOWN)),EE=cE(vE,mE,BE(cE(fE,gE,bE("raised-hand"),wE,yE))),kE=cE(vE,mE,fE,BE(cE(gE,bE("raised-hand"),wE,yE))),IE=cE(vE,SE(cE(fE,gE,bE("raised-hand"),wE,yE))),TE=cE(BE(cE(fE,gE,bE("raised-hand"),wE,yE)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>CE(e,t)&&!CE(n,t)?-1:!CE(e,t)&&CE(n,t)?1:0}("admin","host","speaker")),xE={broadcasting:!1,hls:{playlist_url:"",status:""},rtmps:[]};class UE{constructor(){this.backstageSubject=new Hb(!0),this.blockedUserIdsSubject=new Hb([]),this.createdAtSubject=new Hb(new Date),this.endedAtSubject=new Hb(void 0),this.startsAtSubject=new Hb(void 0),this.updatedAtSubject=new Hb(new Date),this.createdBySubject=new Hb(void 0),this.customSubject=new Hb({}),this.egressSubject=new Hb(void 0),this.ingressSubject=new Hb(void 0),this.recordingSubject=new Hb(!1),this.sessionSubject=new Hb(void 0),this.settingsSubject=new Hb(void 0),this.transcribingSubject=new Hb(!1),this.captioningSubject=new Hb(!1),this.endedBySubject=new Hb(void 0),this.thumbnailsSubject=new Hb(void 0),this.membersSubject=new Hb([]),this.ownCapabilitiesSubject=new Hb([]),this.callingStateSubject=new Hb(sE.UNKNOWN),this.startedAtSubject=new Hb(void 0),this.participantCountSubject=new Hb(0),this.anonymousParticipantCountSubject=new Hb(0),this.participantsSubject=new Hb([]),this.callStatsReportSubject=new Hb(void 0),this.closedCaptionsSubject=new Hb([]),this.orphanedTracks=[],this.logger=HS(["CallState"]),this.sortParticipantsBy=EE,this.closedCaptionsTasks=new Map,this.dispose=()=>{for(const[e,t]of this.closedCaptionsTasks.entries())clearTimeout(t),this.closedCaptionsTasks.delete(e)},this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,(e=>e))},this.getCurrentValue=eE,this.setCurrentValue=tE,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setCaptioning=e=>nE(this.captioningSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.setBackstage=e=>this.setCurrentValue(this.backstageSubject,e),this.setEndedAt=e=>this.setCurrentValue(this.endedAtSubject,e),this.findParticipantBySessionId=e=>this.participants.find((t=>t.sessionId===e)),this.getParticipantLookupBySessionId=()=>this.participants.reduce(((e,t)=>(e[t.sessionId]=t,e)),{}),this.updateParticipant=(e,t)=>{const n=this.findParticipantBySessionId(e);if(!n)return void this.logger("warn",`Participant with sessionId ${e} not found`);const r="function"===typeof t?t(n):t,i={...n,...r};return this.setParticipants((t=>t.map((t=>t.sessionId===e?i:t))))},this.updateOrAddParticipant=(e,t)=>this.setParticipants((n=>{let r=!0;const i=n.map((n=>n.sessionId===e?(r=!1,{...n,...t}):n));return r&&i.push(t),i})),this.updateParticipants=e=>0===Object.keys(e).length?this.participants:this.setParticipants((t=>t.map((t=>{const n=e[t.sessionId];return n?{...t,...n}:t})))),this.updateParticipantTracks=(e,t)=>this.updateParticipants(Object.entries(t).reduce(((t,n)=>{let[r,i]=n;i.dimension&&(i.dimension.height=Math.ceil(i.dimension.height),i.dimension.width=Math.ceil(i.dimension.width));const s="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return s&&(t[r]={[s]:i.dimension}),t}),{})),this.updateFromEvent=e=>{const t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{const t=e.reduce(((e,t)=>(e[t.sessionId]=Date.now(),e)),{});return this.setParticipants((e=>e.map((e=>{const n=t[e.sessionId];return n?{...e,pin:{isLocalPin:!1,pinnedAt:n}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))))},this.registerOrphanedTrack=e=>{this.orphanedTracks.push(e)},this.removeOrphanedTrack=e=>{this.orphanedTracks=this.orphanedTracks.filter((t=>t.id!==e))},this.takeOrphanedTracks=e=>{const t=this.orphanedTracks.filter((t=>t.trackLookupPrefix===e));return t.length>0&&(this.orphanedTracks=this.orphanedTracks.filter((t=>t.trackLookupPrefix!==e))),t},this.updateClosedCaptionSettings=e=>{this.closedCaptionsSettings={...this.closedCaptionsSettings,...e}},this.updateFromCallResponse=e=>{this.setBackstage(e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setEndedAt(e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording);const t=this.setCurrentValue(this.sessionSubject,e.session);this.updateParticipantCountFromSession(t),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.captioningSubject,e.captioning),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromSfuCallState=(e,t,n)=>{const{participants:r,participantCount:i,startedAt:s,pins:o}=e,a=n?.announcedTracks.map((e=>e.trackType))??[];this.setParticipants((()=>{const e=this.getParticipantLookupBySessionId();return r.map((n=>{const r=e[n.sessionId],i=n.sessionId===t;return Object.assign({},r,n,{isLocalParticipant:i,publishedTracks:i?a:n.publishedTracks,viewportVisibilityState:r?.viewportVisibilityState??{videoTrack:mS.UNKNOWN,screenShareTrack:mS.UNKNOWN}})}))})),this.setParticipantCount(i?.total||0),this.setAnonymousParticipantCount(i?.anonymous||0),this.setStartedAt(s?FC.toDate(s):new Date),this.setServerSidePins(o)},this.updateFromMemberRemoved=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(t=>t.filter((t=>-1===e.members.indexOf(t.user_id)))))},this.updateFromMemberAdded=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(t=>[...t,...e.members]))},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xE;return{...e,broadcasting:!1,hls:{...e.hls,status:""}}}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xE;return{...e,broadcasting:!1,hls:{...e.hls,status:""}}}))},this.updateParticipantCountFromSession=e=>{if(!e||this.callingState===sE.JOINED)return;const t=Object.values(e.participants_count_by_role).reduce(((e,t)=>e+t),0),n=Math.max(t,e.participants.length);this.setParticipantCount(n),this.setAnonymousParticipantCount(e.anonymous_participant_count||0)},this.updateFromSessionParticipantCountUpdate=e=>{const t=this.setCurrentValue(this.sessionSubject,(t=>t?{...t,anonymous_participant_count:e.anonymous_participant_count,participants_count_by_role:e.participants_count_by_role}:t));this.updateParticipantCountFromSession(t)},this.updateFromSessionParticipantLeft=e=>{const t=this.setCurrentValue(this.sessionSubject,(t=>{if(!t)return t;const{participants:n,participants_count_by_role:r}=t,{user:i,user_session_id:s}=e.participant;return{...t,participants:n.filter((e=>e.user_session_id!==s)),participants_count_by_role:{...r,[i.role]:Math.max(0,(r[i.role]||0)-1)}}}));this.updateParticipantCountFromSession(t)},this.updateFromSessionParticipantJoined=e=>{const t=this.setCurrentValue(this.sessionSubject,(t=>{if(!t)return t;const{participants:n,participants_count_by_role:r}=t,{user:i,user_session_id:s}=e.participant;let o=!0;const a=n.map((t=>t.user_session_id===s?(o=!1,e.participant):t));o&&a.push(e.participant);const A=o?1:0;return{...t,participants:a,participants_count_by_role:{...r,[i.role]:(r[i.role]||0)+A}}}));this.updateParticipantCountFromSession(t)},this.updateMembers=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(t=>t.map((t=>{const n=e.members.find((e=>e.user_id===t.user_id));return n||t}))))},this.updateParticipantReaction=e=>{const{user:t,custom:n,type:r,emoji_code:i}=e.reaction;this.setParticipants((e=>e.map((e=>e.userId!==t.id?e:{...e,reaction:{type:r,emoji_code:i,custom:n}}))))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,(t=>t?t.filter((t=>t!==e.user.id)):t))},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,(t=>[...t||[],e.user.id]))},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.updateFromClosedCaptions=e=>{this.setCurrentValue(this.closedCaptionsSubject,(t=>{const{closed_caption:n}=e,r=e=>`${e.speaker_id}/${e.start_time}`,i=r(n);if(t.some((e=>r(e)===i)))return t;const s=[...t,n],{visibilityDurationMs:o=2700,maxVisibleCaptions:a=2}=this.closedCaptionsSettings||{};if(o>0){const e=setTimeout((()=>{this.setCurrentValue(this.closedCaptionsSubject,(e=>e.filter((e=>e!==n)))),this.closedCaptionsTasks.delete(i)}),o);this.closedCaptionsTasks.set(i,e);for(let t=0;t<s.length-a;t++){const e=r(s[t]),n=this.closedCaptionsTasks.get(e);clearTimeout(n),this.closedCaptionsTasks.delete(e)}}return s.slice(-a)}))},this.participants$=this.participantsSubject.asObservable().pipe(_b((e=>e.sort(this.sortParticipantsBy))),jb({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(_b((e=>e.find((e=>e.isLocalParticipant)))),jb({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(_b((e=>e.filter((e=>!e.isLocalParticipant)))),jb({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(_b((e=>e.filter((e=>!!e.pin)))),jb({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(_b((e=>e.find((e=>e.isDominantSpeaker)))),jb({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(_b((e=>e.some((e=>hE(e))))),Kb(),jb({bufferSize:1,refCount:!0})),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.startedAt$=this.startedAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.closedCaptions$=this.closedCaptionsSubject.asObservable();const e=(e,t)=>{if(e.length!==t.length)return!1;for(const n of e)if(!t.includes(n))return!1;for(const n of t)if(!e.includes(n))return!1;return!0},t=(e,t)=>e.asObservable().pipe(Kb(t));this.anonymousParticipantCount$=t(this.anonymousParticipantCountSubject),this.blockedUserIds$=t(this.blockedUserIdsSubject,e),this.backstage$=t(this.backstageSubject),this.callingState$=t(this.callingStateSubject),this.ownCapabilities$=t(this.ownCapabilitiesSubject,e),this.participantCount$=t(this.participantCountSubject),this.recording$=t(this.recordingSubject),this.transcribing$=t(this.transcribingSubject),this.captioning$=t(this.captioningSubject),this.eventHandlers={"call.frame_recording_ready":void 0,"call.permission_request":void 0,"call.recording_ready":void 0,"call.rtmp_broadcast_failed":void 0,"call.rtmp_broadcast_started":void 0,"call.rtmp_broadcast_stopped":void 0,"call.transcription_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,"user.updated":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.closed_caption":this.updateFromClosedCaptions,"call.closed_captions_failed":()=>{this.setCurrentValue(this.captioningSubject,!1)},"call.closed_captions_started":()=>{this.setCurrentValue(this.captioningSubject,!0)},"call.closed_captions_stopped":()=>{this.setCurrentValue(this.captioningSubject,!1)},"call.created":e=>this.updateFromCallResponse(e.call),"call.deleted":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.frame_recording_failed":e=>{this.updateFromCallResponse(e.call)},"call.frame_recording_started":e=>{this.updateFromCallResponse(e.call)},"call.frame_recording_stopped":e=>{this.updateFromCallResponse(e.call)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":e=>{this.updateFromCallResponse(e.call)},"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.recording_failed":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.missed":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_count_updated":this.updateFromSessionParticipantCountUpdate,"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.transcription_started":()=>{this.setCurrentValue(this.transcribingSubject,!0)},"call.transcription_stopped":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.transcription_failed":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get captioning(){return this.getCurrentValue(this.captioning$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}get closedCaptions(){return this.getCurrentValue(this.closedCaptions$)}}const FE=e=>{const t=[];return e.forEach((e=>{t.push(e)})),t},QE=e=>({id:e.id,tracks:e.getTracks().map((e=>({id:e.id,kind:e.kind,label:e.label,enabled:e.enabled,muted:e.muted,readyState:e.readyState})))}),_E=e=>e&&e.type===OC.REACT?"stream-react":e&&e.type===OC.REACT_NATIVE?"stream-react-native":"stream-js",RE=e=>e?`${e.major}.${e.minor}.${e.patch}`:"0.0.0-development",PE=()=>"undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),NE=()=>"undefined"!==typeof navigator&&navigator.userAgent?.includes("Firefox");var OE=Object.freeze({__proto__:null,isChrome:()=>"undefined"!==typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:NE,isSafari:PE});const LE=(e,t)=>{const{trackKind:n,kind:r,publisher:i}=t,s="subscriber"===r?"inbound-rtp":"outbound-rtp",o=FE(e);return{rawStats:e,streams:o.filter((e=>e.type===s&&e.kind===n)).map((e=>{const t=e,n=o.find((e=>"codec"===e.type&&e.id===t.codecId)),s=o.find((e=>"transport"===e.type&&e.id===t.transportId));let a,A;if(s&&"connected"===s.dtlsState){const e=o.find((e=>"candidate-pair"===e.type&&e.id===s.selectedCandidatePairId));a=e?.currentRoundTripTime}if("publisher"===r&&i){const e=NE(),n=o.find((n=>"media-source"===n.type&&(!!e||n.id===t.mediaSourceId)));n&&(A=i.getTrackType(n.trackIdentifier))}return{bytesSent:t.bytesSent,bytesReceived:t.bytesReceived,codec:n?.mimeType,currentRoundTripTime:a,frameHeight:t.frameHeight,frameWidth:t.frameWidth,framesPerSecond:t.framesPerSecond,jitter:t.jitter,kind:t.kind,mediaSourceId:t.mediaSourceId,qualityLimitationReason:t.qualityLimitationReason,rid:t.rid,ssrc:t.ssrc,trackType:A}})),timestamp:Date.now()}},DE=e=>({rawReport:e??{streams:[],timestamp:Date.now()},totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,codec:"",codecPerTrackType:{},timestamp:Date.now()}),HE=e=>{const t=DE(e);let n=-1;const r=new Set,i=e.streams,s=i.reduce(((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;const i=(s=t.frameWidth||0,o=t.frameHeight||0,s*o);var s,o;return i>n&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,n=i),r.add(t.qualityLimitationReason||""),e}),t);i.length>0&&(s.averageJitterInMs=Math.round(s.averageJitterInMs/i.length*1e3),s.averageRoundTripTimeInMs=Math.round(s.averageRoundTripTimeInMs/i.length*1e3),s.codec=i[0].codec||"",s.codecPerTrackType=i.reduce(((e,t)=>(t.trackType&&(e[t.trackType]=t.codec||""),e)),{}));const o=[r.has("cpu")&&"cpu",r.has("bandwidth")&&"bandwidth",r.has("other")&&"other"].filter(Boolean).join(", ");return o&&(s.qualityLimitationReasons=o),s},[ME,jE,KE]="1.23.1".split(".");let VE,qE,GE,$E={type:OC.PLAIN_JAVASCRIPT,major:ME,minor:jE,patch:KE},WE={oneofKind:void 0};const zE=()=>$E,JE=async()=>{if(_S())return{sdk:$E,os:VE,device:qE};const e=navigator.userAgentData;let t;if(e&&e.getHighEntropyValues)try{t=await e.getHighEntropyValues(["platform","platformVersion"])}catch{}const n=new hC.UAParser(navigator.userAgent),{browser:r,os:i,device:s,cpu:o}=n.getResult();return{sdk:$E,browser:{name:r.name||navigator.userAgent,version:r.version||""},os:{name:t?.platform||i.name||"",version:t?.platformVersion||i.version||"",architecture:o.architecture||""},device:{name:[s.vendor,s.model,s.type].filter(Boolean).join(" "),version:""}}};class YE{constructor(e,t){let{options:n,clientDetails:r,subscriber:i,publisher:s,microphone:o,camera:a,state:A,tracer:c,unifiedSessionId:l}=t;this.logger=HS(["SfuStatsReporter"]),this.inputDevices=new Map,this.observeDevice=(e,t)=>{const{browserPermissionState$:n}=e.state;this.unsubscribeDevicePermissionsSubscription?.(),this.unsubscribeDevicePermissionsSubscription=rE(Lb([n,this.state.ownCapabilities$]),(n=>{let[r,i]=n;this.unsubscribeListDevicesSubscription?.();const s="mic"===t?i.includes(BC):i.includes(SC);"granted"===r&&s?this.unsubscribeListDevicesSubscription=rE(Lb([e.listDevices(),e.state.selectedDevice$]),(e=>{let[n,r]=e;const i=n.find((e=>e.deviceId===r));this.inputDevices.set(t,{currentDevice:i?.label||r||"",availableDevices:n.map((e=>e.label)),isPermitted:!0})})):this.inputDevices.set(t,{currentDevice:"",availableDevices:[],isPermitted:!1})}))},this.sendConnectionTime=e=>{this.sendTelemetryData({data:{oneofKind:"connectionTimeSeconds",connectionTimeSeconds:e}})},this.sendReconnectionTime=(e,t)=>{this.sendTelemetryData({data:{oneofKind:"reconnection",reconnection:{strategy:e,timeSeconds:t}}})},this.sendTelemetryData=e=>{this.run(e).catch((e=>{this.logger("warn","Failed to send telemetry data",e)}))},this.run=async e=>{const[t,n]=await Promise.all([this.subscriber.stats.get(),this.publisher?.stats.get()]);this.subscriber.tracer?.trace("getstats",t.delta),n&&this.publisher?.tracer?.trace("getstats",n.delta);const r=this.subscriber.tracer?.take(),i=this.publisher?.tracer?.take(),s=this.tracer.take(),o=this.sfuClient.getTrace(),a=[...s.snapshot,...o?.snapshot??[],...i?.snapshot??[],...r?.snapshot??[]];try{await this.sfuClient.sendStats({sdk:this.sdkName,sdkVersion:this.sdkVersion,webrtcVersion:this.webRTCVersion,subscriberStats:JSON.stringify(FE(t.stats)),publisherStats:n?JSON.stringify(FE(n.stats)):"[]",subscriberRtcStats:"",publisherRtcStats:"",rtcStats:JSON.stringify(a),encodeStats:n?.performanceStats??[],decodeStats:t.performanceStats,audioDevices:this.inputDevices.get("mic"),videoDevices:this.inputDevices.get("camera"),unifiedSessionId:this.unifiedSessionId,deviceState:WE,telemetry:e})}catch(uH){throw i?.rollback(),r?.rollback(),s.rollback(),o?.rollback(),uH}},this.start=()=>{this.options.reporting_interval_ms<=0||(this.observeDevice(this.microphone,"mic"),this.observeDevice(this.camera,"camera"),clearInterval(this.intervalId),this.intervalId=setInterval((()=>{this.run().catch((e=>{this.logger("warn","Failed to report stats",e)}))}),this.options.reporting_interval_ms))},this.stop=()=>{this.unsubscribeDevicePermissionsSubscription?.(),this.unsubscribeDevicePermissionsSubscription=void 0,this.unsubscribeListDevicesSubscription?.(),this.unsubscribeListDevicesSubscription=void 0,this.inputDevices.clear(),clearInterval(this.intervalId),this.intervalId=void 0,clearTimeout(this.timeoutId),this.timeoutId=void 0},this.flush=()=>{this.run().catch((e=>{this.logger("warn","Failed to flush report stats",e)}))},this.scheduleOne=e=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.run().catch((e=>{this.logger("warn","Failed to report stats",e)}))}),e)},this.sfuClient=e,this.options=n,this.subscriber=i,this.publisher=s,this.microphone=o,this.camera=a,this.state=A,this.tracer=c,this.unifiedSessionId=l;const{sdk:u,browser:d}=r;this.sdkName=_E(u),this.sdkVersion=RE(u);const h=GE;this.webRTCVersion=h?.version||`${d?.name||""}-${d?.version||""}`||"N/A"}}const XE=(e,t)=>{e.addEventListener("icecandidate",(e=>{t("onicecandidate",e.candidate)})),e.addEventListener("track",(e=>{const n=e.streams.map((e=>`stream:${e.id}`));t("ontrack",`${e.track.kind}:${e.track.id} ${n}`)})),e.addEventListener("signalingstatechange",(()=>{t("signalingstatechange",e.signalingState)})),e.addEventListener("iceconnectionstatechange",(()=>{t("iceconnectionstatechange",e.iceConnectionState)})),e.addEventListener("icegatheringstatechange",(()=>{t("icegatheringstatechange",e.iceGatheringState)})),e.addEventListener("connectionstatechange",(()=>{t("connectionstatechange",e.connectionState)})),e.addEventListener("negotiationneeded",(()=>{t("negotiationneeded",void 0)})),e.addEventListener("datachannel",(e=>{let{channel:n}=e;t("datachannel",[n.id,n.label])}));const n=e.close;e.close=function(){return t("close",void 0),n.call(this)};for(const r of["createOffer","createAnswer","setLocalDescription","setRemoteDescription","addIceCandidate"]){const n=e[r];n&&(e[r]=async function(){try{for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];t(r,i);const o=await n.apply(this,i);return t(`${r}OnSuccess`,o),o}catch(uH){throw t(`${r}OnFailure`,uH.toString()),uH}})}};class ZE{constructor(e,t,n){var r=this;this.previousStats={},this.frameTimeHistory=[],this.fpsHistory=[],this.get=async()=>{const e=await this.pc.getStats(),t=ek(e),n=this.withOverrides(this.peerType===QC.SUBSCRIBER?this.getDecodeStats(t):this.getEncodeStats(t)),r=tk(this.previousStats,t);return this.previousStats=t,this.frameTimeHistory=this.frameTimeHistory.slice(-2),this.fpsHistory=this.fpsHistory.slice(-2),{performanceStats:n,delta:r,stats:e}},this.getEncodeStats=e=>{const t=[];for(const n of Object.values(e)){if("outbound-rtp"!==n.type)continue;const{codecId:r,framesSent:i=0,kind:s,id:o,totalEncodeTime:a=0,framesPerSecond:A=0,frameHeight:c=0,frameWidth:l=0,targetBitrate:u=0,mediaSourceId:d}=n;if("audio"===s||!this.previousStats[o])continue;const h=this.previousStats[o],p=a-(h.totalEncodeTime||0),f=i-(h.framesSent||0),g=f>0?p/f*1e3:0;this.frameTimeHistory.push(g),this.fpsHistory.push(A);let m=PC.VIDEO;if(d&&e[d]){const t=e[d];m=this.trackIdToTrackType.get(t.trackIdentifier)||m}t.push({trackType:m,codec:rk(e,r),avgFrameTimeMs:nk(this.frameTimeHistory),avgFps:nk(this.fpsHistory),targetBitrate:Math.round(u),videoDimension:{width:l,height:c}})}return t},this.getDecodeStats=e=>{let t,n=0;for(const d of Object.values(e)){if("inbound-rtp"!==d.type)continue;const e=d,{kind:r,frameWidth:i=0,frameHeight:s=0}=e,o=i*s;"video"===r&&o>n&&(t=e,n=o)}if(!t||!this.previousStats[t.id])return[];const r=this.previousStats[t.id],{framesDecoded:i=0,framesPerSecond:s=0,totalDecodeTime:o=0,trackIdentifier:a}=t,A=o-(r.totalDecodeTime||0),c=i-(r.framesDecoded||0),l=c>0?A/c*1e3:0;this.frameTimeHistory.push(l),this.fpsHistory.push(s);const u=this.trackIdToTrackType.get(a)||PC.VIDEO;return[pB.create({trackType:u,codec:rk(e,t.codecId),avgFrameTimeMs:nk(this.frameTimeHistory),avgFps:nk(this.fpsHistory),videoDimension:{width:t.frameWidth,height:t.frameHeight}})]},this.withOverrides=e=>{if(this.costOverrides)for(const t of e){const e=this.costOverrides.get(t.trackType);void 0!==e&&(t.avgFrameTimeMs=e+(t.avgFrameTimeMs||0)/1e3)}return e},this.setCost=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PC.VIDEO;r.costOverrides||(r.costOverrides=new Map),r.costOverrides.set(t,e)},this.pc=e,this.peerType=t,this.trackIdToTrackType=n}}const ek=e=>{const t={};return e.forEach(((e,n)=>{t[n]=e})),t},tk=(e,t)=>{t=JSON.parse(JSON.stringify(t));for(const[i,s]of Object.entries(t))if(delete s.id,e[i])for(const[t,n]of Object.entries(s))n===e[i][t]&&delete s[t];let n=-1/0;const r=Object.values(t);for(const i of r)i.timestamp>n&&(n=i.timestamp);for(const i of r)i.timestamp===n&&(i.timestamp=0);return t.timestamp=n,t},nk=e=>e.reduce(((e,t)=>e+t),0)/e.length,rk=(e,t)=>{if(!t||!e[t])return;const n=e[t];return ZC.create({name:n.mimeType.split("/").pop(),clockRate:n.clockRate,payloadType:n.payloadType,fmtp:n.sdpFmtpLine})};class ik{constructor(e){this.buffer=[],this.enabled=!0,this.setEnabled=e=>{this.enabled!==e&&(this.enabled=e,this.buffer=[])},this.trace=(e,t)=>{this.enabled&&this.buffer.push([e,this.id,t,Date.now()])},this.take=()=>{const e=this.buffer;return this.buffer=[],{snapshot:e,rollback:()=>{this.buffer.unshift(...e)}}},this.dispose=()=>{this.buffer=[]},this.id=e}}class sk{constructor(e,t){let{sfuClient:n,connectionConfig:r,state:i,dispatcher:s,onUnrecoverableError:o,logTag:a,enableTracing:A}=t;if(this.isIceRestarting=!1,this.isDisposed=!1,this.trackIdToTrackType=new Map,this.subscriptions=[],this.lock=Math.random().toString(36).slice(2),this.on=(e,t)=>{this.subscriptions.push(this.dispatcher.on(e,(n=>{const r=`pc.${this.lock}.${e}`;zS(r,(async()=>t(n))).catch((t=>{this.isDisposed||this.logger("warn",`Error handling ${e}`,t)}))})))},this.addTrickledIceCandidates=()=>{const{iceTrickleBuffer:e}=this.sfuClient,t=this.peerType===QC.SUBSCRIBER?e.subscriberCandidates:e.publisherCandidates;this.unsubscribeIceTrickle?.(),this.unsubscribeIceTrickle=iE(t,(async e=>this.pc.addIceCandidate(e).catch((t=>{this.isDisposed||this.logger("warn","ICE candidate error",t,e)}))))},this.setSfuClient=e=>{this.sfuClient=e},this.getStats=e=>this.pc.getStats(e),this.getTrackType=e=>this.trackIdToTrackType.get(e),this.onIceCandidate=e=>{const{candidate:t}=e;if(!t)return void this.logger("debug","null ice candidate");const n=this.asJSON(t);this.sfuClient.iceTrickle({peerType:this.peerType,iceCandidate:n}).catch((e=>{this.isDisposed||this.logger("warn","ICETrickle failed",e)}))},this.asJSON=e=>{if(!e.usernameFragment){const t=e.candidate.split(" "),n=t.findIndex((e=>"ufrag"===e))+1,r=t[n];return JSON.stringify({...e,usernameFragment:r})}return JSON.stringify(e.toJSON())},this.onConnectionStateChange=async()=>{const e=this.pc.connectionState;if(this.logger("debug","Connection state changed",e),this.tracer&&("connected"===e||"failed"===e))try{const e=await this.stats.get();this.tracer.trace("getstats",e.delta)}catch(uH){this.tracer.trace("getstatsOnFailure",uH.toString())}},this.onIceConnectionStateChange=()=>{const e=this.pc.iceConnectionState;this.logger("debug","ICE connection state changed",e),this.state.callingState!==sE.OFFLINE&&this.state.callingState!==sE.RECONNECTING&&(this.isIceRestarting||("failed"===e?this.onUnrecoverableError?.("ICE connection failed"):"disconnected"===e&&(this.logger("debug","Attempting to restart ICE"),this.restartIce().catch((e=>{const t="ICE restart failed";this.logger("error",t,e),this.onUnrecoverableError?.(`${t}: ${e}`)})))))},this.onIceCandidateError=e=>{const t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,n=this.pc.iceConnectionState,r="connected"===n||"checking"===n?"debug":"warn";this.logger(r,"ICE Candidate error",t)},this.onIceGatherChange=()=>{this.logger("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingChange=()=>{this.logger("debug","Signaling state changed",this.pc.signalingState)},this.peerType=e,this.sfuClient=n,this.state=i,this.dispatcher=s,this.onUnrecoverableError=o,this.logger=HS([e===QC.SUBSCRIBER?"Subscriber":"Publisher",a]),this.pc=new RTCPeerConnection(r),this.pc.addEventListener("icecandidate",this.onIceCandidate),this.pc.addEventListener("icecandidateerror",this.onIceCandidateError),this.pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.addEventListener("icegatheringstatechange",this.onIceGatherChange),this.pc.addEventListener("signalingstatechange",this.onSignalingChange),this.pc.addEventListener("connectionstatechange",this.onConnectionStateChange),this.stats=new ZE(this.pc,e,this.trackIdToTrackType),A){const t=`${a}-${e===QC.SUBSCRIBER?"sub":"pub"}`;this.tracer=new ik(t),this.tracer.trace("create",{url:n.edgeName,...r}),XE(this.pc,this.tracer.trace)}}dispose(){this.onUnrecoverableError=void 0,this.isDisposed=!0,this.detachEventHandlers(),this.pc.close(),this.tracer?.dispose()}detachEventHandlers(){this.pc.removeEventListener("icecandidate",this.onIceCandidate),this.pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this.pc.removeEventListener("signalingstatechange",this.onSignalingChange),this.pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.removeEventListener("icegatheringstatechange",this.onIceGatherChange),this.unsubscribeIceTrickle?.(),this.subscriptions.forEach((e=>e()))}}class ok{constructor(){var e=this;this.cache=[],this.layers=[],this.transceiverOrder=[],this.add=(e,t)=>{this.cache.push({publishOption:e,transceiver:t}),this.transceiverOrder.push(t)},this.get=e=>this.findTransceiver(e)?.transceiver,this.has=e=>!!this.get(e),this.find=e=>this.cache.find(e),this.items=()=>this.cache,this.indexOf=e=>this.transceiverOrder.indexOf(e),this.getLayers=e=>{const t=this.layers.find((t=>t.publishOption.id===e.id&&t.publishOption.trackType===e.trackType));return t?.layers},this.setLayers=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e.findLayer(t);r?r.layers=n:e.layers.push({publishOption:t,layers:n})},this.findTransceiver=e=>this.cache.find((t=>t.publishOption.id===e.id&&t.publishOption.trackType===e.trackType)),this.findLayer=e=>this.layers.find((t=>t.publishOption.id===e.id&&t.publishOption.trackType===e.trackType))}}const ak=(e,t)=>{HS(["helpers"])("warn",t,e)},Ak=e=>{switch(e){case PC.SCREEN_SHARE:return"screenShareStream";case PC.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case PC.VIDEO:return"videoStream";case PC.AUDIO:return"audioStream";case PC.UNSPECIFIED:throw new Error("Track type is unspecified");default:ak(e,"Unknown track type")}},ck=e=>e===PC.AUDIO||e===PC.SCREEN_SHARE_AUDIO,lk={q:3e5,h:75e4,f:125e4},uk=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{return{rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:(t=e.rid||"","q"===t?RC.LOW_UNSPECIFIED:"h"===t?RC.MID:RC.HIGH),videoDimension:{width:e.width,height:e.height}};var t}))},dk=(e,t)=>{if(ck(t.trackType))return;const n=[],r=e.getSettings(),{width:i=0,height:s=0}=r,{bitrate:o,codec:a,fps:A,maxSpatialLayers:c=3,maxTemporalLayers:l=3,videoDimension:u={width:1280,height:720},useSingleLayer:d}=t,h=hk(u,i,s,o);let p=1,f=1;const g=KS(a?.name);for(const w of["f","h","q"].slice(0,c)){const e={active:!0,rid:w,width:Math.round(i/p),height:Math.round(s/p),maxBitrate:Math.round(h/f)||lk[w],maxFramerate:A};g?e.scalabilityMode=`L${m=d?1:c}T${l}${m>1?"_KEY":""}`:e.scaleResolutionDownBy=p,p*=2,f*=2,n.unshift(e)}var m;return pk(r,n,d)},hk=(e,t,n,r)=>{const{width:i,height:s}=e;if(t<i||n<s){const e=t*n/(i*s);return Math.round(r*e)}return r},pk=(e,t,n)=>{let r;const i=Math.max(e.width||0,e.height||0);r=i<=320?t.filter((e=>"f"===e.rid)):i<=640?t.filter((e=>"h"!==e.rid)):t;const s=["q","h","f"];return r.map(((e,t,r)=>({...e,rid:s[t],active:!(n&&t<r.length-1)&&e.active})))},fk=(e,t,n)=>{if(e.mid)return e.mid;if(!n)return String(t);const r=e.sender.track,i=(0,pC.qg)(n).media.find((e=>e.type===r.kind&&(e.msid?.includes(r.id)??!0)));return"undefined"!==typeof i?.mid?String(i.mid):t<0?"":String(t)};class gk extends sk{constructor(e){var t;let{publishOptions:n,...r}=e;super(QC.PUBLISHER_UNSPECIFIED,r),t=this,this.transceiverCache=new ok,this.clonedTracks=new Set,this.publish=async(e,t)=>{if(!this.publishOptions.some((e=>e.trackType===t)))throw new Error(`No publish options found for ${PC[t]}`);for(const n of this.publishOptions){if(n.trackType!==t)continue;const r=this.cloneTrack(e),i=this.transceiverCache.get(n);if(i){const e=i.sender.track;await this.updateTransceiver(i,r,t),_S()||this.stopTrack(e)}else await this.addTransceiver(r,n)}},this.addTransceiver=async(e,t)=>{const n=dk(e,t),r=KS(t.codec?.name)?(e=>{if(!e)return;const t=e=>t=>t.rid===e;return[{...e.find(t("f"))||e.find(t("h"))||e.find(t("q")),rid:"q"}]})(n):n,i=this.pc.addTransceiver(e,{direction:"sendonly",sendEncodings:r}),s=i.sender.getParameters();s.degradationPreference="maintain-framerate",await i.sender.setParameters(s);const o=t.trackType;this.logger("debug",`Added ${PC[o]} transceiver`),this.transceiverCache.add(t,i),this.trackIdToTrackType.set(e.id,o),await this.negotiate()},this.updateTransceiver=async(e,t,n)=>{const r=e.sender;r.track&&this.trackIdToTrackType.delete(r.track.id),await r.replaceTrack(t),t&&this.trackIdToTrackType.set(t.id,n)},this.syncPublishOptions=async()=>{for(const e of this.publishOptions){const{trackType:t}=e;if(!this.isPublishing(t))continue;if(this.transceiverCache.has(e))continue;const n=this.transceiverCache.find((e=>!!e.transceiver.sender.track&&e.publishOption.trackType===t));if(!n||!n.transceiver)continue;const r=this.cloneTrack(n.transceiver.sender.track);await this.addTransceiver(r,e)}for(const e of this.transceiverCache.items()){const{publishOption:t,transceiver:n}=e;this.publishOptions.some((e=>e.id===t.id&&e.trackType===t.trackType))||(this.stopTrack(n.sender.track),await this.updateTransceiver(n,null,t.trackType))}},this.isPublishing=e=>{for(const t of this.transceiverCache.items()){if(t.publishOption.trackType!==e)continue;const n=t.transceiver.sender.track;if(n&&("live"===n.readyState&&n.enabled))return!0}return!1},this.stopTracks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of t.transceiverCache.items()){const{publishOption:e,transceiver:r}=i;n.includes(e.trackType)&&t.stopTrack(r.sender.track)}},this.stopAllTracks=()=>{for(const{transceiver:e}of this.transceiverCache.items())this.stopTrack(e.sender.track);for(const e of this.clonedTracks)this.stopTrack(e)},this.changePublishQuality=async e=>{const{trackType:t,layers:n,publishOptionId:r}=e,i=n.filter((e=>e.active)),s="Update publish quality:";this.logger("info",`${s} requested layers by SFU:`,i);const o=this.transceiverCache.find((e=>e.publishOption.id===r&&e.publishOption.trackType===t)),a=o?.transceiver.sender;if(!a)return this.logger("warn",`${s} no video sender found.`);const A=a.getParameters();if(0===A.encodings.length)return this.logger("warn",`${s} there are no encodings set.`);const c=o?.publishOption.codec?.name,l=c&&KS(c);let u=!1;for(const h of A.encodings){const e=l?i[0]:i.find((e=>e.name===h.rid))??(1===A.encodings.length?i[0]:void 0),t=!!e?.active;if(t!==h.active&&(h.active=t,u=!0),!e)continue;const{maxFramerate:n,scaleResolutionDownBy:r,maxBitrate:s,scalabilityMode:o}=e;r>=1&&r!==h.scaleResolutionDownBy&&(h.scaleResolutionDownBy=r,u=!0),s>0&&s!==h.maxBitrate&&(h.maxBitrate=s,u=!0),n>0&&n!==h.maxFramerate&&(h.maxFramerate=n,u=!0),o&&o!==h.scalabilityMode&&(h.scalabilityMode=o,u=!0)}const d=A.encodings.filter((e=>e.active));if(!u)return this.logger("info",`${s} no change:`,d);await a.setParameters(A),this.logger("info",`${s} enabled rids:`,d)},this.restartIce=async()=>{this.logger("debug","Restarting ICE connection");const e=this.pc.signalingState;this.isIceRestarting||"have-local-offer"===e?this.logger("debug","ICE restart is already in progress"):await this.negotiate({iceRestart:!0})},this.negotiate=async e=>zS(`publisher.negotiate.${this.lock}`,(async()=>{const t=await this.pc.createOffer(e),n=this.getAnnouncedTracks(t.sdp);if(!n.length)throw new Error("Can't negotiate without any tracks");try{this.isIceRestarting=e?.iceRestart??!1,await this.pc.setLocalDescription(t);const{sdp:r=""}=t,{response:i}=await this.sfuClient.setPublisher({sdp:r,tracks:n});if(i.error)throw new Error(i.error.message);const{sdp:s}=i;await this.pc.setRemoteDescription({type:"answer",sdp:s})}finally{this.isIceRestarting=!1}this.addTrickledIceCandidates()})),this.getPublishedTracks=()=>{const e=[];for(const{transceiver:t}of this.transceiverCache.items()){const n=t.sender.track;n&&"live"===n.readyState&&e.push(n)}return e},this.getAnnouncedTracks=e=>{const t=[];for(const n of this.transceiverCache.items()){const{transceiver:r,publishOption:i}=n;r.sender.track&&t.push(this.toTrackInfo(r,i,e))}return t},this.getAnnouncedTracksForReconnect=()=>{const e=this.pc.localDescription?.sdp,t=[];for(const n of this.publishOptions){const r=this.transceiverCache.get(n);r&&r.sender.track&&t.push(this.toTrackInfo(r,n,e))}return t},this.toTrackInfo=(e,t,n)=>{const r=e.sender.track,i="live"===r.readyState,s=i?dk(r,t):this.transceiverCache.getLayers(t);this.transceiverCache.setLayers(t,s);const o=ck(t.trackType),a=o&&2===r.getSettings().channelCount,A=this.transceiverCache.indexOf(e),c=this.state.settings?.audio;return{trackId:r.id,layers:uk(s),trackType:t.trackType,mid:fk(e,A,n),stereo:a,dtx:o&&!!c?.opus_dtx_enabled,red:o&&!!c?.redundant_coding_enabled,muted:!i,codec:t.codec,publishOptionId:t.id}},this.cloneTrack=e=>{const t=e.clone();return this.clonedTracks.add(t),t},this.stopTrack=e=>{e&&(e.stop(),this.clonedTracks.delete(e))},this.publishOptions=n,this.on("iceRestart",(e=>{e.peerType===QC.PUBLISHER_UNSPECIFIED&&this.restartIce().catch((e=>{const t="ICE restart failed";this.logger("warn",t,e),this.onUnrecoverableError?.(`${t}: ${e}`)}))})),this.on("changePublishQuality",(async e=>{for(const t of e.videoSenders)await this.changePublishQuality(t)})),this.on("changePublishOptions",(e=>(this.publishOptions=e.publishOptions,this.syncPublishOptions())))}dispose(){super.dispose(),this.stopAllTracks(),this.clonedTracks.clear()}}class mk extends sk{constructor(e){super(QC.SUBSCRIBER,e),this.restartIce=async()=>{if(this.logger("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState)return void this.logger("debug","ICE restart is already in progress");if("new"===this.pc.connectionState)return void this.logger("debug","ICE connection is not yet established, skipping restart.");const e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:QC.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{const[t]=e.streams,[n,r]=t.id.split(":"),i=this.state.participants.find((e=>e.trackLookupPrefix===n));this.logger("debug",`[onTrack]: Got remote ${r} track for userId: ${i?.userId}`,e.track.id,e.track);const s=`${i?.userId} ${r}:${n}`;e.track.addEventListener("mute",(()=>{this.logger("info",`[onTrack]: Track muted: ${s}`)})),e.track.addEventListener("unmute",(()=>{this.logger("info",`[onTrack]: Track unmuted: ${s}`)})),e.track.addEventListener("ended",(()=>{this.logger("info",`[onTrack]: Track ended: ${s}`),this.state.removeOrphanedTrack(t.id)}));const o=(e=>{switch(e){case"TRACK_TYPE_AUDIO":return PC.AUDIO;case"TRACK_TYPE_VIDEO":return PC.VIDEO;case"TRACK_TYPE_SCREEN_SHARE":return PC.SCREEN_SHARE;case"TRACK_TYPE_SCREEN_SHARE_AUDIO":return PC.SCREEN_SHARE_AUDIO;default:return}})(r);if(!o)return this.logger("error",`Unknown track type: ${r}`);if(this.trackIdToTrackType.set(e.track.id,o),!i)return this.logger("warn",`[onTrack]: Received track for unknown participant: ${n}`,e),void this.state.registerOrphanedTrack({id:t.id,trackLookupPrefix:n,track:t,trackType:o});const a=Ak(o);if(!a)return void this.logger("error",`Unknown track type: ${r}`);const A=i[a];this.state.updateParticipant(i.sessionId,{[a]:t}),A&&(this.logger("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${i.userId}`),A.getTracks().forEach((e=>{e.stop(),A.removeTrack(e)})))},this.negotiate=async e=>{await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.addTrickledIceCandidates();const t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:QC.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.pc.addEventListener("track",this.handleOnTrack),this.on("subscriberOffer",(async e=>this.negotiate(e).catch((e=>{this.logger("error","Negotiation failed.",e)}))))}detachEventHandlers(){super.detachEventHandlers(),this.pc.removeEventListener("track",this.handleOnTrack)}}function wk(e){let t=!0;const n=e.then((e=>({status:"resolved",result:e})),(e=>({status:"rejected",error:e}))).finally((()=>t=!1)),r=()=>n.then((e=>{if("rejected"===e.status)throw e.error;return e.result}));return r.checkPending=()=>t,r}const yk=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));let r=!1,i=!1;return{promise:n,resolve:t=>{r=!0,e(t)},reject:e=>{i=!0,t(e)},isResolved:()=>r,isRejected:()=>i}},vk=Symbol("uninitialized");function bk(e){let t=vk;return()=>(t===vk&&(t=e()),t)}const Ck={src:"const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}"};class Bk{constructor(){this.currentTimerId=1,this.callbacks=new Map,this.fallback=!1}setup(){let{useTimerWorker:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e)try{const e=new Blob([Ck.src],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);this.worker=new Worker(t,{name:"str-timer-worker"}),this.worker.addEventListener("message",(e=>{const{type:t,id:n}=e.data;"tick"===t&&this.callbacks.get(n)?.()}))}catch(uH){HS(["timer-worker"])("error",uH),this.fallback=!0}else this.fallback=!0}destroy(){this.callbacks.clear(),this.worker?.terminate(),this.worker=void 0,this.fallback=!1}get ready(){return this.fallback||Boolean(this.worker)}setInterval(e,t){return this.setTimer("setInterval",e,t)}clearInterval(e){this.clearTimer("clearInterval",e)}setTimeout(e,t){return this.setTimer("setTimeout",e,t)}clearTimeout(e){this.clearTimer("clearTimeout",e)}setTimer(e,t,n){if(this.ready||this.setup(),this.fallback)return("setTimeout"===e?setTimeout:setInterval)(t,n);const r=this.getTimerId();return this.callbacks.set(r,(()=>{t(),"setTimeout"===e&&this.callbacks.delete(r)})),this.sendMessage({type:e,id:r,timeout:n}),r}clearTimer(e,t){t&&(this.ready||this.setup(),this.fallback?("clearTimeout"===e?clearTimeout:clearInterval)(t):(this.callbacks.delete(t),this.sendMessage({type:e,id:t})))}getTimerId(){return this.currentTimerId++}sendMessage(e){if(!this.worker)throw new Error("Cannot use timer worker before it's set up");this.worker.postMessage(e)}}let Sk=!1;const Ek=bk((()=>{const e=new Bk;return e.setup({useTimerWorker:Sk}),e}));class kk{constructor(e){var t=this;let{dispatcher:n,credentials:r,sessionId:i,logTag:s,joinResponseTimeout:o=5e3,onSignalClose:a,streamClient:A,enableTracing:c}=e;this.iceTrickleBuffer=new $S,this.isLeaving=!1,this.isClosing=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.joinResponseTask=yk(),this.abortController=new AbortController,this.createWebSocket=()=>{const e={callEnded:!0,changePublishQuality:!0,error:!0,goAway:!0};this.signalWs=(e=>{const{endpoint:t,onMessage:n,logTag:r}=e,i=HS(["SfuClientWS",r]);i("debug","Creating signaling WS channel:",t);const s=new WebSocket(t);return s.binaryType="arraybuffer",s.addEventListener("error",(e=>{i("error","Signaling WS channel error",e)})),s.addEventListener("close",(e=>{i("info","Signaling WS channel is closed",e)})),s.addEventListener("open",(e=>{i("info","Signaling WS channel is open",e)})),s.addEventListener("message",(e=>{try{const t=e.data instanceof ArrayBuffer?LB.fromBinary(new Uint8Array(e.data)):LB.fromJsonString(e.data.toString());n(t)}catch(uH){i("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:uH})}})),s})({logTag:this.logTag,endpoint:`${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck();const n=t.eventPayload.oneofKind;e[n]&&this.tracer?.trace(n,t),this.dispatcher.dispatch(t,this.logTag)}}),this.signalReady=wk(Promise.race([new Promise(((e,t)=>{const n=()=>{this.signalWs.removeEventListener("open",n),e(this.signalWs)};this.signalWs.addEventListener("open",n),this.signalWs.addEventListener("close",(e=>{this.handleWebSocketClose(e),t(new Error("SFU WS closed unexpectedly"))}))})),new Promise(((e,t)=>{setTimeout((()=>t(new Error("SFU WS connection timed out"))),this.joinResponseTimeout)}))]))},this.cleanUpWebSocket=()=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose)},this.handleWebSocketClose=e=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose),Ek().clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),this.onSignalClose?.(`${e.code} ${e.reason}`)},this.close=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kk.NORMAL_CLOSURE,n=arguments.length>1?arguments[1]:void 0;t.isClosing=!0,t.signalWs.readyState===WebSocket.OPEN&&(t.logger("debug",`Closing SFU WS connection: ${e} - ${n}`),t.signalWs.close(e,`js-client: ${n}`),t.cleanUpWebSocket()),t.dispose()},this.dispose=()=>{this.logger("debug","Disposing SFU client"),this.unsubscribeIceTrickle(),this.unsubscribeNetworkChanged(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),clearTimeout(this.migrateAwayTimeout),this.abortController.abort(),this.migrationTask?.resolve(),this.iceTrickleBuffer.dispose()},this.getTrace=()=>this.tracer?.take(),this.leaveAndClose=async e=>{await this.joinTask;try{this.isLeaving=!0,await this.notifyLeave(e)}catch(uH){this.logger("debug","Error notifying SFU about leaving call",uH)}this.close(kk.NORMAL_CLOSURE,e.substring(0,115))},this.updateSubscriptions=async e=>(await this.joinTask,MS((()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e})),this.abortController.signal)),this.setPublisher=async e=>(await this.joinTask,MS((()=>this.rpc.setPublisher({...e,sessionId:this.sessionId})),this.abortController.signal)),this.sendAnswer=async e=>(await this.joinTask,MS((()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId})),this.abortController.signal)),this.iceTrickle=async e=>(await this.joinTask,MS((()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId})),this.abortController.signal)),this.iceRestart=async e=>(await this.joinTask,MS((()=>this.rpc.iceRestart({...e,sessionId:this.sessionId})),this.abortController.signal)),this.updateMuteStates=async e=>(await this.joinTask,MS((()=>this.rpc.updateMuteStates({muteStates:e,sessionId:this.sessionId})),this.abortController.signal)),this.sendStats=async e=>(await this.joinTask,this.rpc.sendStats({...e,sessionId:this.sessionId})),this.startNoiseCancellation=async()=>(await this.joinTask,MS((()=>this.rpc.startNoiseCancellation({sessionId:this.sessionId})),this.abortController.signal)),this.stopNoiseCancellation=async()=>(await this.joinTask,MS((()=>this.rpc.stopNoiseCancellation({sessionId:this.sessionId})),this.abortController.signal)),this.enterMigration=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.isLeaving=!0;const{timeout:n=7e3}=e;t.migrationTask?.reject(new Error("Cancelled previous migration"));const r=t.migrationTask=yk(),i=t.dispatcher.on("participantMigrationComplete",(()=>{i(),clearTimeout(t.migrateAwayTimeout),r.resolve()}));return t.migrateAwayTimeout=setTimeout((()=>{i(),r.reject(new Error(`Migration (${t.logTag}) failed to complete in ${n}ms`))}),n),r.promise},this.join=async e=>{await this.signalReady(),(this.joinResponseTask.isResolved()||this.joinResponseTask.isRejected())&&(this.joinResponseTask=yk());const t=this.joinResponseTask;let n;const r=this.dispatcher.on("joinResponse",(e=>{this.logger("debug","Received joinResponse",e),clearTimeout(n),r(),this.keepAlive(),t.resolve(e)}));n=setTimeout((()=>{r(),t.reject(new Error('Waiting for "joinResponse" has timed out'))}),this.joinResponseTimeout);const i=VB.create({requestPayload:{oneofKind:"joinRequest",joinRequest:JB.create({...e,sessionId:this.sessionId,token:this.credentials.token})}});return this.tracer?.trace("joinRequest",i),await this.send(i),t.promise},this.ping=async()=>this.send(VB.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}})),this.notifyLeave=async e=>this.send(VB.create({requestPayload:{oneofKind:"leaveCallRequest",leaveCallRequest:{sessionId:this.sessionId,reason:e}}})),this.send=async e=>{await this.signalReady();const t=VB.toJson(e);this.signalWs.readyState===WebSocket.OPEN?(this.logger("debug",`Sending message to: ${this.edgeName}`,t),this.signalWs.send(VB.toBinary(e))):this.logger("debug","Signal WS is not open. Skipping message",t)},this.keepAlive=()=>{const e=Ek();e.clearInterval(this.keepAliveInterval),this.keepAliveInterval=e.setInterval((()=>{this.ping().catch((e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)}))}),this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout((()=>{if(this.lastMessageTimestamp){(new Date).getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(kk.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)}}),this.unhealthyTimeoutInMs)},this.dispatcher=n,this.sessionId=i||xS(),this.onSignalClose=a,this.credentials=r;const{server:l,token:u}=r;var d;this.edgeName=l.edge_name,this.joinResponseTimeout=o,this.logTag=s,this.logger=HS(["SfuClient",s]),this.tracer=c?new ik(`${s}-${this.edgeName}`):void 0,this.rpc=(e=>{const t=new Iv({...vS,...e});return new yS(t)})({baseUrl:l.url,interceptors:[(d={Authorization:`Bearer ${u}`},{interceptUnary:(e,t,n,r)=>(r.meta={...r.meta,...d},e(t,n,r))}),this.tracer&&CS(this.tracer.trace),"trace"===DS()&&bS(this.logger,"trace")].filter((e=>!!e))}),this.unsubscribeIceTrickle=n.on("iceTrickle",(e=>{this.iceTrickleBuffer.push(e)})),this.unsubscribeNetworkChanged=A.on("network.changed",(e=>{e.online?this.networkAvailableTask?.resolve():this.networkAvailableTask=yk()})),this.createWebSocket()}get isHealthy(){return this.signalWs.readyState===WebSocket.OPEN&&this.joinResponseTask.isResolved()}get joinTask(){return this.joinResponseTask.promise}}kk.NORMAL_CLOSURE=1e3,kk.ERROR_CONNECTION_UNHEALTHY=4001,kk.DISPOSE_OLD_SOCKET=4002;const Ik=e=>async function(t){if(t.user.id===e.currentUserId)return;const{state:n}=e;t.call.created_by.id===e.currentUserId&&n.callingState===sE.RINGING&&await e.join()},Tk=e=>async function(t){if(t.user.id===e.currentUserId)return;const{call:n}=t,{session:r}=n;if(!r)return void e.logger("warn","No call session provided. Ignoring call.rejected event.",t);const i=r.rejected_by,{members:s,callingState:o}=e.state;if(o===sE.RINGING)if(e.isCreatedByMe){s.filter((t=>t.user_id!==e.currentUserId)).every((e=>i[e.user_id]))&&(e.logger("info","everyone rejected, leaving the call"),await e.leave({reject:!0,reason:"cancel",message:"ring: everyone rejected"}))}else i[n.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave({message:"ring: creator rejected"}));else e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t)},xk=e=>function(){const{callingState:t}=e.state;t!==sE.IDLE&&t!==sE.LEFT&&e.leave({message:"call.ended event received",reject:!1}).catch((t=>{e.logger("error","Failed to leave call after call.ended ",t)}))},Uk=e=>e.on("callEnded",(async t=>{if(e.state.callingState!==sE.LEFT)try{if(t.reason===HC.LIVE_ENDED){e.state.setBackstage(!0);const{hasPermission:t}=e.permissionsContext;if(t(yC))return}e.state.setEndedAt(new Date);const n=HC[t.reason];await e.leave({message:`callEnded received: ${n}`})}catch(uH){e.logger("error","Failed to leave call after being ended by the SFU",uH)}})),Fk=e=>function(t){const{currentGrants:n}=t;if(n){const{canPublishAudio:t,canPublishVideo:r,canScreenshare:i}=n,s={[BC]:t,[SC]:r,[CC]:i},o=e.ownCapabilities.filter((e=>!1!==s[e]));Object.entries(s).forEach((e=>{let[t,n]=e;n&&!o.includes(t)&&o.push(t)})),e.setOwnCapabilities(o)}},Qk=(e,t)=>e.on("connectionQualityChanged",(e=>{const{connectionQualityUpdates:n}=e;n&&t.updateParticipants(n.reduce(((e,t)=>{const{sessionId:n,connectionQuality:r}=t;return e[n]={connectionQuality:r},e}),{}))})),_k=(e,t)=>e.on("healthCheckResponse",(e=>{const{participantCount:n}=e;n&&(t.setParticipantCount(n.total),t.setAnonymousParticipantCount(n.anonymous))})),Rk=(e,t)=>e.on("error",(e=>{e.error&&e.error.code!==NC.LIVE_ENDED||(t.state.setBackstage(!0),t.permissionsContext.hasPermission(yC)||t.leave({message:"live ended"}).catch((e=>{t.logger("error","Failed to leave call after live ended",e)})))})),Pk=e=>e.on("error",(e=>{if(!e.error)return;const t=HS(["SfuClient"]),{error:n,reconnectStrategy:r}=e;t("error","SFU reported error",{code:NC[n.code],reconnectStrategy:MC[r],message:n.message,shouldRetry:n.shouldRetry})})),Nk=e=>function(t){const{pins:n}=t;e.setServerSidePins(n)},Ok=e=>e.on("trackUnpublished",(async t=>{const{cause:n,type:r,sessionId:i}=t,{localParticipant:s}=e.state;if(n===LC.MODERATION&&i===s?.sessionId){const t=e.logger;t("info",`Local participant's ${PC[r]} track is muted remotely`);try{r===PC.VIDEO?await e.camera.disable():r===PC.AUDIO?await e.microphone.disable():r===PC.SCREEN_SHARE||r===PC.SCREEN_SHARE_AUDIO?await e.screenShare.disable():t("warn","Unsupported track type to soft mute",PC[r])}catch(o){t("error","Failed to stop publishing",o)}}})),Lk=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e.includes(i)||e.push(i);return e},Dk=e=>function(t){const{participant:n}=t;if(!n)return;const r=Vk(e,n);e.updateOrAddParticipant(n.sessionId,Object.assign(n,r,{viewportVisibilityState:{videoTrack:mS.UNKNOWN,screenShareTrack:mS.UNKNOWN}}))},Hk=e=>function(t){const{participant:n}=t;n&&e.setParticipants((e=>e.filter((e=>e.sessionId!==n.sessionId))))},Mk=e=>function(t){const{participant:n}=t;n&&e.updateParticipant(n.sessionId,n)},jk=e=>function(t){const{type:n,sessionId:r}=t;if(t.participant){const n=Vk(e,t.participant),i=Object.assign(t.participant,n);e.updateOrAddParticipant(r,i)}else e.updateParticipant(r,(e=>({publishedTracks:Lk([...e.publishedTracks],n)})))},Kk=e=>function(t){const{type:n,sessionId:r}=t;if(t.participant){const n=Vk(e,t.participant),i=Object.assign(t.participant,n);e.updateOrAddParticipant(r,i)}else e.updateParticipant(r,(e=>({publishedTracks:e.publishedTracks.filter((e=>e!==n))})))},Vk=(e,t)=>{const n=e.takeOrphanedTracks(t.trackLookupPrefix);if(!n.length)return;const r={};for(const i of n){const e=Ak(i.trackType);e&&(r[e]=i.track)}return r},qk=(e,t)=>e.on("dominantSpeakerChanged",(e=>{const{sessionId:n}=e;n!==t.dominantSpeaker?.sessionId&&t.setParticipants((e=>e.map((e=>e.sessionId===n?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))))})),Gk=(e,t)=>e.on("audioLevelChanged",(e=>{const{audioLevels:n}=e;t.updateParticipants(n.reduce(((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e)),{}))})),$k=e=>{const t={"call.accepted":Ik(e),"call.rejected":Tk(e)},n=Object.keys(t).map((n=>{const r=n;return e.on(r,t[r])}));return()=>{n.forEach((e=>e()))}};class Wk{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver((e=>{e.forEach((e=>{const t=this.elementHandlerMap.get(e.target);t?.(e)}))}),{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach((t=>{let[n,r]=t;e.contains(n)&&(this.observer.observe(n),this.elementHandlerMap.set(n,r))})),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{const n=[e,t],r=()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(n)};return this.elementHandlerMap.has(e)?r:this.observer?(this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)),r):(this.queueSet.add(n),r)}}}const zk={videoTrack:mS.UNKNOWN,screenShareTrack:mS.UNKNOWN},Jk=Symbol("globalOverrideKey");class Yk{constructor(e,t){var n=this;this.viewportTracker=new Wk,this.logger=HS(["DynascaleManager"]),this.pendingSubscriptionsUpdate=null,this.videoTrackSubscriptionOverridesSubject=new Hb({}),this.videoTrackSubscriptionOverrides$=this.videoTrackSubscriptionOverridesSubject.asObservable(),this.incomingVideoSettings$=this.videoTrackSubscriptionOverrides$.pipe(_b((e=>{const{[Jk]:t,...n}=e;return{enabled:!1!==t?.enabled,preferredResolution:t?.enabled?t.dimension:void 0,participants:Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;return[t,{enabled:!1!==n?.enabled,preferredResolution:n?.enabled?n.dimension:void 0}]}))),isParticipantVideoEnabled:t=>e[t]?.enabled??e[Jk]?.enabled??!0}})),jb(1)),this.setVideoTrackSubscriptionOverrides=(e,t)=>tE(this.videoTrackSubscriptionOverridesSubject,t?n=>({...n,...Object.fromEntries(t.map((t=>[t,e])))}):e?{[Jk]:e}:{}),this.applyTrackSubscriptions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wS.SLOW;n.pendingSubscriptionsUpdate&&clearTimeout(n.pendingSubscriptionsUpdate);const t=()=>{n.pendingSubscriptionsUpdate=null,n.sfuClient?.updateSubscriptions(n.trackSubscriptions).catch((e=>{n.logger("debug","Failed to update track subscriptions",e)}))};e?n.pendingSubscriptionsUpdate=setTimeout(t,e):t()},this.trackElementVisibility=(e,t,n)=>{const r=this.viewportTracker.observe(e,(r=>{this.callState.updateParticipant(t,(t=>{const i=t.viewportVisibilityState??zk,s=r.isIntersecting||document.fullscreenElement===e?mS.VISIBLE:mS.INVISIBLE;return{...t,viewportVisibilityState:{...i,[n]:s}}}))}));return()=>{r(),this.callState.updateParticipant(t,(e=>{const t=e.viewportVisibilityState??zk;return{...e,viewportVisibilityState:{...t,[n]:mS.UNKNOWN}}}))}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,n)=>{const r=this.callState.findParticipantBySessionId(t);if(!r)return;const i=(e,i)=>{!i||0!==i.width&&0!==i.height||(this.logger("debug","Ignoring 0x0 dimension",r),i=void 0),this.callState.updateParticipantTracks(n,{[t]:{dimension:i}}),this.applyTrackSubscriptions(e)},s=this.callState.participants$.pipe(_b((e=>e.find((e=>e.sessionId===t)))),qb((e=>!!e)),Kb(),jb({bufferSize:1,refCount:!0}));let o;const a=r.isLocalParticipant?null:s.pipe(_b((e=>e.viewportVisibilityState?.[n])),Kb()).subscribe((t=>{if(o){if(o=t??mS.UNKNOWN,t===mS.INVISIBLE)return i(wS.MEDIUM,void 0);i(wS.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}else o=t??mS.UNKNOWN}));let A;const c=r.isLocalParticipant?null:new ResizeObserver((()=>{const t={width:e.clientWidth,height:e.clientHeight};if(!A)return void(A=t);if(A.width===t.width&&A.height===t.height||o===mS.INVISIBLE)return;const n=Math.max(t.width/A.width,t.height/A.height)>1.2?wS.IMMEDIATE:wS.MEDIUM;i(n,{width:e.clientWidth,height:e.clientHeight}),A=t}));c?.observe(e);const l=r.isLocalParticipant?null:s.pipe(Gb("publishedTracks"),_b((e=>"videoTrack"===n?uE(e):hE(e))),Kb()).subscribe((t=>{t?i(wS.IMMEDIATE,{width:e.clientWidth,height:e.clientHeight}):i(wS.FAST,void 0)}));e.autoplay=!0,e.playsInline=!0,e.muted=!0;const u=s.pipe(Gb("videoTrack"===n?"videoStream":"screenShareStream")).subscribe((t=>{const r="videoTrack"===n?t.videoStream:t.screenShareStream;e.srcObject!==r&&(e.srcObject=r??null,(PE()||NE())&&setTimeout((()=>{e.srcObject=r??null,e.play().catch((e=>{this.logger("warn","Failed to play stream",e)}))}),25))}));return()=>{i(wS.FAST,void 0),a?.unsubscribe(),l?.unsubscribe(),u.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,t,n)=>{const r=this.callState.findParticipantBySessionId(t);if(!r||r.isLocalParticipant)return;const i=this.callState.participants$.pipe(_b((e=>e.find((e=>e.sessionId===t)))),qb((e=>!!e)),Kb(),jb({bufferSize:1,refCount:!0})),s=i.pipe(Gb("screenShareAudioTrack"===n?"screenShareAudioStream":"audioStream")).subscribe((t=>{const r="screenShareAudioTrack"===n?t.screenShareAudioStream:t.audioStream;e.srcObject!==r&&setTimeout((()=>{if(e.srcObject=r??null,e.srcObject){e.play().catch((e=>{this.logger("warn","Failed to play stream",e)}));const{selectedDevice:t}=this.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}}))})),o="setSinkId"in e?this.speaker.state.selectedDevice$.subscribe((t=>{t&&e.setSinkId(t)})):null,a=Lb([this.speaker.state.volume$,i.pipe(Gb("audioVolume"))]).subscribe((t=>{let[n,r]=t;e.volume=r.audioVolume??n}));return e.autoplay=!0,()=>{o?.unsubscribe(),a.unsubscribe(),s.unsubscribe()}},this.callState=e,this.speaker=t}setSfuClient(e){this.sfuClient=e}get trackSubscriptions(){const e=[];for(const t of this.callState.remoteParticipants){if(t.videoDimension&&uE(t)){const n=this.videoTrackSubscriptionOverrides[t.sessionId]??this.videoTrackSubscriptionOverrides[Jk];!1!==n?.enabled&&e.push({userId:t.userId,sessionId:t.sessionId,trackType:PC.VIDEO,dimension:n?.dimension??t.videoDimension})}t.screenShareDimension&&hE(t)&&e.push({userId:t.userId,sessionId:t.sessionId,trackType:PC.SCREEN_SHARE,dimension:t.screenShareDimension}),pE(t)&&e.push({userId:t.userId,sessionId:t.sessionId,trackType:PC.SCREEN_SHARE_AUDIO})}return e}get videoTrackSubscriptionOverrides(){return eE(this.videoTrackSubscriptionOverrides$)}}class Xk{constructor(){var e=this;this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canPublish=e=>{switch(e){case PC.AUDIO:return this.hasPermission(BC);case PC.VIDEO:return this.hasPermission(SC);case PC.SCREEN_SHARE:case PC.SCREEN_SHARE_AUDIO:return this.hasPermission(CC);case PC.UNSPECIFIED:return!1;default:ak(e,"Unknown track type")}},this.canRequest=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.settings;if(!n)return!1;const{audio:r,video:i,screensharing:s}=n;switch(t){case BC:return r.access_request_enabled;case SC:return i.access_request_enabled;case CC:return s.access_request_enabled;default:return!1}}}}class Zk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{sortParticipantsBy:EE};this.name=e,this.options=t}}const eI=new class{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new Zk(e)),this.callTypes[e]),this.callTypes=e.reduce(((e,t)=>(e[t.name]=t,e)),{})}}([new Zk("default",{sortParticipantsBy:EE}),new Zk("development",{sortParticipantsBy:EE}),new Zk("livestream",{sortParticipantsBy:TE}),new Zk("audio_room",{sortParticipantsBy:TE})]);class tI{constructor(e){this.permission=e,this.disposeController=new AbortController,this.wasPrompted=!1,this.listeners=new Set,this.logger=HS(["permissions"]);const t=this.disposeController.signal;this.ready=(async()=>{const n=()=>{this.setState("prompt")};if(_S()||"undefined"===typeof navigator||!navigator.permissions?.query)return n();try{const n=await navigator.permissions.query({name:e.queryName});t.aborted||(this.setState(n.state),n.addEventListener("change",(()=>this.setState(n.state)),{signal:t}))}catch(uH){this.logger("debug","Failed to query permission status",uH),n()}})()}dispose(){this.state=void 0,this.disposeController.abort()}async getState(){if(await this.ready,!this.state)throw new Error("BrowserPermission instance possibly disposed");return this.state}async prompt(){let{forcePrompt:e=!1,throwOnNotAllowed:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await zS(`permission-prompt-${this.permission.queryName}`,(async()=>{if("prompt"!==await this.getState()||this.wasPrompted&&!e){const e="granted"===this.state;if(!e&&t)throw new Error("Permission was not granted previously, and prompting again is not allowed");return e}try{this.wasPrompted=!0,this.setState("prompting");const e=await navigator.mediaDevices.getUserMedia(this.permission.constraints);return wI(e),this.setState("granted"),!0}catch(n){if(n&&"object"===typeof n&&"name"in n&&("NotAllowedError"===n.name||"SecurityError"===n.name)){if(this.logger("info","Browser permission was not granted",{permission:this.permission}),this.setState("denied"),t)throw n;return!1}throw this.logger("error","Failed to getUserMedia",{error:n,permission:this.permission}),this.setState("prompt"),n}}))}listen(e){return this.listeners.add(e),this.state&&e(this.state),()=>this.listeners.delete(e)}asObservable(){return this.getStateObservable().pipe(_b((e=>"denied"!==e)))}asStateObservable(){return this.getStateObservable()}getIsPromptingObservable(){return this.getStateObservable().pipe(_b((e=>"prompting"===e)))}getStateObservable(){return $b((e=>this.listen(e)),((e,t)=>t()))}setState(e){this.state!==e&&(this.state=e,this.listeners.forEach((t=>t(e))))}}const nI=(e,t)=>Qb((async()=>{let n=await navigator.mediaDevices.enumerateDevices();return n.some((e=>e.kind===t&&""===e.label))&&await e.prompt()&&(n=await navigator.mediaDevices.enumerateDevices()),n.filter((e=>e.kind===t&&""!==e.label&&"default"!==e.deviceId))})()),rI={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},iI={video:{width:1280,height:720}},sI=bk((()=>new tI({constraints:rI,queryName:"microphone"}))),oI=bk((()=>new tI({constraints:iI,queryName:"camera"}))),aI=bk((()=>{return navigator.mediaDevices.addEventListener?Xb(navigator.mediaDevices,"devicechange").pipe(_b((()=>{})),(e=500,void 0===t&&(t=sC),Eb((function(n,r){var i=null,s=null,o=null,a=function(){if(i){i.unsubscribe(),i=null;var e=s;s=null,r.next(e)}};function A(){var n=o+e,s=t.now();if(s<n)return i=this.schedule(void 0,n-s),void r.add(i);a()}n.subscribe(kb(r,(function(n){s=n,o=t.now(),i||(i=t.schedule(A,e),r.add(i))}),(function(){a(),r.complete()}),void 0,(function(){s=i=null})))})))):Qb([]);var e,t})),AI=bk((()=>AC(aI(),sI().asObservable()).pipe(lC(void 0),uC((()=>nI(sI(),"audioinput"))),jb(1)))),cI=bk((()=>AC(aI(),oI().asObservable()).pipe(lC(void 0),uC((()=>nI(oI(),"videoinput"))),jb(1)))),lI=bk((()=>AC(aI(),sI().asObservable()).pipe(lC(void 0),uC((()=>nI(sI(),"audiooutput"))),jb(1))));let uI=0;const dI=async(e,t)=>{const n=`navigator.mediaDevices.getUserMedia.${uI++}.`;try{t?.trace(n,e);const r=await navigator.mediaDevices.getUserMedia(e);return t?.trace(`${n}OnSuccess`,QE(r)),NE()&&navigator.mediaDevices.dispatchEvent(new Event("devicechange")),r}catch(r){throw t?.trace(`${n}OnFailure`,r.name),r}};function hI(e){if(!e||"object"!==typeof e)return!1;if("name"in e&&"string"===typeof e.name){const t=e.name;if(["OverconstrainedError","NotFoundError"].includes(t))return!0}if("message"in e&&"string"===typeof e.message){if(e.message.startsWith("OverconstrainedError"))return!0}return!1}const pI=async(e,t)=>{const n={audio:{...rI.audio,...e}};try{return await sI().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),await dI(n,t)}catch(r){if(hI(r)&&e?.deviceId){const{deviceId:t,...i}=e;return HS(["devices"])("warn","Failed to get audio stream, will try again with relaxed constraints",{error:r,constraints:n,relaxedConstraints:i}),pI(i)}throw HS(["devices"])("error","Failed to get audio stream",{error:r,constraints:n}),r}},fI=async(e,t)=>{const n={video:{...iI.video,...e}};try{return await oI().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),await dI(n,t)}catch(r){if(hI(r)&&e?.deviceId){const{deviceId:t,...i}=e;return HS(["devices"])("warn","Failed to get video stream, will try again with relaxed constraints",{error:r,constraints:n,relaxedConstraints:i}),fI(i)}throw HS(["devices"])("error","Failed to get video stream",{error:r,constraints:n}),r}};let gI=0;const mI="undefined"!==typeof navigator&&"undefined"!==typeof navigator.mediaDevices?aI().pipe(lC(void 0),uC((()=>navigator.mediaDevices.enumerateDevices())),jb(1)):void 0,wI=e=>{e.active&&(e.getTracks().forEach((e=>{e.stop()})),"function"===typeof e.release&&e.release())},yI=()=>/Mobi/i.test(navigator.userAgent);class vI{constructor(e,t,n){this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.filters=[],this.statusChangeConcurrencyTag=Symbol("statusChangeConcurrencyTag"),this.filterRegistrationConcurrencyTag=Symbol("filterRegistrationConcurrencyTag"),this.dispose=()=>{this.subscriptions.forEach((e=>e()))},this.call=e,this.state=t,this.trackType=n,this.logger=HS([`${PC[n].toLowerCase()} manager`]),!mI||_S()||this.trackType!==PC.AUDIO&&this.trackType!==PC.VIDEO||this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}get enabled(){return"enabled"===this.state.status}async enable(){this.state.prevStatus=this.state.optimisticStatus,"enabled"!==this.state.optimisticStatus&&(this.state.setPendingStatus("enabled"),await JS(this.statusChangeConcurrencyTag,(async e=>{try{await this.unmuteStream(),this.state.setStatus("enabled")}finally{e.aborted||this.state.setPendingStatus(this.state.status)}})))}async disable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.prevStatus=this.state.optimisticStatus,(e||"disabled"!==this.state.optimisticStatus)&&(this.state.setPendingStatus("disabled"),await JS(this.statusChangeConcurrencyTag,(async t=>{try{const t=e||"stop-tracks"===this.state.disableMode;await this.muteStream(t),this.state.setStatus("disabled")}finally{t.aborted||this.state.setPendingStatus(this.state.status)}})))}async statusChangeSettled(){await XS(this.statusChangeConcurrencyTag)}async resume(){"enabled"===this.state.prevStatus&&"enabled"!==this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.optimisticStatus?await this.disable():await this.enable()}registerFilter(e){const t={start:e,stop:void 0};this.call.tracer.trace(`registerFilter.${PC[this.trackType]}`,null);return{registered:zS(this.filterRegistrationConcurrencyTag,(async()=>{await XS(this.statusChangeConcurrencyTag),this.filters.push(t),await this.applySettingsToStream()})),unregister:()=>zS(this.filterRegistrationConcurrencyTag,(async()=>{await XS(this.statusChangeConcurrencyTag),t.stop?.(),this.filters=this.filters.filter((e=>e!==t)),await this.applySettingsToStream()}))}}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(_S())throw new Error("This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.");const t=this.state.selectedDevice;if(e!==t)try{this.state.setDevice(e),await this.applySettingsToStream()}catch(n){throw this.state.setDevice(t),n}}async applySettingsToStream(){await JS(this.statusChangeConcurrencyTag,(async()=>{this.enabled&&(await this.muteStream(),await this.unmuteStream())}))}publishStream(e){return this.call.publish(e,this.trackType)}stopPublishStream(){return this.call.stopPublish(this.trackType)}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.state.mediaStream;if(!t)return;this.logger("debug",(e?"Stopping":"Disabling")+" stream"),this.call.state.callingState===sE.JOINED&&await this.stopPublishStream(),this.muteLocalStream(e);const n=this.getTracks().every((e=>"ended"===e.readyState));n&&("function"===typeof t.release&&t.release(),this.state.setMediaStream(void 0,void 0),this.filters.forEach((e=>e.stop?.())))}disableTracks(){this.getTracks().forEach((e=>{e.enabled&&(e.enabled=!1)}))}enableTracks(){this.getTracks().forEach((e=>{e.enabled||(e.enabled=!0)}))}stopTracks(){this.getTracks().forEach((e=>{"live"===e.readyState&&e.stop()}))}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.disableTracks())}async unmuteStream(){let e,t;this.logger("debug","Starting stream");try{if(this.state.mediaStream&&this.getTracks().every((e=>"live"===e.readyState)))e=this.state.mediaStream,this.enableTracks();else{const n={...this.state.defaultConstraints,deviceId:this.state.selectedDevice?{exact:this.state.selectedDevice}:void 0},r=e=>async t=>{if(!e)return t;const n=await e;return t.getTracks().forEach((e=>{const t=e.stop;e.stop=function(){t.call(e),n.getTracks().forEach((t=>{t.kind===e.kind&&t.stop()}))}})),n.getTracks().forEach((e=>{const n=()=>{t.getTracks().forEach((t=>{e.kind===t.kind&&(t.stop(),t.dispatchEvent(new Event("ended")))}))};e.addEventListener("ended",n),this.subscriptions.push((()=>{e.removeEventListener("ended",n)}))})),t};t=this.getStream(n),e=await this.filters.reduce(((e,t)=>e.then((e=>{const{stop:n,output:r}=t.start(e);return t.stop=n,r})).then(r(e),(t=>(this.logger("warn","Filter failed to start and will be ignored",t),e)))),t)}if(this.call.state.callingState===sE.JOINED&&await this.publishStream(e),this.state.mediaStream!==e){this.state.setMediaStream(e,await t);const n=async()=>{await this.statusChangeSettled(),this.enabled&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout((()=>{this.isTrackStoppedDueToTrackEnd=!1}),2e3),await this.disable())},r=e=>()=>{yI()&&this.trackType===PC.VIDEO&&this.call.notifyTrackMuteState(e,this.trackType).catch((e=>{this.logger("warn","Error while notifying track mute state",e)}))};e.getTracks().forEach((e=>{const t=r(!0),i=r(!1);e.addEventListener("mute",t),e.addEventListener("unmute",i),e.addEventListener("ended",n),this.subscriptions.push((()=>{e.removeEventListener("mute",t),e.removeEventListener("unmute",i),e.removeEventListener("ended",n)}))}))}}catch(uH){throw t&&wI(await t),uH}}get mediaDeviceKind(){return this.trackType===PC.AUDIO?"audioinput":this.trackType===PC.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(rE(Lb([mI.pipe(Eb((function(e,t){var n,r=!1;e.subscribe(kb(t,(function(e){var i=n;n=e,r&&t.next([i,e]),r=!0})))}))),this.state.selectedDevice$]),(async e=>{let[[t,n],r]=e;try{if(!r)return;await this.statusChangeSettled();let e=!1,i=!1;const s=this.findDevice(n,r),o=this.findDevice(t,r);!s&&o?e=!0:s&&o&&s.deviceId===o.deviceId&&s.groupId!==o.groupId&&(i=!0),e&&(await this.disable(),await this.select(void 0)),i&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}catch(uH){this.logger("warn","Unexpected error while handling disconnected or replaced device",uH)}})))}findDevice(e,t){const n=this.mediaDeviceKind;return e.find((e=>e.deviceId===t&&e.kind===n))}}class bI{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stop-tracks",t=arguments.length>1?arguments[1]:void 0;this.disableMode=e,this.statusSubject=new Hb(void 0),this.optimisticStatusSubject=new Hb(void 0),this.mediaStreamSubject=new Hb(void 0),this.selectedDeviceSubject=new Hb(void 0),this.defaultConstraintsSubject=new Hb(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(Kb()),this.status$=this.statusSubject.asObservable().pipe(Kb()),this.optimisticStatus$=this.optimisticStatusSubject.asObservable().pipe(Kb()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=t?t.asObservable().pipe(jb(1)):dC(!0),this.browserPermissionState$=t?t.asStateObservable().pipe(jb(1)):dC("prompt"),this.isPromptingPermission$=t?t.getIsPromptingObservable().pipe(jb(1)):dC(!1)}get status(){return eE(this.status$)}get optimisticStatus(){return eE(this.optimisticStatus$)}get selectedDevice(){return eE(this.selectedDevice$)}get mediaStream(){return eE(this.mediaStream$)}setStatus(e){tE(this.statusSubject,e)}setPendingStatus(e){tE(this.optimisticStatusSubject,e)}setMediaStream(e,t){tE(this.mediaStreamSubject,e),t&&this.setDevice(this.getDeviceIdFromStream(t))}setDevice(e){tE(this.selectedDeviceSubject,e)}get defaultConstraints(){return eE(this.defaultConstraints$)}setDefaultConstraints(e){tE(this.defaultConstraintsSubject,e)}}class CI extends bI{constructor(){super("stop-tracks",oI()),this.directionSubject=new Hb(void 0),this.direction$=this.directionSubject.asObservable().pipe(Kb())}get direction(){return eE(this.direction$)}setDirection(e){tE(this.directionSubject,e)}setMediaStream(e,t){if(super.setMediaStream(e,t),e){const t=_S()?this.direction:"environment"===e.getVideoTracks()[0]?.getSettings().facingMode?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){const[t]=e.getVideoTracks();return t?.getSettings().deviceId}}class BI extends vI{constructor(e){super(e,new CI,PC.VIDEO),this.targetResolution={width:1280,height:720}}isDirectionSupportedByDevice(){return _S()||yI()}async selectDirection(e){if(this.isDirectionSupportedByDevice())if(this.state.setDirection(e),this.state.setDevice(void 0),_S()){const t=this.getTracks()[0];await(t?.applyConstraints({facingMode:"front"===e?"user":"environment"}))}else{this.getTracks().forEach((e=>e.stop()));try{await this.unmuteStream()}catch(t){throw t instanceof Error&&"NotReadableError"===t.name&&(await this.muteStream(),await this.unmuteStream()),t}}else this.logger("warn","Setting direction is not supported on this device")}async flip(){const e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,"enabled"===this.state.optimisticStatus)try{await this.statusChangeSettled()}catch(t){this.logger("warn","could not apply target resolution",t)}if(this.enabled&&this.state.mediaStream){const[e]=this.state.mediaStream.getVideoTracks();if(!e)return;const{width:t,height:n}=e.getSettings();t===this.targetResolution.width&&n===this.targetResolution.height||(await this.applySettingsToStream(),this.logger("debug",`${t}x${n} target resolution applied to media stream`))}}async apply(e,t){const n=!!this.call.state.localParticipant?.videoStream,r=this.call.permissionsContext.hasPermission(BC);if(n||!r)return;await this.statusChangeSettled();const{target_resolution:i,camera_facing:s,camera_default_on:o}=e;if(await this.selectTargetResolution(i),this.state.direction||this.state.selectedDevice||this.state.setDirection("front"===s?"front":"back"),!t)return;const{mediaStream:a}=this.state;this.enabled&&a?await this.publishStream(a):void 0===this.state.status&&o&&await this.enable()}getDevices(){return cI()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&this.isDirectionSupportedByDevice()&&(e.facingMode="front"===this.state.direction?"user":"environment"),fI(e,this.call.tracer)}}class SI extends bI{constructor(e){super(e,sI()),this.speakingWhileMutedSubject=new Hb(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(Kb())}get speakingWhileMuted(){return eE(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){tE(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){const[t]=e.getAudioTracks();return t?.getSettings().deviceId}}const EI=500,kI=150,II=128;class TI{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(e){try{this.cleanupAudioStream();const t=await navigator.mediaDevices.getUserMedia({audio:!0});this.audioStream=t,this.pc1.addEventListener("icecandidate",(async e=>{await this.pc2.addIceCandidate(e.candidate)})),this.pc2.addEventListener("icecandidate",(async e=>{await this.pc1.addIceCandidate(e.candidate)})),this.pc2.addEventListener("track",(e=>{e.streams[0].getTracks().forEach((e=>{e._setVolume(0)}))})),t.getTracks().forEach((e=>this.pc1.addTrack(e,t)));const n=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(n),await this.pc1.setLocalDescription(n);const r=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(r),await this.pc2.setLocalDescription(r);const i=this.onSpeakingDetectedStateChange(e);return()=>{i(),this.stop()}}catch(t){return HS(["RNSpeechDetector"])("error","error handling permissions: ",t),()=>{}}}stop(){this.pc1.close(),this.pc2.close(),this.cleanupAudioStream()}onSpeakingDetectedStateChange(e){let t,n,r=.13,i=!1;const s=[],o=setInterval((async()=>{try{const o=await this.pc1.getStats(),a=FE(o).find((e=>"media-source"===e.type&&"audio"===e.kind));if(a){const{audioLevel:o}=a;if(o){s.push(o),s.length>10&&s.shift();const a=s.reduce(((e,t)=>e+t),0)/s.length;a<1.1*r?n||(n=setTimeout((()=>{r=Math.min(.9*a,.13)}),5e3)):(clearTimeout(n),n=void 0),a>1.5*r&&(i||(i=!0,e({isSoundDetected:!0,audioLevel:o})),clearTimeout(t),t=setTimeout((()=>{i=!1,e({isSoundDetected:!1,audioLevel:0})}),500))}}}catch(o){HS(["RNSpeechDetector"])("error","error checking audio level from stats",o)}}),100);return()=>{clearInterval(o),clearTimeout(t),clearTimeout(n)}}cleanupAudioStream(){this.audioStream&&(this.audioStream.getTracks().forEach((e=>e.stop())),"function"===typeof this.audioStream.release&&this.audioStream.release())}}class xI extends vI{constructor(e){super(e,new SI(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stop-tracks"),PC.AUDIO),this.speakingWhileMutedNotificationEnabled=!0,this.soundDetectorConcurrencyTag=Symbol("soundDetectorConcurrencyTag"),this.subscriptions.push(iE(Lb([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]),(async e=>{let[t,n,r,i]=e;try{if(t===sE.LEFT&&await this.stopSpeakingWhileMutedDetection(),t!==sE.JOINED)return;if(!this.speakingWhileMutedNotificationEnabled)return;n.includes(BC)&&"disabled"===i?await this.startSpeakingWhileMutedDetection(r):await this.stopSpeakingWhileMutedDetection()}catch(uH){this.logger("warn","Could not enable speaking while muted",uH)}}))),this.subscriptions.push(rE(this.call.state.callingState$,(e=>{if(!this.noiseCancellationRegistration||!this.noiseCancellation)return;this.call.state.settings?.audio.noise_cancellation?.mode===gC&&e===sE.JOINED?this.noiseCancellationRegistration.then((()=>!this.noiseCancellation?.canAutoEnable||this.noiseCancellation.canAutoEnable())).then((e=>{e&&this.noiseCancellation?.enable()})).catch((e=>(this.logger("warn","Failed to enable noise cancellation",e),this.call.notifyNoiseCancellationStopped()))):e===sE.LEFT&&this.noiseCancellationRegistration.then((()=>this.noiseCancellation?.disable())).catch((e=>{this.logger("warn","Failed to disable noise cancellation",e)}))})))}async enableNoiseCancellation(e){const{ownCapabilities:t,settings:n}=this.call.state;if(!t.includes(wC))throw new Error("Noise cancellation is not available.");const r=n?.audio.noise_cancellation;if(!r||r.mode===fC)throw new Error("Noise cancellation is disabled for this call type.");try{if(this.noiseCancellation=e,this.noiseCancellationChangeUnsubscribe=this.noiseCancellation.on("change",(e=>{this.call.tracer.trace("noiseCancellation.enabled",e),e?this.call.notifyNoiseCancellationStarting().catch((e=>{this.logger("warn","notifyNoiseCancellationStart failed",e)})):this.call.notifyNoiseCancellationStopped().catch((e=>{this.logger("warn","notifyNoiseCancellationStop failed",e)}))})),_S())this.noiseCancellationRegistration=Promise.resolve();else{const t=this.registerFilter(e.toFilter());this.noiseCancellationRegistration=t.registered,this.unregisterNoiseCancellation=t.unregister,await this.noiseCancellationRegistration}if(r.mode===gC&&this.call.state.callingState===sE.JOINED){let t=!0;e.canAutoEnable&&(t=await e.canAutoEnable()),t&&e.enable()}}catch(i){this.logger("warn","Failed to enable noise cancellation",i),await this.disableNoiseCancellation().catch((e=>{this.logger("warn","Failed to disable noise cancellation",e)}))}}async disableNoiseCancellation(){await(this.unregisterNoiseCancellation?.()??Promise.resolve()).then((()=>this.noiseCancellation?.disable())).then((()=>this.noiseCancellationChangeUnsubscribe?.())).catch((e=>{this.logger("warn","Failed to unregister noise cancellation",e)})),await this.call.notifyNoiseCancellationStopped()}async enableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!0,"disabled"===this.state.status&&await this.startSpeakingWhileMutedDetection(this.state.selectedDevice)}async disableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!1,await this.stopSpeakingWhileMutedDetection()}async apply(e,t){if(!t)return;const n=!!this.call.state.localParticipant?.audioStream,r=this.call.permissionsContext.hasPermission(BC);if(n||!r)return;await this.statusChangeSettled();const{mediaStream:i}=this.state;this.enabled&&i?await this.publishStream(i):void 0===this.state.status&&e.mic_default_on&&await this.enable()}getDevices(){return AI()}getStream(e){return pI(e,this.call.tracer)}async startSpeakingWhileMutedDetection(e){await zS(this.soundDetectorConcurrencyTag,(async()=>{if(await this.stopSpeakingWhileMutedDetection(),_S()){this.rnSpeechDetector=new TI;const e=await this.rnSpeechDetector.start((e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)}));this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector=void 0}}else{const t=await this.getStream({deviceId:{exact:e}});this.soundDetectorCleanup=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{detectionFrequencyInMs:r=EI,audioLevelThreshold:i=kI,fftSize:s=II,destroyStreamOnStop:o=!0}=n,a=new AudioContext,A=a.createAnalyser();A.fftSize=s;const c=a.createMediaStreamSource(e);c.connect(A);const l=setInterval((()=>{const n=new Uint8Array(A.frequencyBinCount);A.getByteFrequencyData(n);const r=n.some((e=>e>=i)),s=n.reduce(((e,t)=>e+t),0)/n.length,o=s>i?100:Math.round(s/i*100);e.getAudioTracks()[0]?.enabled?t({isSoundDetected:r,audioLevel:o}):t({isSoundDetected:!1,audioLevel:0})}),r);return async function(){clearInterval(l),c.disconnect(),A.disconnect(),"closed"!==a.state&&await a.close(),o&&e.getTracks().forEach((t=>{t.stop(),e.removeTrack(t)}))}}(t,(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)}))}}))}async stopSpeakingWhileMutedDetection(){await zS(this.soundDetectorConcurrencyTag,(async()=>{if(!this.soundDetectorCleanup)return;const e=this.soundDetectorCleanup;this.soundDetectorCleanup=void 0,this.state.setSpeakingWhileMuted(!1),await e()}))}}class UI extends bI{constructor(){super(...arguments),this.audioEnabledSubject=new Hb(!0),this.settingsSubject=new Hb(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(Kb()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{const[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return eE(this.audioEnabled$)}setAudioEnabled(e){tE(this.audioEnabledSubject,e)}get settings(){return eE(this.settings$)}setSettings(e){tE(this.settingsSubject,e)}}class FI extends vI{constructor(e){super(e,new UI,PC.SCREEN_SHARE),this.subscriptions.push(rE(e.state.settings$,(e=>{const t=e?.screensharing.target_resolution;t&&this.setDefaultConstraints({video:{width:t.width,height:t.height}})})))}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(PC.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(PC.SCREEN_SHARE_AUDIO)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return dC([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),(async(e,t)=>{const n=`navigator.mediaDevices.getDisplayMedia.${gI++}.`;try{t?.trace(n,e);const r=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e});return t?.trace(`${n}OnSuccess`,QE(r)),r}catch(r){throw t?.trace(`${n}OnFailure`,r.name),HS(["devices"])("error","Failed to get screen share stream",r),r}})(e,this.call.tracer)}async stopPublishStream(){return this.call.stopPublish(PC.SCREEN_SHARE,PC.SCREEN_SHARE_AUDIO)}async select(){throw new Error("Not supported")}}class QI{constructor(e){this.selectedDeviceSubject=new Hb(""),this.volumeSubject=new Hb(1),this.isDeviceSelectionSupported="undefined"!==typeof document&&"setSinkId"in document.createElement("audio"),this.tracer=e,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(Kb()),this.volume$=this.volumeSubject.asObservable().pipe(Kb())}get selectedDevice(){return eE(this.selectedDevice$)}get volume(){return eE(this.volume$)}setDevice(e){tE(this.selectedDeviceSubject,e),this.tracer.trace("navigator.mediaDevices.setSinkId",e)}setVolume(e){tE(this.volumeSubject,e)}}class _I{constructor(e){this.subscriptions=[],this.dispose=()=>{this.subscriptions.forEach((e=>e.unsubscribe()))},this.call=e,this.state=new QI(e.tracer),mI&&!_S()&&this.subscriptions.push(Lb([mI,this.state.selectedDevice$]).subscribe((e=>{let[t,n]=e;if(!n)return;t.find((e=>e.deviceId===n&&"audiooutput"===e.kind))||this.select("")})))}listDevices(){if(_S())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");return lI()}select(e){if(_S())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");this.state.setDevice(e)}setVolume(e){if(_S())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(e&&(e<0||e>1))throw new Error("Volume must be between 0 and 1");this.state.setVolume(e)}setParticipantVolume(e,t){if(_S())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(t&&(t<0||t>1))throw new Error("Volume must be between 0 and 1, or undefined");this.call.state.updateParticipant(e,{audioVolume:t})}}class RI{constructor(e){var t=this;let{type:n,id:r,streamClient:i,members:s,ownCapabilities:o,sortParticipantsBy:a,clientStore:A,ringing:c=!1,watching:l=!1}=e;this.state=new UE,this.permissionsContext=new Xk,this.tracer=new ik(null),this.dispatcher=new GS,this.sfuClientTag=0,this.reconnectConcurrencyTag=Symbol("reconnectConcurrencyTag"),this.reconnectAttempts=0,this.reconnectStrategy=MC.UNSPECIFIED,this.reconnectReason="",this.fastReconnectDeadlineSeconds=0,this.disconnectionTimeoutSeconds=0,this.lastOfflineTimestamp=0,this.trackPublishOrder=[],this.hasJoinedOnce=!1,this.deviceSettingsAppliedOnce=!1,this.initialized=!1,this.joinLeaveConcurrencyTag=Symbol("joinLeaveConcurrencyTag"),this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.setup=async()=>{await zS(this.joinLeaveConcurrencyTag,(async()=>{this.initialized||(this.leaveCallHooks.add(this.on("all",(e=>{this.state.updateFromEvent(e)}))),this.leaveCallHooks.add(this.on("changePublishOptions",(e=>{this.currentPublishOptions=e.publishOptions}))),this.leaveCallHooks.add(((e,t)=>{const n=e.state,r=[e.on("call.ended",xk(e)),Uk(e),Rk(t,e),Pk(t),Qk(t,n),_k(t,n),e.on("participantJoined",Dk(n)),e.on("participantLeft",Hk(n)),e.on("participantUpdated",Mk(n)),e.on("trackPublished",jk(n)),e.on("trackUnpublished",Kk(n)),Gk(t,n),qk(t,n),e.on("callGrantsUpdated",Fk(n)),e.on("pinsUpdated",Nk(n)),Ok(e)];return e.ringing&&r.push($k(e)),()=>{r.forEach((e=>e()))}})(this,this.dispatcher)),this.registerEffects(),this.registerReconnectHandlers(),this.state.callingState===sE.LEFT&&this.state.setCallingState(sE.IDLE),this.initialized=!0)}))},this.registerEffects=()=>{this.leaveCallHooks.add(rE(this.state.settings$,(e=>{e&&this.permissionsContext.setCallSettings(e)}))),this.leaveCallHooks.add(iE(this.state.ownCapabilities$,this.handleOwnCapabilitiesUpdated)),this.leaveCallHooks.add(rE(this.state.blockedUserIds$,(async e=>{if(!e||0===e.length)return;const t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave({message:"user blocked"}).catch((e=>{this.logger("error","Error leaving call after being blocked",e)})))}))),this.leaveCallHooks.add(rE(this.state.session$,(e=>{if(!this.ringing)return;const t=this.clientStore.connectedUser?.id;if(!t)return;const n=Boolean(e?.accepted_by[t]),r=Boolean(e?.rejected_by[t]);(n||r)&&this.cancelAutoDrop();var i;!(n&&this.state.callingState===sE.RINGING)&&!r||(i=this.joinLeaveConcurrencyTag,YS.has(i))||this.leave().catch((()=>{this.logger("error","Could not leave a call that was accepted or rejected elsewhere")}))}))),this.leaveCallHooks.add(rE(this.ringingSubject,(e=>{if(!e)return;const t=this.state.session,n=this.clientStore.connectedUser?.id,r=t?.ended_at,i=this.state.createdBy?.id,s=t?.rejected_by,o=t?.accepted_by;let a=!1;r?a=!0:i&&s?s[i]&&(a=!0):n&&s?s[n]&&(a=!0):n&&o&&o[n]&&(a=!0),a?this.state.callingState!==sE.IDLE&&this.state.setCallingState(sE.IDLE):(this.state.callingState===sE.IDLE&&this.state.setCallingState(sE.RINGING),this.scheduleAutoDrop(),this.leaveCallHooks.add($k(this)))})))},this.handleOwnCapabilitiesUpdated=async e=>{if(this.permissionsContext.setPermissions(e),!this.publisher)return;const t={[BC]:PC.AUDIO,[SC]:PC.VIDEO,[CC]:PC.SCREEN_SHARE};for(const[n,r]of Object.entries(t)){if(!this.permissionsContext.hasPermission(n))try{switch(r){case PC.AUDIO:this.microphone.enabled&&await this.microphone.disable();break;case PC.VIDEO:this.camera.enabled&&await this.camera.disable();break;case PC.SCREEN_SHARE:this.screenShare.enabled&&await this.screenShare.disable()}}catch(uH){this.logger("error","Can't disable mic/camera/screenshare after revoked permissions",uH)}}},this.on=(e,t)=>{if(qS(e))return this.dispatcher.on(e,t);const n=this.streamClient.on(e,(e=>{const n=e;n.call_cid&&n.call_cid===this.cid&&t(n)}));return this.streamClientEventHandlers.set(t,n),()=>{this.off(e,t)}},this.off=(e,t)=>{if(qS(e))return this.dispatcher.off(e,t);const n=this.streamClientEventHandlers.get(t);n&&n()},this.leave=async function(){let{reject:e,reason:n,message:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await zS(t.joinLeaveConcurrencyTag,(async()=>{const i=t.state.callingState;if(i===sE.LEFT)throw new Error("Cannot leave call that has already been left.");if(i===sE.JOINING){const e=()=>new Promise((e=>{t.state.callingState$.pipe(qb((e=>e!==sE.JOINED),!0)).subscribe((()=>e()))}));await e()}if(i===sE.RINGING&&!1!==e)if(e)await t.reject(n??"decline");else{const e=t.state.remoteParticipants.length>0;t.isCreatedByMe&&!e&&await t.reject("cancel")}t.statsReporter?.stop(),t.statsReporter=void 0,t.sfuStatsReporter?.flush(),t.sfuStatsReporter?.stop(),t.sfuStatsReporter=void 0,t.subscriber?.dispose(),t.subscriber=void 0,t.publisher?.dispose(),t.publisher=void 0,await(t.sfuClient?.leaveAndClose(r??n??"user is leaving the call")),t.sfuClient=void 0,t.dynascaleManager.setSfuClient(void 0),t.state.setCallingState(sE.LEFT),t.state.setParticipants([]),t.state.dispose(),t.leaveCallHooks.forEach((e=>e())),t.initialized=!1,t.hasJoinedOnce=!1,t.unifiedSessionId=void 0,t.ringingSubject.next(!1),t.cancelAutoDrop(),t.clientStore.unregisterCall(t),t.camera.dispose(),t.microphone.dispose(),t.screenShare.dispose(),t.speaker.dispose();const s=[];t.camera.stopOnLeave&&s.push(t.camera.disable(!0)),t.microphone.stopOnLeave&&s.push(t.microphone.disable(!0)),t.screenShare.stopOnLeave&&s.push(t.screenShare.disable(!0)),await Promise.all(s)}))},this.updateFromRingingEvent=async e=>{await this.setup();const{created_by:t,settings:n}=e.call,r=this.state.members.find((e=>e.user.id===t.id));r?this.state.setMembers([r,...e.members]):this.state.setMembers(e.members),this.state.updateFromCallResponse(e.call),this.watching=!0,this.ringingSubject.next(!0);const i=this.clientStore.calls.filter((e=>e.cid!==this.cid));this.clientStore.setCalls([this,...i]),await this.applyDeviceConfig(n,!1)},this.get=async e=>{await this.setup();const t=await this.streamClient.get(this.streamClientBasePath,e);return this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),e?.ring&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(t.call.settings,!1),t},this.getOrCreate=async e=>{await this.setup();const t=await this.streamClient.post(this.streamClientBasePath,e);return this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),e?.ring&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(t.call.settings,!1),t},this.create=async e=>this.getOrCreate(e),this.delete=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.streamClient.post(`${t.streamClientBasePath}/delete`,e)},this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decline";return t.streamClient.post(`${t.streamClientBasePath}/reject`,{reason:e})},this.join=async function(){let{maxJoinRetries:e=3,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await t.setup();const r=t.state.callingState;if([sE.JOINED,sE.JOINING].includes(r))throw new Error("Illegal State: call.join() shall be called only once");t.state.setCallingState(sE.JOINING),e=Math.max(e,1);for(let i=0;i<e;i++){try{return t.logger("trace",`Joining call (${i})`,t.cid),await t.doJoin(n)}catch(uH){if(t.logger("warn",`Failed to join call (${i})`,t.cid),i===e-1)throw t.state.setCallingState(r),uH}await BS(IS(i))}},this.doJoin=async e=>{const t=Date.now(),n=this.state.callingState;this.joinCallData=e,this.logger("debug","Starting join flow"),this.state.setCallingState(sE.JOINING);const r=this.reconnectStrategy===MC.MIGRATE,i=this.reconnectStrategy===MC.REJOIN,s=this.reconnectStrategy===MC.FAST;let o=this.sfuStatsReporter?.options;if(!this.credentials||!o||i||r)try{const t=await this.doJoinRequest(e);this.credentials=t.credentials,o=t.stats_options}catch(d){throw this.state.callingState===sE.OFFLINE||this.state.setCallingState(n),d}const a=this.sfuClient,A=a?.sessionId,c=!!a?.isHealthy,l=i||r||!c?new kk({logTag:String(++this.sfuClientTag),dispatcher:this.dispatcher,credentials:this.credentials,streamClient:this.streamClient,enableTracing:o.enable_rtc_stats,sessionId:i?void 0:A,onSignalClose:e=>this.handleSfuSignalClose(l,e)}):a;this.sfuClient=l,this.dynascaleManager.setSfuClient(l);const u=await JE();if(a!==l){const[t,r]=await Promise.all([jS("recvonly"),jS("sendonly")]),i=this.reconnectStrategy!==MC.UNSPECIFIED,o=i?this.getReconnectDetails(e?.migrating_from,A):void 0,a=i?this.currentPublishOptions||[]:this.getPreferredPublishOptions(),c=i?[]:this.getPreferredSubscribeOptions();try{const{callState:e,fastReconnectDeadlineSeconds:n,publishOptions:i}=await l.join({subscriberSdp:t,publisherSdp:r,clientDetails:u,fastReconnect:s,reconnectDetails:o,preferredPublishOptions:a,preferredSubscribeOptions:c});this.currentPublishOptions=i,this.fastReconnectDeadlineSeconds=n,e&&this.state.updateFromSfuCallState(e,l.sessionId,o)}catch(d){throw this.logger("warn","Join SFU request failed",d),l.close(kk.ERROR_CONNECTION_UNHEALTHY,"Join request failed, connection considered unhealthy"),this.state.setCallingState(n),d}}if(r||this.state.setCallingState(sE.JOINED),this.hasJoinedOnce=!0,s)await this.restoreICE(l,{includeSubscriber:!1});else{const e=(e=>({bundlePolicy:"max-bundle",iceServers:e.map((e=>({urls:e.urls,username:e.username,credential:e.password})))}))(this.credentials.ice_servers);this.initPublisherAndSubscriber({sfuClient:l,connectionConfig:e,clientDetails:u,statsOptions:o,publishOptions:this.currentPublishOptions||[],closePreviousInstances:!r})}if(i||s||r||this.sfuStatsReporter?.sendConnectionTime((Date.now()-t)/1e3),i&&c){const e=MC[this.reconnectStrategy];await(a?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${e}`))}else c||a?.close(kk.DISPOSE_OLD_SOCKET,"Closing unhealthy WS after reconnect");!this.deviceSettingsAppliedOnce&&this.state.settings&&(await this.applyDeviceConfig(this.state.settings,!0),this.deviceSettingsAppliedOnce=!0),delete this.joinCallData?.ring,delete this.joinCallData?.notify,this.reconnectStrategy=MC.UNSPECIFIED,this.reconnectReason="",this.logger("info",`Joined call ${this.cid}`)},this.getReconnectDetails=(e,t)=>{const n=this.reconnectStrategy,r=n===MC.REJOIN;return{strategy:n,announcedTracks:this.publisher?.getAnnouncedTracksForReconnect()||[],subscriptions:this.dynascaleManager.trackSubscriptions,reconnectAttempt:this.reconnectAttempts,fromSfuId:e||"",previousSessionId:r&&t||"",reason:this.reconnectReason}},this.getPreferredPublishOptions=()=>{const{preferredCodec:e,fmtpLine:t,preferredBitrate:n,maxSimulcastLayers:r}=this.clientPublishOptions||{};if(!e&&!n&&!r)return[];const i=e?ZC.create({name:e.split("/").pop(),fmtp:t}):void 0,s=[XC.create({trackType:PC.VIDEO,codec:i,bitrate:n,maxSpatialLayers:r})],o=this.screenShare.getSettings();return o&&s.push(XC.create({trackType:PC.SCREEN_SHARE,fps:o.maxFramerate,bitrate:o.maxBitrate})),s},this.getPreferredSubscribeOptions=()=>{const{subscriberCodec:e,subscriberFmtpLine:t}=this.clientPublishOptions||{};return e&&t?[YC.create({trackType:PC.VIDEO,codecs:[{name:e.split("/").pop(),fmtp:t}]})]:[]},this.restoreICE=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeSubscriber:r=!0,includePublisher:i=!0}=n;t.subscriber&&(t.subscriber.setSfuClient(e),r&&await t.subscriber.restartIce()),t.publisher&&(t.publisher.setSfuClient(e),i&&await t.publisher.restartIce())},this.initPublisherAndSubscriber=e=>{const{sfuClient:t,connectionConfig:n,clientDetails:r,statsOptions:i,publishOptions:s,closePreviousInstances:o}=e,{enable_rtc_stats:a}=i;o&&this.subscriber&&this.subscriber.dispose(),this.subscriber=new mk({sfuClient:t,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,logTag:String(this.sfuClientTag),enableTracing:a,onUnrecoverableError:e=>{this.reconnect(MC.REJOIN,e).catch((t=>{this.logger("warn",`[Reconnect] Error reconnecting after a subscriber error: ${e}`,t)}))}});"anonymous"===this.streamClient.user?.type||(o&&this.publisher&&this.publisher.dispose(),this.publisher=new gk({sfuClient:t,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,publishOptions:s,logTag:String(this.sfuClientTag),enableTracing:a,onUnrecoverableError:e=>{this.reconnect(MC.REJOIN,e).catch((t=>{this.logger("warn",`[Reconnect] Error reconnecting after a publisher error: ${e}`,t)}))}})),this.statsReporter?.stop(),this.statsReporter=(e=>{let{subscriber:t,publisher:n,state:r,datacenter:i,pollingIntervalInMs:s=2e3}=e;const o=HS(["stats"]),a=async(e,r)=>"subscriber"===e&&t?t.getStats(r):"publisher"===e&&n?n.getStats(r):void 0,A=async(e,r)=>{const i="subscriber"===e?t:n;if(!i)return[];const s=[];for(const t of r){const n=await i.getStats(t),r=LE(n,{trackKind:t.kind,kind:e,publisher:void 0});s.push(r)}return s},c=new Set,l=async()=>{const e={};if(c.size>0){const t=new Set(c);for(const i of r.participants){if(!t.has(i.sessionId))continue;const{audioStream:r,isLocalParticipant:s,sessionId:a,userId:c,videoStream:l}=i,u=s?"publisher":"subscriber";try{const t=s?n?.getPublishedTracks()||[]:[...l?.getVideoTracks()||[],...r?.getAudioTracks()||[]];e[a]=await A(u,t)}catch(h){o("warn",`Failed to collect ${u} stats for ${c}`,h)}}}const[t,s]=await Promise.all([a("subscriber"),n?a("publisher"):void 0]),l=(e,t)=>HE(LE(e,{kind:t,trackKind:"video",publisher:n})),u=t?l(t,"subscriber"):DE(),d=s?l(s,"publisher"):DE();r.setCallStatsReport({datacenter:i,publisherStats:d,subscriberStats:u,subscriberRawStats:t,publisherRawStats:s,participants:e,timestamp:Date.now()})};let u;if(s>0){const e=async()=>{await l().catch((e=>{o("debug","Failed to collect stats",e)})),u=setTimeout(e,s)};e()}return{getRawStatsForTrack:a,getStatsForStream:A,startReportingStatsFor:e=>{c.add(e),l()},stopReportingStatsFor:e=>{c.delete(e),l()},stop:()=>{u&&clearTimeout(u)}}})({subscriber:this.subscriber,publisher:this.publisher,state:this.state,datacenter:t.edgeName}),this.tracer.setEnabled(a),this.sfuStatsReporter?.stop(),i?.reporting_interval_ms>0&&(this.unifiedSessionId??(this.unifiedSessionId=t.sessionId),this.sfuStatsReporter=new YE(t,{clientDetails:r,options:i,subscriber:this.subscriber,publisher:this.publisher,microphone:this.microphone,camera:this.camera,state:this.state,tracer:this.tracer,unifiedSessionId:this.unifiedSessionId}),this.sfuStatsReporter.start())},this.doJoinRequest=async e=>{const t=await this.streamClient.getLocationHint(),n={...e,location:t},r=await this.streamClient.post(`${this.streamClientBasePath}/join`,n);this.state.updateFromCallResponse(r.call),this.state.setMembers(r.members),this.state.setOwnCapabilities(r.own_capabilities),e?.ring&&this.ringingSubject.next(!0);return this.reconnectStrategy!==MC.UNSPECIFIED||!this.ringing||this.isCreatedByMe||await this.accept(),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),r},this.handleSfuSignalClose=(e,t)=>{this.logger("debug","[Reconnect] SFU signal connection closed");const{callingState:n}=this.state;n!==sE.JOINING&&n!==sE.RECONNECTING&&n!==sE.IDLE&&n!==sE.LEFT&&(e.isLeaving||e.isClosing||this.reconnect(MC.REJOIN,t).catch((e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})))},this.reconnect=async(e,t)=>{if(this.state.callingState!==sE.RECONNECTING&&this.state.callingState!==sE.MIGRATING&&this.state.callingState!==sE.RECONNECTING_FAILED)return zS(this.reconnectConcurrencyTag,(async()=>{const n=Date.now();this.reconnectStrategy=e,this.reconnectReason=t;do{if(this.disconnectionTimeoutSeconds>0&&(Date.now()-n)/1e3>this.disconnectionTimeoutSeconds)return this.logger("warn","[Reconnect] Stopping reconnection attempts after reaching disconnection timeout"),void this.state.setCallingState(sE.RECONNECTING_FAILED);this.reconnectStrategy!==MC.FAST&&this.reconnectAttempts++;const e=MC[this.reconnectStrategy];try{switch(await(this.networkAvailableTask?.promise),this.logger("info",`[Reconnect] Reconnecting with strategy ${MC[this.reconnectStrategy]}`),this.reconnectStrategy){case MC.UNSPECIFIED:case MC.DISCONNECT:this.logger("debug",`[Reconnect] No-op strategy ${e}`);break;case MC.FAST:await this.reconnectFast();break;case MC.REJOIN:await this.reconnectRejoin();break;case MC.MIGRATE:await this.reconnectMigrate();break;default:ak(this.reconnectStrategy,"Unknown reconnection strategy")}break}catch(r){if(this.state.callingState===sE.OFFLINE){this.logger("trace","[Reconnect] Can't reconnect while offline, stopping reconnection attempts");break}if(r instanceof kC&&r.unrecoverable)return this.logger("warn","[Reconnect] Can't reconnect due to coordinator unrecoverable error",r),void this.state.setCallingState(sE.RECONNECTING_FAILED);this.logger("warn",`[Reconnect] ${e} (${this.reconnectAttempts}) failed. Attempting with REJOIN`,r),await BS(500),this.reconnectStrategy=MC.REJOIN}}while(this.state.callingState!==sE.JOINED&&this.state.callingState!==sE.RECONNECTING_FAILED&&this.state.callingState!==sE.LEFT);this.logger("info","[Reconnect] Reconnection flow finished")}))},this.reconnectFast=async()=>{const e=Date.now();this.reconnectStrategy=MC.FAST,this.state.setCallingState(sE.RECONNECTING),await this.doJoin(this.joinCallData),this.sfuStatsReporter?.sendReconnectionTime(MC.FAST,(Date.now()-e)/1e3)},this.reconnectRejoin=async()=>{const e=Date.now();this.reconnectStrategy=MC.REJOIN,this.state.setCallingState(sE.RECONNECTING),await this.doJoin(this.joinCallData),await this.restorePublishedTracks(),this.restoreSubscribedTracks(),this.sfuStatsReporter?.sendReconnectionTime(MC.REJOIN,(Date.now()-e)/1e3)},this.reconnectMigrate=async()=>{const e=Date.now(),t=this.sfuClient;if(!t)throw new Error("Cannot migrate without an active SFU client");this.reconnectStrategy=MC.MIGRATE,this.state.setCallingState(sE.MIGRATING);const n=this.subscriber,r=this.publisher;n?.detachEventHandlers(),r?.detachEventHandlers();const i=wk(t.enterMigration());try{const e=t.edgeName;await this.doJoin({...this.joinCallData,migrating_from:e})}finally{delete this.joinCallData?.migrating_from}await this.restorePublishedTracks(),this.restoreSubscribedTracks();try{await i(),this.state.setCallingState(sE.JOINED)}finally{n?.dispose(),r?.dispose(),t.close(kk.NORMAL_CLOSURE,"Migrating away")}this.sfuStatsReporter?.sendReconnectionTime(MC.MIGRATE,(Date.now()-e)/1e3)},this.registerReconnectHandlers=()=>{const e=this.on("goAway",(()=>{this.reconnect(MC.MIGRATE,"goAway").catch((e=>this.logger("warn","[Reconnect] Error reconnecting",e)))})),t=this.on("error",(e=>{const{reconnectStrategy:t,error:n}=e;t!==MC.UNSPECIFIED&&(t===MC.DISCONNECT?this.leave({message:"SFU instructed to disconnect"}).catch((e=>{this.logger("warn","Can't leave call after disconnect request",e)})):this.reconnect(t,n?.message||"SFU Error").catch((e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})))})),n=this.streamClient.on("network.changed",(e=>{if(this.tracer.trace("network.changed",e),e.online)this.logger("debug","[Reconnect] Going online"),this.sfuClient?.close(kk.DISPOSE_OLD_SOCKET,"Closing WS to reconnect after going online"),this.networkAvailableTask?.resolve(),this.networkAvailableTask=void 0,this.sfuStatsReporter?.start();else{if(this.logger("debug","[Reconnect] Going offline"),!this.hasJoinedOnce)return;this.lastOfflineTimestamp=Date.now();const e=yk();e.promise.then((()=>{let e=MC.FAST;if(this.lastOfflineTimestamp){(Date.now()-this.lastOfflineTimestamp)/1e3>this.fastReconnectDeadlineSeconds&&(e=MC.REJOIN)}this.reconnect(e,"Going online").catch((e=>{this.logger("warn","[Reconnect] Error reconnecting after going online",e)}))})),this.networkAvailableTask=e,this.sfuStatsReporter?.stop(),this.state.setCallingState(sE.OFFLINE)}}));this.leaveCallHooks.add(e).add(t).add(n)},this.restorePublishedTracks=async()=>{for(const e of this.trackPublishOrder){let t;switch(e){case PC.AUDIO:t=this.microphone.state.mediaStream;break;case PC.VIDEO:t=this.camera.state.mediaStream;break;case PC.SCREEN_SHARE:t=this.screenShare.state.mediaStream;break;case PC.SCREEN_SHARE_AUDIO:case PC.UNSPECIFIED:break;default:ak(e,"Unknown track type")}t&&await this.publish(t,e)}},this.restoreSubscribedTracks=()=>{const{remoteParticipants:e}=this.state;e.length<=0||this.dynascaleManager.applyTrackSubscriptions(void 0)},this.publishVideoStream=async e=>{await this.publish(e,PC.VIDEO)},this.publishAudioStream=async e=>{await this.publish(e,PC.AUDIO)},this.publishScreenShareStream=async e=>{await this.publish(e,PC.SCREEN_SHARE)},this.publish=async(e,t)=>{if(!this.sfuClient)throw new Error("Call not joined yet.");if(await this.sfuClient.joinTask,!this.permissionsContext.canPublish(t))throw new Error(`No permission to publish ${PC[t]}`);if(!this.publisher)throw new Error("Publisher is not initialized");const[n]=ck(t)?e.getAudioTracks():e.getVideoTracks();if(!n)throw new Error(`There is no ${PC[t]} track in the stream`);if("ended"===n.readyState)throw new Error("Can't publish ended tracks.");Lk(this.trackPublishOrder,t),await this.publisher.publish(n,t);const r=[t];if(t===PC.SCREEN_SHARE){const[t]=e.getAudioTracks();t&&(Lk(this.trackPublishOrder,PC.SCREEN_SHARE_AUDIO),await this.publisher.publish(t,PC.SCREEN_SHARE_AUDIO),r.push(PC.SCREEN_SHARE_AUDIO))}"video"===n.kind&&this.sfuStatsReporter?.scheduleOne(3e3),await this.updateLocalStreamState(e,...r)},this.stopPublish=async function(){if(t.sfuClient&&t.publisher){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.publisher.stopTracks(...n),await t.updateLocalStreamState(void 0,...n)}},this.updateLocalStreamState=async function(e){if(!t.sfuClient||!t.sfuClient.sessionId)return;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];await t.notifyTrackMuteState(!e,...r);const{sessionId:s}=t.sfuClient;for(const o of r){const n=Ak(o);n&&t.state.updateParticipant(s,(t=>({publishedTracks:e?Lk([...t.publishedTracks],o):t.publishedTracks.filter((e=>e!==o)),[n]:e})))}},this.updatePublishOptions=e=>{this.logger("warn","[call.updatePublishOptions]: You are manually overriding the publish options for this call. This is not recommended, and it can cause call stability/compatibility issues. Use with caution."),this.state.callingState===sE.JOINED&&this.logger("warn","Updating publish options after joining the call does not have an effect"),this.clientPublishOptions={...this.clientPublishOptions,...e}},this.notifyNoiseCancellationStarting=async()=>this.sfuClient?.startNoiseCancellation().catch((e=>{this.logger("warn","Failed to notify start of noise cancellation",e)})),this.notifyNoiseCancellationStopped=async()=>this.sfuClient?.stopNoiseCancellation().catch((e=>{this.logger("warn","Failed to notify stop of noise cancellation",e)})),this.notifyTrackMuteState=async function(e){if(t.sfuClient){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];await t.sfuClient.updateMuteStates(r.map((t=>({trackType:t,muted:e}))))}},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{const t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{const t=(e=>{switch(e){case"audio":return PC.AUDIO;case"video":return PC.VIDEO;case"screenshare":return PC.SCREEN_SHARE;case"screenshare_audio":return PC.SCREEN_SHARE_AUDIO;default:ak(e,"Unknown mute type")}})(e);if(!t)return;const n=[];for(const r of this.state.remoteParticipants)r.publishedTracks.includes(t)&&n.push(r.userId);return n.length>0?this.muteUser(n,e):void 0},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.startTranscription=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_transcription`,e),this.stopTranscription=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`),this.startClosedCaptions=async e=>{const t=this.state.setCaptioning(!0);try{return await this.streamClient.post(`${this.streamClientBasePath}/start_closed_captions`,e)}catch(uH){throw t.rollback(),uH}},this.stopClosedCaptions=async e=>{const t=this.state.setCaptioning(!1);try{return await this.streamClient.post(`${this.streamClientBasePath}/stop_closed_captions`,e)}catch(uH){throw t.rollback(),uH}},this.updateClosedCaptionSettings=e=>{this.state.updateClosedCaptionSettings(e)},this.requestPermissions=async e=>{const{permissions:t}=e;if(!t.every((e=>this.permissionsContext.canRequest(e))))throw new Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return t.streamClient.post(`${t.streamClientBasePath}/go_live`,e,n)},this.stopLive=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.streamClient.post(`${t.streamClientBasePath}/stop_live`,e)},this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.startRTMPBroadcasts=async e=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts`,e),this.stopAllRTMPBroadcasts=async()=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/stop`),this.stopRTMPBroadcast=async e=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/${e}/stop`),this.startFrameRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_frame_recording`,e),this.stopFrameRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_frame_recording`),this.update=async e=>{const t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:n,members:r,own_capabilities:i}=t;return this.state.updateFromCallResponse(n),this.state.setMembers(r),this.state.setOwnCapabilities(i),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{this.cancelAutoDrop();const e=this.state.settings;if(!e)return;if(this.state.callingState!==sE.RINGING)return;const t=this.isCreatedByMe?e.ring.auto_cancel_timeout_ms:e.ring.incoming_call_timeout_ms;t<=0||(this.dropTimeout=setTimeout((()=>{this.state.callingState===sE.RINGING&&this.leave({reject:!0,reason:"timeout",message:"ringing timeout - "+(this.isCreatedByMe?"no one accepted":"user didn't interact with incoming call screen")}).catch((e=>{this.logger("error","Failed to drop call",e)}))}),t))},this.cancelAutoDrop=()=>{clearTimeout(this.dropTimeout),this.dropTimeout=void 0},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.queryTranscriptions=async()=>this.streamClient.get(`${this.streamClientBasePath}/transcriptions`),this.getCallStats=async e=>{const t=`${this.streamClientBasePath}/stats/${e}`;return this.streamClient.get(t)},this.getCallReport=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=`${t.streamClientBasePath}/report`,r=""!==e?{session_id:e}:{};return t.streamClient.get(n,r)},this.submitFeedback=async function(e){let{reason:n,custom:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sdkName:i,sdkVersion:s,...o}=(e=>{const{sdk:t,...n}=e;return{sdkName:_E(t),sdkVersion:RE(t),...n}})(await JE());return t.streamClient.post(`${t.streamClientBasePath}/feedback`,{rating:e,reason:n,user_session_id:t.sfuClient?.sessionId,sdk:i,sdk_version:s,custom:{...r,"x-stream-platform-data":o}})},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=async(e,t)=>{await this.camera.apply(e.video,t).catch((e=>{this.logger("warn","Camera init failed",e)})),await this.microphone.apply(e.audio,t).catch((e=>{this.logger("warn","Mic init failed",e)}))},this.trackElementVisibility=(e,t,n)=>this.dynascaleManager.trackElementVisibility(e,t,n),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,n)=>{const r=this.dynascaleManager.bindVideoElement(e,t,n);if(r)return this.leaveCallHooks.add(r),()=>{this.leaveCallHooks.delete(r),r()}},this.bindAudioElement=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audioTrack";const i=t.dynascaleManager.bindAudioElement(e,n,r);if(i)return t.leaveCallHooks.add(i),()=>{t.leaveCallHooks.delete(i),i()}},this.bindCallThumbnailElement=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=()=>{e.src=n.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},i=rE(t.state.thumbnails$,(t=>{if(!t)return;e.addEventListener("error",r);const n=new URL(t.image_url);n.searchParams.set("w",String(e.clientWidth)),n.searchParams.set("h",String(e.clientHeight)),e.src=n.toString()}));return()=>{i(),e.removeEventListener("error",r)}},this.setPreferredIncomingVideoResolution=(e,t)=>{this.dynascaleManager.setVideoTrackSubscriptionOverrides(e?{enabled:!0,dimension:e}:void 0,t),this.dynascaleManager.applyTrackSubscriptions()},this.setIncomingVideoEnabled=e=>{this.dynascaleManager.setVideoTrackSubscriptionOverrides(e?void 0:{enabled:!1}),this.dynascaleManager.applyTrackSubscriptions()},this.setDisconnectionTimeout=e=>{this.disconnectionTimeoutSeconds=e},this.type=n,this.id=r,this.cid=`${n}:${r}`,this.ringingSubject=new Hb(c),this.watching=l,this.streamClient=i,this.clientStore=A,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=HS(["Call"]);const u=eI.get(n),d=a||u.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(s||[]),this.state.setOwnCapabilities(o||[]),this.state.setCallingState(c?sE.RINGING:sE.IDLE),this.camera=new BI(this),this.microphone=new xI(this),this.speaker=new _I(this),this.screenShare=new FI(this),this.dynascaleManager=new Yk(this.state,this.speaker)}get ringing(){return eE(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}}class PI{constructor(e){var t=this;this._log=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";t.client.logger(r,`connection:${e}`,n)},this.setClient=e=>{this.client=e},this._buildUrl=()=>{const e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"===e.type&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;const t=this.client.user;if(!t)return void this.client.logger("error","User not set, can't connect to WS");const n=this.client._getToken();if(!n)return void this.client.logger("error","Token not set, can't connect authenticate");const r=JSON.stringify({token:n,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}});this._log(`onopen() - Sending auth message ${r}`,{},"trace"),this.ws?.send(r),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});const n="string"===typeof t.data?JSON.parse(t.data):null;if(!this.isConnectionOpenResolved&&n&&"connection.error"===n.type&&(this.isConnectionOpenResolved=!0,n.error))this.rejectConnectionOpen?.(this._errorFromWSEvent(n,!1));else{if(this.lastEvent=new Date,!n||"health.check"!==n.type&&"connection.ok"!==n.type||this.scheduleNextPing(),n&&"connection.ok"===n.type&&(this.resolveConnectionOpen?.(n),this._setHealth(!0)),n&&"connection.error"===n.type&&n.error){const{code:e}=n.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==ES||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}n&&(n.received_at=new Date,this.client.dispatchEvent(n)),this.scheduleConnectionCheck()}},this.onclose=(e,t)=>{if(this.wsID===e)if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===kS){const e=new Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectConnectionOpen?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectConnectionOpen?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectConnectionOpen?.(new Error(`WebSocket error: ${t}`)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==t.isHealthy&&(t.isHealthy=e,t.isHealthy||n?t.client.dispatchEvent({type:"connection.changed",online:t.isHealthy}):setTimeout((()=>{t.isHealthy||t.client.dispatchEvent({type:"connection.changed",online:t.isHealthy})}),5e3))},this._errorFromWSEvent=function(e){let n,r,i,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(function(e){return void 0!==e.code}(e))n=e.code,i=e.reason,r=0;else{const{error:t}=e;n=t.code,i=t.message,r=t.StatusCode}const o=`WS failed with code: ${n} and reason: ${i}`;t._log(o,{event:e},"warn");const a=new Error(o);return a.code=n,a.StatusCode=r,a.isWSFailure=s,a},this._setupConnectionPromise=()=>{this.isConnectionOpenResolved=!1,this.connectionOpenSafe=wk(new Promise(((e,t)=>{this.resolveConnectionOpen=e,this.rejectConnectionOpen=t})))},this.scheduleNextPing=()=>{const e=Ek();this.healthCheckTimeoutRef&&e.clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=e.setTimeout((()=>{const e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch{}}),this.pingInterval)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout((()=>{const e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())}),this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isConnectionOpenResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,FS(this.onlineStatusChanged)}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(t){if(this.isHealthy=!1,this.consecutiveFailures+=1,t.code!==ES||this.client.tokenManager.isStatic()){if(!t.isWSFailure)throw new Error(JSON.stringify({code:t.code,StatusCode:t.StatusCode,message:t.message,isWSFailure:t.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return Promise.race([(async()=>{for(let n=0;n<=e;n+=50)try{return await this.connectionOpen}catch(t){if(n===e)throw new Error(JSON.stringify({code:t.code,StatusCode:t.StatusCode,message:t.message,isWSFailure:t.isWSFailure}));await BS(50)}})(),(async()=>{throw await BS(e),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&Ek().clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),QS(this.onlineStatusChanged),this.isHealthy=!1;const{ws:n}=this;return n&&n.close&&n.readyState===n.OPEN?(t=new Promise((t=>{const r=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};n.onclose=r,setTimeout(r,null!=e?e:1e3)})),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),n.close(kS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting)return;this.isConnecting=!0;let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch{}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this.client.isConnectionIsPromisePending||this.client._setupConnectionIdPromise(),this._setupConnectionPromise();const t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`);const n=this.client.options.WebSocketImpl??WebSocket;this.ws=new n(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const r=await this.connectionOpen;if(this.isConnecting=!1,r)return this.connectionID=r.connection_id,this.client.resolveConnectionId?.(this.connectionID),r}catch(uH){throw this.client._setupConnectionIdPromise(),this.isConnecting=!1,this._log("_connect() - Error - ",uH),this.client.rejectConnectionId?.(uH),uH}}async _reconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy)return void this._log("_reconnect() - Abort (1) since already connecting or healthy");let t=e.interval;if(t||(t=IS(this.consecutiveFailures)),await BS(t),this.isConnecting||this.isHealthy)this._log("_reconnect() - Abort (2) since already connecting or healthy");else if(this.isDisconnected)this._log("_reconnect() - Abort (3) since disconnect() is called");else{this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(n){if(this.isHealthy=!1,this.consecutiveFailures+=1,n.code===ES&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});n.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.close()}catch{}}get connectionOpen(){return this.connectionOpenSafe?.()}}const NI=e=>{const t={},n=String.fromCharCode,r=e.length;let i,s,o,a,A=0,c=0,l="";for(i=0;i<64;i++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i)]=i;for(o=0;o<r;o++)for(s=t[e.charAt(o)],A=(A<<6)+s,c+=6;c>=8;)((a=A>>>(c-=8)&255)||o<r-2)&&(l+=n(a));return l};class OI{constructor(e){this.loadTokenPromise=null,this.type="static",this.setTokenOrProvider=async(e,t,n)=>{this.user=t,this.isAnonymous=n,this.validateToken(e),SS(e)&&(this.tokenProvider=e,this.type="provider"),"string"===typeof e&&(this.token=e,this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=e=>{if(!this.user||!this.isAnonymous||e){if(!this.secret&&!e)throw new Error("User token can not be empty");if("string"!==typeof e&&!SS(e))throw new Error("User token should either be a string or a function");if("string"===typeof e){if(this.isAnonymous&&""===e)return;const t=function(e){const t=e.split(".");if(3!==t.length)return"";const n=t[1],r=NI(n);return JSON.parse(r).user_id}(e);if(null!=e&&(null==t||""===t||!this.isAnonymous&&t!==this.user.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise((async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!==typeof this.tokenProvider){try{const e=await this.tokenProvider();this.validateToken(e),this.token=e}catch(n){return t(new Error(`Call to tokenProvider failed with message: ${n}`))}e(this.token)}})),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&!this.token)return this.token;throw new Error("User token is not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.secret=e}}const LI=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://hint.stream-io-video.com/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const r=HS(["location-hint"]);let i=0,s="ERR";do{const n=new AbortController,i=setTimeout((()=>n.abort()),t);try{const t=(await fetch(e,{method:"HEAD",signal:n.signal})).headers.get("x-amz-cf-pop")||"ERR";r("debug",`Location header: ${t}`),s=t.substring(0,3)}catch(o){r("warn",`Failed to get location hint from ${e}`,o),s="ERR"}finally{clearTimeout(i)}}while("ERR"===s&&++i<n);return s};class DI{constructor(e,t){var n=this;this.listeners={},this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{const n=await this.locationHint;return n&&"ERR"!==n?n:(this.locationHint=LI(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID,this._hasConnectionID=()=>Boolean(this._getConnectionID()),this.connectUser=async(e,t)=>{if(!e.id)throw new Error('The "id" field on the user is missing');if(this.userID===e.id&&this.connectUserTask)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.connectUserTask;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");!this.secret&&!this.node||this.options.allowServerSideConnect||this.logger("warn","Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/"),this.userID=e.id,this.anonymous=!1,await this.tokenManager.setTokenOrProvider(t,e,!1),this._setUser(e),this.connectUserTask=this.openConnection();try{return FS(this.updateNetworkConnectionStatus),await this.connectUserTask}catch(uH){throw this.persistUserOnConnectionFailure?await this.closeConnection():await this.disconnectUser(),uH}},this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>{await(this.wsConnection?.disconnect(e))},this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");const e=this.wsPromiseSafe?.();if(this.wsConnection?.isConnecting&&e)return this.logger("info","client:openConnection() - connection already in progress"),await e;if(this.wsConnection?.isHealthy&&this._hasConnectionID())return void this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists");this._setupConnectionIdPromise(),this.clientID=`${this.userID}--${xS()}`;const t=this.connect();return this.wsPromiseSafe=wk(t),await t},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),QS(this.updateNetworkConnectionStatus),this.tokenManager.reset(),this.connectionIdPromiseSafe=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:e},{publicEndpoint:!0});const t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally((()=>this.guestUserCreatePromise=void 0)),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{FS(this.updateNetworkConnectionStatus),this._setupConnectionIdPromise(),this.anonymous=!0,await this.tokenManager.setTokenOrProvider(t,e,!0),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter((e=>e!==t))},this._setupConnectionIdPromise=()=>{this.connectionIdPromiseSafe=wk(new Promise(((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t})))},this._logApiRequest=(e,t,n,r)=>{"trace"===DS()&&this.logger("trace",`client: ${e} - Request - ${t}`,{payload:n,config:r})},this._logApiResponse=(e,t,n)=>{"trace"===DS()&&this.logger("trace",`client:${e} - Response - url: ${t} > status ${n.status}`,{response:n})},this._logApiError=(e,t,n)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:n})},this.doAxiosRequest=async function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!i.publicEndpoint){await Promise.all([n.tokenManager.tokenReady(),n.guestUserCreatePromise]);try{await n.connectionIdPromise}catch{await(n.wsConnection?._waitForHealthy()),await n.connectionIdPromise}}const s=n._enrichAxiosOptions(i);try{let i;switch(n._logApiRequest(e,t,r,s),e){case"get":i=await n.axiosInstance.get(t,s);break;case"delete":i=await n.axiosInstance.delete(t,s);break;case"post":i=await n.axiosInstance.post(t,r,s);break;case"put":i=await n.axiosInstance.put(t,r,s);break;case"patch":i=await n.axiosInstance.patch(t,r,s);break;case"options":i=await n.axiosInstance.options(t,s);break;default:throw new Error("Invalid request type")}return n._logApiResponse(e,t,i),n.consecutiveFailures=0,n.handleResponse(i)}catch(o){if(o.client_request_id=s.headers?.["x-client-request-id"],n.consecutiveFailures+=1,o.response)return n._logApiError(e,t,o.response),o.response.data.code!==ES||n.tokenManager.isStatic()?n.handleResponse(o.response):(n.consecutiveFailures>1&&await BS(IS(n.consecutiveFailures)),await n.tokenManager.loadToken(),await n.doAxiosRequest(e,t,r,i));throw n._logApiError(e,t,o),o}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,n)=>this.doAxiosRequest("put",e,t,{params:n}),this.post=(e,t,n)=>this.doAxiosRequest("post",e,t,{params:n}),this.patch=(e,t,n)=>this.doAxiosRequest("patch",e,t,{params:n}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{const{data:t,status:n}=e;return new kC({message:`Stream error code ${t.code}: ${t.message}`,code:t.code??null,unrecoverable:t.unrecoverable??null,response:e,status:n})},this.handleResponse=e=>{const t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(const t of this.listeners.all||[])t(e);for(const t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");return this.wsConnection=new PI(this),this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.defaultWSTimeout)},this.getUserAgent=()=>{if(!this.cachedUserAgent){const{clientAppIdentifier:e={}}=this.options,{sdkName:t="js",sdkVersion:n="1.23.1",...r}=e;this.cachedUserAgent=[`stream-video-${t}-v${n}`,...Object.entries(r).map((e=>{let[t,n]=e;return`${t}=${n}`})),"client_bundle=browser-esm"].join("|")}return this.cachedUserAgent},this._enrichAxiosOptions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}};const t=e.publicEndpoint&&!n.user?void 0:n._getToken(),r=t?{Authorization:t}:void 0;return e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":xS()}),{params:{user_id:n.userID,connection_id:n._getConnectionID(),api_key:n.key,...e.params},headers:{...r,"stream-auth-type":e.publicEndpoint&&!n.user?"anonymous":n.getAuthType(),"X-Stream-Client":n.getUserAgent(),...e.headers},...e.config,...n.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this.updateNetworkConnectionStatus=e=>{"offline"===e.type?(this.logger("debug","device went offline"),this.dispatchEvent({type:"network.changed",online:!1})):"online"===e.type&&(this.logger("debug","device went online"),this.dispatchEvent({type:"network.changed",online:!0}))},this.key=e,this.secret=t?.secret;const r=t||{browser:"undefined"!==typeof window};this.browser=r.browser||"undefined"!==typeof window,this.node=!this.browser,this.browser&&(this.locationHint=LI(t?.locationHintUrl,t?.locationHintTimeout,t?.locationHintMaxAttempts)),this.options={timeout:5e3,withCredentials:!1,...r},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new null.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),this.axiosInstance=yv.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromiseSafe=null,this.connectUserTask=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new OI(this.secret),this.consecutiveFailures=0,this.defaultWSTimeout=this.options.defaultWsTimeout??15e3,this.logger=SS(r.logger)?r.logger:()=>null}get connectionIdPromise(){return this.connectionIdPromiseSafe?.()}get isConnectionIsPromisePending(){return this.connectionIdPromiseSafe?.checkPending()??!1}get wsPromise(){return this.wsPromiseSafe?.()}}const HI=(e,t)=>`${e}/${t.id}`,MI=(e,t)=>{const n=(e=>{const t=e?.clientAppIdentifier||{},n=zE();return n&&(t.sdkName=OC[n.type].toLowerCase(),t.sdkVersion=`${n.major}.${n.minor}.${n.patch}`),t})(t),r=HS(["coordinator"]);return new DI(e,{persistUserOnConnectionFailure:!0,...t,clientAppIdentifier:n,logger:r})};class jI{constructor(e,t){var n=this;this.effectsRegistered=!1,this.eventHandlersToUnregister=[],this.connectionConcurrencyTag=Symbol("connectionConcurrencyTag"),this.registerClientInstance=(e,t)=>{const n=HI(e,t);jI._instances.has(n)&&this.logger("warn",`A StreamVideoClient already exists for ${t.id}; Prefer using getOrCreateInstance method`),jI._instances.set(n,this)},this.registerEffects=()=>{this.effectsRegistered||(this.eventHandlersToUnregister.push(this.on("connection.changed",(e=>{if(!e.online)return;const t=this.writeableStateStore.calls.filter((e=>e.watching)).map((e=>e.cid));t.length<=0||(this.logger("info",`Rewatching calls ${t.join(", ")}`),this.queryCalls({watch:!0,filter_conditions:{cid:{$in:t}},sort:[{field:"cid",direction:1}]}).catch((e=>{this.logger("error","Failed to re-watch calls",e)})))}))),this.eventHandlersToUnregister.push(this.on("call.created",(e=>{const{call:t,members:n}=e;if(this.state.connectedUser?.id===t.created_by.id)return void this.logger("warn","Received `call.created` sent by the current user");this.logger("info",`New call created and registered: ${t.cid}`);const r=new RI({streamClient:this.streamClient,type:t.type,id:t.id,members:n,clientStore:this.writeableStateStore});r.state.updateFromCallResponse(t),this.writeableStateStore.registerCall(r)}))),this.eventHandlersToUnregister.push(this.on("call.ring",(async e=>{const{call:t,members:n}=e;if(this.state.connectedUser?.id===t.created_by.id)return void this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");const r=this.writeableStateStore.findCall(t.type,t.id);if(r)await r.updateFromRingingEvent(e);else{const e=new RI({streamClient:this.streamClient,type:t.type,id:t.id,members:n,clientStore:this.writeableStateStore,ringing:!0});await e.get()}}))),this.effectsRegistered=!0)},this.connectUser=async(e,t)=>{if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);const n=await zS(this.connectionConcurrencyTag,(async()=>{const n=this.streamClient,{onConnectUserError:r,persistUserOnConnectionFailure:i}=n.options;let{maxConnectUserRetries:s=5}=n.options;s=Math.max(s,1);const o=[];for(let a=0;a<s;a++)try{return this.logger("trace",`Connecting user (${a})`,e),"guest"===e.type?await n.connectGuestUser(e):await n.connectUser(e,t)}catch(uH){if(this.logger("warn",`Failed to connect a user (${a})`,uH),o.push(uH),a===s-1)throw r?.(uH,o),uH;i&&await n.disconnectUser(),await BS(IS(a))}}));return n?.me&&this.writeableStateStore.setConnectedUser(n.me),this.registerEffects(),n},this.disconnectUser=async e=>{await zS(this.connectionConcurrencyTag,(async()=>{const{user:t,key:n}=this.streamClient;t&&(await this.streamClient.disconnectUser(e),t.id&&jI._instances.delete(HI(n,t)),this.eventHandlersToUnregister.forEach((e=>e())),this.eventHandlersToUnregister=[],this.effectsRegistered=!1,this.writeableStateStore.setConnectedUser(void 0))}))},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new RI({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await n.streamClient.post("/calls",e),r=[];for(const i of t.calls){const t=new RI({streamClient:n.streamClient,id:i.call.id,type:i.call.type,members:i.members,ownCapabilities:i.own_capabilities,watching:e.watch,clientStore:n.writeableStateStore});t.state.updateFromCallResponse(i.call),await t.applyDeviceConfig(i.call.settings,!1),e.watch&&(await t.setup(),n.writeableStateStore.registerCall(t)),r.push(t)}return{...t,calls:r}},this.queryCallStats=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.streamClient.post("/call/stats",e)},this.queryAggregateCallStats=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.streamClient.post("/stats",e)},this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,n,r,i)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:i,...null!=r?{user_id:r}:{},...null!=n?{push_provider_name:n}:{}}),this.addVoipDevice=async(e,t,n,r)=>await this.addDevice(e,t,n,r,!0),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.state.calls.find((t=>t.cid===e&&t.ringing));if(!t){const[n,r]=e.split(":");t=new RI({streamClient:this.streamClient,type:n,id:r,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>zS(this.connectionConcurrencyTag,(()=>this.streamClient.connectAnonymousUser(e,t)));const r="string"===typeof e?e:e.apiKey,i="string"===typeof e?t:e.options;i?.enableTimerWorker&&(Sk=!0);var s;if(PS=i?.logger||OS,(s=i?.logLevel||"warn")&&LS(s),this.logger=HS(["client"]),this.streamClient=MI(r,i),this.writeableStateStore=new aE,this.readOnlyStateStore=new AE(this.writeableStateStore),"string"!==typeof e&&e.user){const t=e.user;"anonymous"===t.type&&(t.id="!anon"),t.id&&this.registerClientInstance(r,t);const n=(e=>{const{token:t,tokenProvider:n}=e;if(t&&n){let e=!1;return async function(){return e?n():(e=!0,t)}}return t||n})(e);this.connectUser(t,n).catch((e=>{this.logger("error","Failed to connect",e)}))}}static getOrCreateInstance(e){const{apiKey:t,user:n,token:r,tokenProvider:i}=e;if(!n.id&&"anonymous"!==n.type)throw new Error("user.id is required for a non-anonymous user");if(!r&&!i&&"anonymous"!==n.type&&"guest"!==n.type)throw new Error("tokenProvider or token is required for a authenticated users");return jI._instances.get(HI(t,n))||new jI(e)}get state(){return this.readOnlyStateStore}}jI._instances=new Map;const KI=e=>"string"===typeof e,VI=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},qI=e=>null==e?"":""+e,GI=/###/g,$I=e=>e&&e.indexOf("###")>-1?e.replace(GI,"."):e,WI=e=>!e||KI(e),zI=(e,t,n)=>{const r=KI(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(WI(e))return{};const t=$I(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return WI(e)?{}:{obj:e,k:$I(r[i])}},JI=(e,t,n)=>{const{obj:r,k:i}=zI(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let s=t[t.length-1],o=t.slice(0,t.length-1),a=zI(e,o,Object);for(;void 0===a.obj&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=zI(e,o,Object),a&&a.obj&&"undefined"!==typeof a.obj[`${a.k}.${s}`]&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},YI=(e,t)=>{const{obj:n,k:r}=zI(e,t);if(n)return n[r]},XI=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?KI(e[r])||e[r]instanceof String||KI(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):XI(e[r],t[r],n):e[r]=t[r]);return e},ZI=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var eT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const tT=e=>KI(e)?e.replace(/[&<>"'\/]/g,(e=>eT[e])):e;const nT=[" ",",","?","!",";"],rT=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),iT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||"object"!==typeof i)return;let e,t="";for(let o=s;o<r.length;++o)if(o!==s&&(t+=n),t+=r[o],e=i[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&o<r.length-1)continue;s+=o-s+1;break}i=e}return i},sT=e=>e&&e.replace("_","-"),oT={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class aT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||oT,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(KI(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new aT(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new aT(this.logger,e)}}var AT=new aT;class cT{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let i=0;i<r;i++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let s=0;s<i;s++)r.apply(r,[e,...n])}))}}}class lT extends cT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):KI(n)&&i?o.push(...n.split(i)):o.push(n)));const a=YI(this.data,o);return!a&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),!a&&s&&KI(n)?iT(this.data&&this.data[e]&&this.data[e][t],n,i):a}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),JI(this.data,o,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(KI(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=n,n=t,t=o[1]),this.addNamespaces(t);let a=YI(this.data,o)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?XI(a,n,i):a={...a,...n},JI(this.data,o,a),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var uT={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))})),t}};const dT={};class hT extends cT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=AT.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const r=nT.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=rT.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let s=!i.test(e);if(!s){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(s=!0)}return s})(e,n,r);if(s&&!o){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:KI(i)?[i]:i};const s=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(i=s.shift()),e=s.join(r)}return{key:e,namespaces:KI(i)?[i]:i}}translate(e,t,n){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t={...t}),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],t),a=o[o.length-1],A=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(A&&"cimode"===A.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${a}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:A,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${s}`}return r?{res:s,usedKey:s,exactUsedKey:s,usedLng:A,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:s}const l=this.resolve(e,t);let u=l&&l.res;const d=l&&l.usedKey||s,h=l&&l.exactUsedKey||s,p=Object.prototype.toString.apply(u),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,m=!KI(u)&&"boolean"!==typeof u&&"number"!==typeof u;if(!(g&&u&&m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0)||KI(f)&&Array.isArray(u))if(g&&KI(f)&&Array.isArray(u))u=u.join(f),u&&(u=this.extendTranslation(u,e,t,n));else{let r=!1,o=!1;const c=void 0!==t.count&&!KI(t.count),d=hT.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(A,t.count,t):"",p=t.ordinal&&c?this.pluralResolver.getSuffix(A,t.count,{ordinal:!1}):"",f=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=f&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${p}`]||t.defaultValue;!this.isValidLookup(u)&&d&&(r=!0,u=g),this.isValidLookup(u)||(o=!0,u=s);const m=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:u,w=d&&g!==u&&this.options.updateMissing;if(o||r||w){if(this.logger.log(w?"updateKey":"missingKey",A,a,s,w?g:u),i){const e=this.resolve(s,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=d&&r!==u?r:m;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,n,i,w,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,a,n,i,w,t),this.emit("missingKey",e,a,n,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);f&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],s+n,t[`defaultValue${n}`]||g)}))})):r(e,s,g))}u=this.extendTranslation(u,e,t,l,n),o&&u===s&&this.options.appendNamespaceToMissingKey&&(u=`${a}:${s}`),(o||r)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${s}`:s,r?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,u,{...t,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(l.res=e,l.usedParams=this.getUsedParamsDetails(t),l):e}if(i){const e=Array.isArray(u),n=e?[]:{},r=e?h:d;for(const s in u)if(Object.prototype.hasOwnProperty.call(u,s)){const e=`${r}${i}${s}`;n[s]=this.translate(e,{...t,joinArrays:!1,ns:o}),n[s]===e&&(n[s]=u[s])}u=n}}return r?(l.res=u,l.usedParams=this.getUsedParamsDetails(t),l):u}extendTranslation(e,t,n,r,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const o=KI(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(o){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let A=n.replace&&!KI(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(A={...this.options.interpolation.defaultVariables,...A}),e=this.interpolator.interpolate(e,A,n.lng||this.language||r.usedLng,n),o){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i&&i[0]===r[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):s.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,a=KI(o)?[o]:o;return void 0!==e&&null!==e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=uT.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return KI(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,o),A=a.key;n=A;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const l=void 0!==o.count&&!KI(o.count),u=l&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==o.context&&(KI(o.context)||"number"===typeof o.context)&&""!==o.context,h=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(s=e,!dT[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(dT[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;i=n;const s=[A];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(s,A,n,e,o);else{let e;l&&(e=this.pluralResolver.getSuffix(n,o.count,o));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(s.push(A+e),o.ordinal&&0===e.indexOf(r)&&s.push(A+e.replace(r,this.options.pluralSeparator)),u&&s.push(A+t)),d){const n=`${A}${this.options.contextSeparator}${o.context}`;s.push(n),l&&(s.push(n+e),o.ordinal&&0===e.indexOf(r)&&s.push(n+e.replace(r,this.options.pluralSeparator)),u&&s.push(n+t))}}let a;for(;a=s.pop();)this.isValidLookup(t)||(r=a,t=this.getResource(n,e,a,o))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:s}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!KI(e.replace);let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const pT=e=>e.charAt(0).toUpperCase()+e.slice(1);class fT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=AT.create("languageUtils")}getScriptPartFromCode(e){if(!(e=sT(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=sT(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(KI(e)&&e.indexOf("-")>-1){if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(t){}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map((e=>e.toLowerCase())):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=pT(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=pT(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=pT(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),KI(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return KI(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):KI(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}let gT=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],mT={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const wT=["v1","v2","v3"],yT=["v4"],vT={zero:0,one:1,two:2,few:3,many:4,other:5};class bT{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=AT.create("pluralResolver"),this.options.compatibilityJSON&&!yT.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return gT.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:mT[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=sT("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s;try{s=new Intl.PluralRules(n,{type:r})}catch(uH){if(!e.match(/-|_/))return;const r=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(r,t)}return this.pluralRulesCache[i]=s,s}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>vT[e]-vT[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!wT.includes(this.options.compatibilityJSON)}}const CT=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=((e,t,n)=>{const r=YI(e,n);return void 0!==r?r:YI(t,n)})(e,t,n);return!s&&i&&KI(n)&&(s=iT(e,n,r),void 0===s&&(s=iT(t,n,r))),s},BT=e=>e.replace(/\$/g,"$$$$");class ST{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=AT.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:s,suffix:o,suffixEscaped:a,formatSeparator:A,unescapeSuffix:c,unescapePrefix:l,nestingPrefix:u,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:f,maxReplaces:g,alwaysFormat:m}=e.interpolation;this.escape=void 0!==t?t:tT,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?ZI(i):s||"{{",this.suffix=o?ZI(o):a||"}}",this.formatSeparator=A||",",this.unescapePrefix=c?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?ZI(u):d||ZI("$t("),this.nestingSuffix=h?ZI(h):p||ZI(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==m&&m,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,s,o;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},A=e=>{if(e.indexOf(this.formatSeparator)<0){const i=CT(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),s=i.shift().trim(),o=i.join(this.formatSeparator).trim();return this.format(CT(t,a,s,this.options.keySeparator,this.options.ignoreJSONStructure),o,n,{...r,...t,interpolationkey:s})};this.resetRegExp();const c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,l=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>BT(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?BT(this.escape(e)):BT(e)}].forEach((t=>{for(o=0;i=t.regex.exec(e);){const n=i[1].trim();if(s=A(n),void 0===s)if("function"===typeof c){const t=c(e,i,r);s=KI(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(l){s=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),s=""}else KI(s)||this.useRawValueToEscape||(s=qI(s));const a=t.safeValue(s);if(e=e.replace(i[0],a),l?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let s=`{${r[1]}`;e=r[0],s=this.interpolate(s,i);const o=s.match(/'/g),a=s.match(/"/g);(o&&o.length%2===0&&!a||a.length%2!==0)&&(s=s.replace(/'/g,'"'));try{i=JSON.parse(s),t&&(i={...t,...i})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,A),`${e}${n}${s}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];i={...s},i=i.replace&&!KI(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let A=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),a=e,A=!0}if(r=t(o.call(this,n[1].trim(),i),i),r&&n[0]===e&&!KI(r))return r;KI(r)||(r=qI(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),A&&(r=a.reduce(((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const ET=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=t[o];return a||(a=e(sT(r),i),t[o]=a),a(n)}};class kT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=AT.create("formatter"),this.options=e,this.formats={number:ET(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:ET(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:ET(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:ET(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:ET(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ET(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const s=i.reduce(((e,t)=>{const{formatName:i,formatOptions:s}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();n[s]||(n[s]=i),"false"===i&&(n[s]=!1),"true"===i&&(n[s]=!0),isNaN(i)||(n[s]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const o=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},a=o.locale||o.lng||r.locale||r.lng||n;t=this.formats[i](e,a,{...s,...r,...o})}catch(o){this.logger.warn(o)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return s}}class IT extends cT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=AT.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const i={},s={},o={},a={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const o=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?void 0===s[o]&&(s[o]=!0):(this.state[o]=1,r=!1,void 0===s[o]&&(s[o]=!0),void 0===i[o]&&(i[o]=!0),void 0===a[t]&&(a[t]=!0)))})),r||(o[e]=!0)})),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),i=r[0],s=r[1];t&&this.emit("failedLoading",i,s,t),!t&&n&&this.store.addResourceBundle(i,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const o={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=zI(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{o[e]||(o[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===o[e][t]&&(o[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:s});this.readingCalls++;const o=(o,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}o&&a&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,s)}),i):s(o,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,o);try{const n=a(e,t);n&&"function"===typeof n.then?n.then((e=>o(null,e))).catch(o):o(null,n)}catch(uH){o(uH)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();KI(e)&&(e=this.languageUtils.toResolveHierarchy(e)),KI(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,s)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&s&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,s),this.loaded(e,n,s)}))}saveMissing(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){const a={...s,isUpdate:i},A=this.backend.create.bind(this.backend);if(A.length<6)try{let i;i=5===A.length?A(e,t,n,r,a):A(e,t,n,r),i&&"function"===typeof i.then?i.then((e=>o(null,e))).catch(o):o(null,i)}catch(uH){o(uH)}else A(e,t,n,r,o,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const TT=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),KI(e[1])&&(t.defaultValue=e[1]),KI(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),xT=e=>(KI(e.ns)&&(e.ns=[e.ns]),KI(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),KI(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),UT=()=>{};class FT extends cT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=xT(e),this.services={},this.logger=AT,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(KI(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=TT();this.options={...r,...this.options,...xT(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?AT.init(i(this.modules.logger),this.options):AT.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!==typeof Intl&&(t=kT);const n=new fT(this.options);this.store=new lT(this.options.resources,this.options);const s=this.services;s.logger=AT,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new bT(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ST(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new IT(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new hT(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=UT),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const s=VI(),o=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UT;const n=KI(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=VI();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=UT),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&uT.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=VI();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(e,s)=>{s?(i(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},o=t=>{e||t||!this.services.languageDetector||(t=[]);const n=KI(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{s(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let s;if("object"!==typeof t){for(var o=arguments.length,a=new Array(o>2?o-2:0),A=2;A<o;A++)a[A-2]=arguments[A];s=r.options.overloadTranslationOptionHandler([e,t].concat(a))}else s={...t};s.lng=s.lng||i.lng,s.lngs=s.lngs||i.lngs,s.ns=s.ns||i.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let l;return l=s.keyPrefix&&Array.isArray(e)?e.map((e=>`${s.keyPrefix}${c}${e}`)):s.keyPrefix?`${s.keyPrefix}${c}${e}`:e,r.t(l,s)};return KI(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||r&&!s(i,e)))}loadNamespaces(e,t){const n=VI();return this.options.ns?(KI(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=VI();KI(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new fT(TT());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new FT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UT;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new FT(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));return["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new lT(this.store.data,r),i.services.resourceStore=i.store),i.translator=new hT(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const QT=FT.createInstance();QT.createInstance=FT.createInstance;QT.createInstance,QT.dir,QT.init,QT.loadResources,QT.reloadResources,QT.use,QT.changeLanguage,QT.getFixedT,QT.t,QT.exists,QT.setDefaultNamespace,QT.hasLoadedNamespace,QT.loadNamespaces,QT.loadLanguages;const _T=(0,a.createContext)(void 0),RT=()=>(0,a.useContext)(_T),PT="stream-video",NT={debug:!1,currentLanguage:"en",fallbackLanguage:!1},OT=(LT={},DT=PT,Object.entries(LT).reduce(((e,t)=>{let[n,r]=t;return e[n]={[DT]:r},e}),{}));var LT,DT;const HT=e=>e;class MT{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.t=HT,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;const n="undefined"!==typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||n),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=e=>{let{lng:t,translations:n}=e;this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(t,PT,n,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);const{debug:t=NT.debug,currentLanguage:n=NT.currentLanguage,fallbackLanguage:r=NT.fallbackLanguage,translationsOverrides:i}=e;this.i18nInstance=QT.createInstance({debug:t,defaultNS:PT,fallbackLng:r,interpolation:{escapeValue:!1},keySeparator:!1,lng:n,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:OT}),i&&this.i18nInstance.on("initialized",(()=>{Object.entries(i).forEach((e=>{let[t,n]=e;this.registerTranslationsForLanguage({lng:t,translations:n})}))}))}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}const jT=(0,a.createContext)({t:HT}),KT=e=>{let{children:t,...n}=e;const{i18n:r,t:i}=VT(n);return(0,_e.jsx)(jT.Provider,{value:{t:i,i18n:r},children:t})},VT=e=>{let{i18nInstance:t,language:n,fallbackLanguage:r,translationsOverrides:i}=e;const[s]=(0,a.useState)((()=>t||new MT({currentLanguage:n,fallbackLanguage:r,translationsOverrides:i}))),[o,A]=(0,a.useState)((()=>HT));return(0,a.useEffect)((()=>{const{isInitialized:e}=s;e?n&&s?.currentLanguage!==n&&s.changeLanguage(n).catch((e=>{console.log("Error while changing language",e)})):s.init().then((e=>A((()=>e.i18nInstance.t))))}),[s,t,n,i]),{i18n:s,t:o}},qT=()=>(0,a.useContext)(jT),GT=(0,a.createContext)(void 0),$T=e=>{let{children:t,client:n,i18nInstance:r,language:i,translationsOverrides:s}=e;return(0,_e.jsx)(GT.Provider,{value:n,children:(0,_e.jsx)(KT,{i18nInstance:r,language:i,translationsOverrides:s,children:t})})},WT=()=>(0,a.useContext)(GT),zT=(e,t)=>{const[n,r]=(0,a.useState)((()=>{try{return oE.getCurrentValue(e)}catch(uH){if("undefined"===typeof t)throw uH;return t}}));return(0,a.useEffect)((()=>oE.createSubscription(e,r,(e=>{console.log("An error occurred while reading an observable",e),t&&r(t)}))),[t,e]),n},JT=Object.freeze([]),YT=()=>{const e=RT();if(!e){const e='You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.';return console.warn(e),new UE}return e.state},XT=()=>{const{recording$:e}=YT();return zT(e)},ZT=()=>{const{ownCapabilities$:e}=YT();return zT(e)};function ex(e,t){const n=t??e;return{status:e,optimisticStatus:n,isEnabled:"enabled"===e,isMute:"enabled"!==e,optimisticIsMute:"enabled"!==n,isTogglePending:n!==e}}function tx(e){const t=(0,a.useMemo)((()=>dC(JT)),[]),[n,r]=(0,a.useState)(t),i=zT(n,JT);return{getDevices:()=>(n===t&&r(e.listDevices()),i)}}var nx=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{const{anonymousParticipantCount$:e}=YT();return zT(e)},useCallBlockedUserIds:()=>{const{blockedUserIds$:e}=YT();return zT(e)},useCallCallingState:()=>{const{callingState$:e}=YT();return zT(e)},useCallClosedCaptions:()=>{const{closedCaptions$:e}=YT();return zT(e)},useCallCreatedAt:()=>{const{createdAt$:e}=YT();return zT(e)},useCallCreatedBy:()=>{const{createdBy$:e}=YT();return zT(e)},useCallCustomData:()=>{const{custom$:e}=YT();return zT(e)},useCallEgress:()=>{const{egress$:e}=YT();return zT(e)},useCallEndedAt:()=>{const{endedAt$:e}=YT();return zT(e)},useCallEndedBy:()=>{const{endedBy$:e}=YT();return zT(e)},useCallIngress:()=>{const{ingress$:e}=YT();return zT(e)},useCallMembers:()=>{const{members$:e}=YT();return zT(e)},useCallSession:()=>{const{session$:e}=YT();return zT(e)},useCallSettings:()=>{const{settings$:e}=YT();return zT(e)},useCallStartedAt:()=>{const{startedAt$:e}=YT();return zT(e)},useCallStartsAt:()=>{const{startsAt$:e}=YT();return zT(e)},useCallState:YT,useCallStatsReport:()=>{const{callStatsReport$:e}=YT();return zT(e)},useCallThumbnail:()=>{const{thumbnails$:e}=YT();return zT(e)},useCallUpdatedAt:()=>{const{updatedAt$:e}=YT();return zT(e)},useCameraState:()=>{const e=RT(),{camera:t}=e,{state:n}=t,r=zT(n.direction$),i=zT(n.mediaStream$),s=zT(n.selectedDevice$),{getDevices:o}=tx(t),a=zT(n.hasBrowserPermission$),A=zT(n.isPromptingPermission$);return{camera:t,direction:r,mediaStream:i,get devices(){return o()},hasBrowserPermission:a,isPromptingPermission:A,selectedDevice:s,...ex(zT(n.status$),zT(n.optimisticStatus$))}},useDominantSpeaker:()=>{const{dominantSpeaker$:e}=YT();return zT(e)},useHasOngoingScreenShare:()=>{const{hasOngoingScreenShare$:e}=YT();return zT(e)},useHasPermissions:function(){const e=ZT();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.every((t=>e?.includes(t)))},useIncomingVideoSettings:()=>{const e=RT();return zT(e.dynascaleManager.incomingVideoSettings$)},useIsCallCaptioningInProgress:()=>{const{captioning$:e}=YT();return zT(e)},useIsCallHLSBroadcastingInProgress:()=>{const{egress$:e}=YT(),t=zT(e);return!!t&&t.broadcasting},useIsCallLive:()=>{const{backstage$:e}=YT();return!zT(e)},useIsCallRecordingInProgress:XT,useIsCallTranscribingInProgress:()=>{const{transcribing$:e}=YT();return zT(e)},useLocalParticipant:()=>{const{localParticipant$:e}=YT();return zT(e)},useMicrophoneState:()=>{const e=RT(),{microphone:t}=e,{state:n}=t,r=zT(n.mediaStream$),i=zT(n.selectedDevice$),{getDevices:s}=tx(t),o=zT(n.hasBrowserPermission$),a=zT(n.isPromptingPermission$),A=zT(n.speakingWhileMuted$);return{microphone:t,mediaStream:r,get devices(){return s()},selectedDevice:i,hasBrowserPermission:o,isPromptingPermission:a,isSpeakingWhileMuted:A,...ex(zT(n.status$),zT(n.optimisticStatus$))}},useOwnCapabilities:ZT,useParticipantCount:()=>{const{participantCount$:e}=YT();return zT(e)},useParticipants:function(){let{sortBy:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{participants$:t}=YT(),n=zT(t);return(0,a.useMemo)((()=>e?[...n].sort(e):n),[n,e])},useRemoteParticipants:()=>{const{remoteParticipants$:e}=YT();return zT(e)},useScreenShareState:()=>{const e=RT(),{screenShare:t}=e;return{screenShare:t,mediaStream:zT(t.state.mediaStream$),...ex(zT(t.state.status$),zT(t.state.optimisticStatus$))}},useSpeakerState:()=>{if("undefined"!==typeof navigator&&"reactnative"===navigator.product?.toLowerCase())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");const e=RT(),{speaker:t}=e,{getDevices:n}=tx(t),r=zT(t.state.selectedDevice$);return{speaker:t,get devices(){return n()},selectedDevice:r,isDeviceSelectionSupported:t.state.isDeviceSelectionSupported}}});const rx=()=>nx,ix=e=>{let{canRequestOnly:t,hasPermissionsOnly:n,requiredGrants:r,requireAll:i=!0,children:s}=e;const o=RT(),{useCallSettings:a,useOwnCapabilities:A}=rx(),c=A(),l=a(),u=r[i?"every":"some"]((e=>c?.includes(e)));if(n)return u?(0,_e.jsx)(_e.Fragment,{children:s}):null;const d=r.some((e=>o?.permissionsContext.canRequest(e,l)));return t?d?(0,_e.jsx)(_e.Fragment,{children:s}):null:u||d?(0,_e.jsx)(_e.Fragment,{children:s}):null};var sx=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ox=sx.join(","),ax="undefined"===typeof Element,Ax=ax?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,cx=!ax&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},lx=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},ux=function(e,t,n){if(lx(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(ox));return t&&Ax.call(e,ox)&&r.unshift(e),r=r.filter(n)},dx=function e(t,n,r){for(var i=[],s=Array.from(t);s.length;){var o=s.shift();if(!lx(o,!1))if("SLOT"===o.tagName){var a=o.assignedElements(),A=e(a.length?a:o.children,!0,r);r.flatten?i.push.apply(i,A):i.push({scopeParent:o,candidates:A})}else{Ax.call(o,ox)&&r.filter(o)&&(n||!t.includes(o))&&i.push(o);var c=o.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(o),l=!lx(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(c&&l){var u=e(!0===c?o.children:c.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else s.unshift.apply(s,o.children)}}return i},hx=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},px=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!hx(e)?0:e.tabIndex},fx=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},gx=function(e){return"INPUT"===e.tagName},mx=function(e){return function(e){return gx(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||cx(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(uH){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",uH.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},wx=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},yx=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=Ax.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Ax.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return wx(e)}else{if("function"===typeof r){for(var s=e;e;){var o=e.parentElement,a=cx(e);if(o&&!o.shadowRoot&&!0===r(o))return wx(e);e=e.assignedSlot?e.assignedSlot:o||a===e.ownerDocument?o:a.host}e=s}if(function(e){var t,n,r,i,s=e&&cx(e),o=null===(t=s)||void 0===t?void 0:t.host,a=!1;if(s&&s!==e)for(a=!!(null!==(n=o)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(o)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&o;){var A,c,l;a=!(null===(c=o=null===(A=s=cx(o))||void 0===A?void 0:A.host)||void 0===c||null===(l=c.ownerDocument)||void 0===l||!l.contains(o))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},vx=function(e,t){return!(t.disabled||lx(t)||function(e){return gx(e)&&"hidden"===e.type}(t)||yx(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!Ax.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},bx=function(e,t){return!(mx(t)||px(t)<0||!vx(e,t))},Cx=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Bx=function e(t){var n=[],r=[];return t.forEach((function(t,i){var s=!!t.scopeParent,o=s?t.scopeParent:t,a=function(e,t){var n=px(e);return n<0&&t&&!hx(e)?0:n}(o,s),A=s?e(t.candidates):o;0===a?s?n.push.apply(n,A):n.push(o):r.push({documentOrder:i,tabIndex:a,item:t,isScope:s,content:A})})),r.sort(fx).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Sx=function(e,t){var n;return n=(t=t||{}).getShadowRoot?dx([e],t.includeContainer,{filter:bx.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Cx}):ux(e,t.includeContainer,bx.bind(null,t)),Bx(n)};function Ex(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function kx(e){return(null==e?void 0:e.ownerDocument)||document}var Ix="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;const Tx={...A}.useInsertionEffect||(e=>e());const xx=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Ux(e,t){const n=Sx(e,xx()),r=n.length;if(0===r)return;const i=function(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}(kx(e)),s=n.indexOf(i);return n[-1===s?1===t?0:r-1:s+t]}function Fx(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!function(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&So(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}(n,r)}function Qx(e){Sx(e,xx()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function _x(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const Rx="ArrowLeft",Px="ArrowRight",Nx="ArrowUp",Ox="ArrowDown";const Lx=[Rx,Px],Dx=[Nx,Ox],Hx={...A};let Mx=!1,jx=0;const Kx=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jx++;const Vx=Hx.useId||function(){const[e,t]=a.useState((()=>Mx?Kx():void 0));return Ix((()=>{null==e&&t(Kx())}),[]),a.useEffect((()=>{Mx=!0}),[]),e};const qx=a.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:s}},width:o=14,height:A=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:u,stroke:d,d:h,style:{transform:p,...f}={},...g}=e;const m=Vx(),[w,y]=a.useState(!1);if(Ix((()=>{if(!r)return;"rtl"===Fo(r).direction&&y(!0)}),[r]),!r)return null;const[v,b]=n.split("-"),C="top"===v||"bottom"===v;let B=u;(C&&null!=s&&s.x||!C&&null!=s&&s.y)&&(B=null);const S=2*l,E=S/2,k=o/2*(c/-8+1),I=A/2*c/4,T=!!h,x=B&&"end"===b?"bottom":"top";let U=B&&"end"===b?"right":"left";B&&w&&(U="end"===b?"left":"right");const F=null!=(null==i?void 0:i.x)?B||i.x:"",Q=null!=(null==i?void 0:i.y)?B||i.y:"",_=h||"M0,0 H"+o+" L"+(o-k)+","+(A-I)+" Q"+o/2+","+A+" "+k+","+(A-I)+" Z",R={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[v];return(0,_e.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:T?o:o+S,height:o,viewBox:"0 0 "+o+" "+(A>o?A:o),style:{position:"absolute",pointerEvents:"none",[U]:F,[x]:Q,[v]:C||T?"100%":"calc(100% - "+S/2+"px)",transform:[R,p].filter((e=>!!e)).join(" "),...f},children:[S>0&&(0,_e.jsx)("path",{clipPath:"url(#"+m+")",fill:"none",stroke:d,strokeWidth:S+(h?0:1),d:_}),(0,_e.jsx)("path",{stroke:S&&!h?g.fill:"none",d:_}),(0,_e.jsx)("clipPath",{id:m,children:(0,_e.jsx)("rect",{x:-E,y:E*(T?-1:1),width:o+S,height:o})})]})}));function Gx(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const $x=a.createContext(null),Wx=a.createContext(null),zx=()=>{var e;return(null==(e=a.useContext($x))?void 0:e.id)||null},Jx=()=>a.useContext(Wx);function Yx(e){return"data-floating-ui-"+e}const Xx={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Zx=a.forwardRef((function(e,t){const[n,r]=a.useState();Ix((()=>{/apple/i.test(navigator.vendor)&&r("button")}),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[Yx("focus-guard")]:"",style:Xx};return(0,_e.jsx)("span",{...e,...i})})),eU=a.createContext(null),tU=Yx("portal");function nU(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,s=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=Vx(),i=rU(),[s,o]=a.useState(null),A=a.useRef(null);return Ix((()=>()=>{null==s||s.remove(),queueMicrotask((()=>{A.current=null}))}),[s]),Ix((()=>{if(!r)return;if(A.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(tU,""),e.appendChild(n),A.current=n,o(n)}),[t,r]),Ix((()=>{if(null===n)return;if(!r)return;if(A.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!Co(e)&&(e=e.current),e=e||document.body;let s=null;t&&(s=document.createElement("div"),s.id=t,e.appendChild(s));const a=document.createElement("div");a.id=r,a.setAttribute(tU,""),e=s||e,e.appendChild(a),A.current=a,o(a)}),[t,n,r,i]),s}({id:n,root:r}),[o,A]=a.useState(null),c=a.useRef(null),l=a.useRef(null),u=a.useRef(null),d=a.useRef(null),h=null==o?void 0:o.modal,p=null==o?void 0:o.open,f=!!o&&!o.modal&&o.open&&i&&!(!r&&!s);return a.useEffect((()=>{if(s&&i&&!h)return s.addEventListener("focusin",e,!0),s.addEventListener("focusout",e,!0),()=>{s.removeEventListener("focusin",e,!0),s.removeEventListener("focusout",e,!0)};function e(e){if(s&&Fx(e)){("focusin"===e.type?_x:Qx)(s)}}}),[s,i,h]),a.useEffect((()=>{s&&(p||_x(s))}),[p,s]),(0,_e.jsxs)(eU.Provider,{value:a.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:l,beforeInsideRef:u,afterInsideRef:d,portalNode:s,setFocusManagerState:A})),[i,s]),children:[f&&s&&(0,_e.jsx)(Zx,{"data-type":"outside",ref:c,onFocus:e=>{if(Fx(e,s)){var t;null==(t=u.current)||t.focus()}else{const e=o?o.domReference:null,t=Ux(kx(n=e).body,-1)||n;null==t||t.focus()}var n}}),f&&s&&(0,_e.jsx)("span",{"aria-owns":s.id,style:Xx}),s&&Je.createPortal(t,s),f&&s&&(0,_e.jsx)(Zx,{"data-type":"outside",ref:l,onFocus:e=>{if(Fx(e,s)){var t;null==(t=d.current)||t.focus()}else{const t=o?o.domReference:null,r=Ux(kx(n=t).body,1)||n;null==r||r.focus(),(null==o?void 0:o.closeOnFocusOut)&&(null==o||o.onOpenChange(!1,e.nativeEvent,"focus-out"))}var n}})]})}const rU=()=>a.useContext(eU);let iU=0;let sU=()=>{};const oU=a.forwardRef((function(e,t){const{lockScroll:n=!1,...r}=e;return Ix((()=>{if(n)return iU++,1===iU&&(sU=function(){const e=/iP(hone|ad|od)|iOS/.test(Ex()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,i=t.left?parseFloat(t.left):window.scrollX,s=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var o,a;const e=(null==(o=window.visualViewport)?void 0:o.offsetLeft)||0,n=(null==(a=window.visualViewport)?void 0:a.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(s-Math.floor(n))+"px",left:-(i-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(i,s))}}()),()=>{iU--,0===iU&&sU()}}),[n]),(0,_e.jsx)("div",{ref:t,...r,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}})}));function aU(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Vx(),s=a.useRef({}),[o]=a.useState((()=>Gx())),A=null!=zx();const[c,l]=a.useState(r.reference),u=function(e){const t=a.useRef((()=>{}));return Tx((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}(((e,t,r)=>{s.current.openEvent=e?t:void 0,o.emit("openchange",{open:e,event:t,reason:r,nested:A}),null==n||n(e,t,r)})),d=a.useMemo((()=>({setPositionReference:l})),[]),h=a.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return a.useMemo((()=>({dataRef:s,open:t,onOpenChange:u,elements:h,events:o,floatingId:i,refs:d})),[t,u,h,o,i,d])}const AU=e=>{let{participant:t,trackType:n="audioTrack",...r}=e;const i=RT(),[s,o]=(0,a.useState)(null),{userId:A,sessionId:c}=t;return(0,a.useEffect)((()=>{if(!i||!s)return;const e=i.bindAudioElement(s,c,n);return()=>{e?.()}}),[i,c,s,n]),(0,_e.jsx)("audio",{autoPlay:!0,...r,ref:o,"data-user-id":A,"data-session-id":c,"data-track-type":n})};AU.displayName="Audio";const cU=e=>{const{participants:t,audioProps:n}=e;return(0,_e.jsx)(_e.Fragment,{children:t.map((e=>{if(e.isLocalParticipant)return null;const{audioStream:t,screenShareAudioStream:r,sessionId:i}=e,s=dE(e)&&t&&(0,_e.jsx)(AU,{...n,trackType:"audioTrack",participant:e}),o=pE(e)&&r&&(0,_e.jsx)(AU,{...n,trackType:"screenShareAudioTrack",participant:e});return(0,_e.jsxs)(a.Fragment,{children:[s,o]},i)}))})};cU.displayName="ParticipantsAudio";const lU=(0,a.createContext)(void 0),uU=()=>(0,a.useContext)(lU),dU=e=>{let{middleware:t=[],placement:n,strategy:r,offset:i=10}=e;const{refs:s,x:o,y:A,update:c,elements:{domReference:l,floating:u},context:d}=function(e){void 0===e&&(e={});const{nodeId:t}=e,n=aU({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[s,o]=a.useState(null),[A,c]=a.useState(null),l=(null==i?void 0:i.domReference)||s,u=a.useRef(null),d=Jx();Ix((()=>{l&&(u.current=l)}),[l]);const h=ha({...e,elements:{...i,...A&&{reference:A}}}),p=a.useCallback((e=>{const t=Co(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),h.refs.setReference(t)}),[h.refs]),f=a.useCallback((e=>{(Co(e)||null===e)&&(u.current=e,o(e)),(Co(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!Co(e))&&h.refs.setReference(e)}),[h.refs]),g=a.useMemo((()=>({...h.refs,setReference:f,setPositionReference:p,domReference:u})),[h.refs,f,p]),m=a.useMemo((()=>({...h.elements,domReference:l})),[h.elements,l]),w=a.useMemo((()=>({...h,...r,refs:g,elements:m,nodeId:t})),[h,g,m,t,r]);return Ix((()=>{r.dataRef.current.floatingContext=w;const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===t));e&&(e.context=w)})),a.useMemo((()=>({...h,context:w,refs:g,elements:m})),[h,g,m,w])}({placement:n,strategy:r,middleware:[fa(i),ga(),wa(),ya({padding:10,apply:e=>{let{availableHeight:t,elements:n}=e;Object.assign(n.floating.style,{maxHeight:`${t}px`})}}),...t]});return(0,a.useEffect)((()=>{if(!l||!u)return;const e=Zo(l,u,c);return()=>e()}),[l,u,c]),{refs:s,x:o,y:A,domReference:l,floating:u,strategy:r,context:d}};var hU;!function(e){e.PORTAL="portal",e.MENU="menu"}(hU||(hU={}));const pU=(0,a.createContext)({}),fU=()=>(0,a.useContext)(pU),gU=e=>{let{children:t,refs:n}=e;const r=(0,a.useMemo)((()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`),[]);return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("div",{id:r,className:"str-video__portal"}),(0,_e.jsx)(oU,{children:(0,_e.jsx)(nU,{id:r,children:(0,_e.jsx)("div",{className:"str-video__portal-content",ref:n.setFloating,children:t})})})]})},mU=e=>{let{ToggleButton:t,placement:n="top-start",strategy:r="absolute",offset:i,visualType:s=hU.MENU,children:o,onToggle:A}=e;const[c,l]=(0,a.useState)(!1),u=(0,a.useRef)(A);u.current=A;const{floating:d,domReference:h,refs:p,x:f,y:g}=dU({placement:n,strategy:r,offset:i});return(0,a.useEffect)((()=>{const e=h?.ownerDocument,t=e=>{!d&&h?.contains(e.target)?(l(!0),u.current?.(!0)):d&&!d?.contains(e.target)&&(l(!1),u.current?.(!1))},n=e=>{!e.key||"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||(l(!1),u.current?.(!1))};return e?.addEventListener("click",t,{capture:!0}),e?.addEventListener("keydown",n),()=>{e?.removeEventListener("click",t,{capture:!0}),e?.removeEventListener("keydown",n)}}),[d,h]),(0,_e.jsxs)(_e.Fragment,{children:[c&&(0,_e.jsx)(pU.Provider,{value:{close:()=>l(!1)},children:s===hU.PORTAL?(0,_e.jsx)(gU,{refs:p,children:o}):s===hU.MENU?(0,_e.jsx)("div",{className:"str-video__menu-container",ref:p.setFloating,style:{position:r,top:g??0,left:f??0,overflowY:"auto"},role:"menu",children:o}):null}),(0,_e.jsx)(t,{menuShown:c,ref:p.setReference})]})},wU=e=>{let{children:t,onItemClick:n}=e;const r=(0,a.useRef)(null);return(0,_e.jsx)("ul",{className:"str-video__generic-menu",ref:r,onClick:e=>{n&&e.target!==r.current&&r.current?.contains(e.target)&&n(e)},children:t})},yU=e=>{let{children:t,...n}=e;return(0,_e.jsx)("li",{className:"str-video__generic-menu--item",children:(0,_e.jsx)("button",{...n,children:t})})},vU=e=>{let{className:t,icon:n}=e;return(0,_e.jsx)("span",{className:Tn("str-video__icon",n&&`str-video__icon--${n}`,t)})};function bU(e){const[t,n]=(0,a.useState)(document.pictureInPictureElement===e);return!e&&t&&n(!1),(0,a.useEffect)((()=>{if(!e)return;const t=()=>{n(document.pictureInPictureElement===e)};return e.addEventListener("enterpictureinpicture",t),e.addEventListener("leavepictureinpicture",t),()=>{e.removeEventListener("enterpictureinpicture",t),e.removeEventListener("leavepictureinpicture",t)}}),[e]),t}const CU=()=>{const{participant:e,participantViewElement:t,videoElement:n}=uU(),[r,i]=(0,a.useState)(!!document.fullscreenElement),s=RT(),o=bU(n??void 0),{t:A}=qT(),{pin:c,sessionId:l,userId:u}=e,d=dE(e),h=uE(e),p=hE(e),f=pE(e),g=e=>()=>{s?.updateUserPermissions({user_id:u,grant_permissions:[e]})},m=e=>()=>{s?.updateUserPermissions({user_id:u,revoke_permissions:[e]})};(0,a.useEffect)((()=>{const e=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]);const{close:w}=fU()||{};return(0,_e.jsxs)(wU,{onItemClick:w,children:[(0,_e.jsxs)(yU,{onClick:()=>{c?s?.unpin(l):s?.pin(l)},disabled:c&&!c.isLocalPin,children:[(0,_e.jsx)(vU,{icon:"pin"}),A(c?"Unpin":"Pin")]}),(0,_e.jsxs)(ix,{requiredGrants:[bC],children:[(0,_e.jsxs)(yU,{onClick:()=>{s?.pinForEveryone({user_id:u,session_id:l}).catch((e=>{console.error(`Failed to pin participant ${u}`,e)}))},disabled:c&&!c.isLocalPin,children:[(0,_e.jsx)(vU,{icon:"pin"}),A("Pin for everyone")]}),(0,_e.jsxs)(yU,{onClick:()=>{s?.unpinForEveryone({user_id:u,session_id:l}).catch((e=>{console.error(`Failed to unpin participant ${u}`,e)}))},disabled:!c||c.isLocalPin,children:[(0,_e.jsx)(vU,{icon:"pin"}),A("Unpin for everyone")]})]}),(0,_e.jsx)(ix,{requiredGrants:[mC],children:(0,_e.jsxs)(yU,{onClick:()=>s?.blockUser(u),children:[(0,_e.jsx)(vU,{icon:"not-allowed"}),A("Block")]})}),(0,_e.jsxs)(ix,{requiredGrants:[vC],children:[h&&(0,_e.jsxs)(yU,{onClick:()=>s?.muteUser(u,"video"),children:[(0,_e.jsx)(vU,{icon:"camera-off-outline"}),A("Turn off video")]}),p&&(0,_e.jsxs)(yU,{onClick:()=>s?.muteUser(u,"screenshare"),children:[(0,_e.jsx)(vU,{icon:"screen-share-off"}),A("Turn off screen share")]}),d&&(0,_e.jsxs)(yU,{onClick:()=>s?.muteUser(u,"audio"),children:[(0,_e.jsx)(vU,{icon:"no-audio"}),A("Mute audio")]}),f&&(0,_e.jsxs)(yU,{onClick:()=>s?.muteUser(u,"screenshare_audio"),children:[(0,_e.jsx)(vU,{icon:"no-audio"}),A("Mute screen share audio")]})]}),t&&"undefined"!==typeof t.requestFullscreen&&(0,_e.jsx)(yU,{onClick:()=>r?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:A("{{ direction }} fullscreen",{direction:A(r?"Leave":"Enter")})}),n&&document.pictureInPictureEnabled&&(0,_e.jsx)(yU,{onClick:()=>n&&!o?n.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:A("{{ direction }} picture-in-picture",{direction:A(o?"Leave":"Enter")})}),(0,_e.jsxs)(ix,{requiredGrants:[EC],children:[(0,_e.jsx)(yU,{onClick:g(BC),children:A("Allow audio")}),(0,_e.jsx)(yU,{onClick:g(SC),children:A("Allow video")}),(0,_e.jsx)(yU,{onClick:g(CC),children:A("Allow screen sharing")}),(0,_e.jsx)(yU,{onClick:m(BC),children:A("Disable audio")}),(0,_e.jsx)(yU,{onClick:m(SC),children:A("Disable video")}),(0,_e.jsx)(yU,{onClick:m(CC),children:A("Disable screen sharing")})]})]})},BU=e=>null!==e&&!(0,a.isValidElement)(e),SU=(e,t)=>{if(e)return"function"===typeof e?e(t):void(e.current=t)},EU=((0,a.forwardRef)((function(e,t){let{stream:n,...r}=e;const[i,s]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(i&&n&&n!==i.srcObject)return i.srcObject=n,(OE.isSafari()||OE.isFirefox())&&setTimeout((()=>{i.srcObject=n,i.play().catch((e=>{console.error("Failed to play stream",e)}))}),0),()=>{i.pause(),i.srcObject=null}}),[n,i]),(0,_e.jsx)("video",{autoPlay:!0,playsInline:!0,...r,ref:e=>{SU(t,e),s(e)}})})),(0,a.forwardRef)((function(e,t){let{participant:n,style:r,children:i}=e;const[s,o]=(0,a.useState)(!1),A=n.name||n.userId;return(0,_e.jsxs)("div",{className:"str-video__video-placeholder",style:r,ref:t,children:[(!n.image||s)&&(A?(0,_e.jsx)(kU,{name:A}):(0,_e.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:i})),n.image&&!s&&(0,_e.jsx)("img",{onError:()=>o(!0),alt:A,className:"str-video__video-placeholder__avatar",src:n.image})]})}))),kU=e=>{const{name:t}=e,n=t.split(" ").slice(0,2).map((e=>e[0])).join("");return(0,_e.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:n})},IU=(0,a.forwardRef)((function(e,t){const{t:n}=qT();return(0,_e.jsx)(EU,{ref:t,...e,children:n("Video is disabled")})})),TU=(0,a.forwardRef)((function(e,t){const{t:n}=qT();return(0,_e.jsx)(EU,{ref:t,...e,children:n("Video is playing in a popup")})})),xU=e=>{let{enabled:t=!0,mirror:n,trackType:r,participant:i,className:s,VideoPlaceholder:o=IU,PictureInPicturePlaceholder:A=TU,refs:c,...l}=e;const{sessionId:u,videoStream:d,screenShareStream:h,viewportVisibilityState:p,isLocalParticipant:f,userId:g}=i,m=RT(),[w,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(!0),[C,B]=(0,a.useState)(!0),S=bU(w??void 0),E="videoTrack"===r?d:"screenShareTrack"===r?h:void 0;if((0,a.useLayoutEffect)((()=>{if(!m||!w||"none"===r)return;const e=m.bindVideoElement(w,u,r);return()=>{e?.()}}),[m,r,u,w]),(0,a.useEffect)((()=>{if(!E||!w)return;const[e]=E.getVideoTracks();if(!e)return;const t=()=>{b(w.paused);const{width:t=0,height:n=0}=e.getSettings();B(t>=n)};return b(w.paused),w.addEventListener("play",t),w.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{w.removeEventListener("play",t),w.removeEventListener("pause",t),e.removeEventListener("unmute",t),b(!0)}}),[E,w]),!m)return null;const k="videoTrack"===r?uE(i):"screenShareTrack"===r&&hE(i),I="none"===r||p?.[r]===mS.INVISIBLE,T=!t||!k||I,x=void 0===n?f&&"videoTrack"===r:n,U="screenShareTrack"===r;return(0,_e.jsxs)(_e.Fragment,{children:[!T&&(0,_e.jsx)("video",{...l,className:Tn("str-video__video",s,{"str-video__video--not-playing":v,"str-video__video--tall":!C,"str-video__video--mirror":x,"str-video__video--screen-share":U}),"data-user-id":g,"data-session-id":u,ref:e=>{y(e),c?.setVideoElement?.(e)}}),S&&A&&(0,_e.jsx)(A,{style:{position:"absolute"},participant:i}),(T||v)&&o&&(0,_e.jsx)(o,{style:{position:"absolute"},participant:i,ref:c?.setVideoPlaceholderElement})]})};xU.displayName="Video";(0,a.createContext)(void 0);const UU=(0,a.forwardRef)((function(e,t){const{icon:n,enabled:r,variant:i,onClick:s,className:o,...a}=e;return(0,_e.jsx)("button",{className:Tn("str-video__call-controls__button",o,{[`str-video__call-controls__button--variant-${i}`]:i,"str-video__call-controls__button--enabled":r}),onClick:e=>{e.preventDefault(),s?.(e)},ref:t,...a,children:(0,_e.jsx)(vU,{icon:n})})})),FU=(0,a.forwardRef)((function(e,t){let{disabled:n,caption:r,children:i,className:s,active:o,Menu:a,menuPlacement:A,menuOffset:c,title:l,ToggleMenuButton:u=QU,variant:d,onClick:h,onMenuToggle:p,...f}=e;return(0,_e.jsxs)("div",{className:Tn("str-video__composite-button",s,{"str-video__composite-button--caption":r,"str-video__composite-button--menu":a}),title:l,ref:t,children:[(0,_e.jsxs)("div",{className:Tn("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":o,"str-video__composite-button__button-group--active-primary":o&&"primary"===d,"str-video__composite-button__button-group--active-secondary":o&&"secondary"===d,"str-video__composite-button__button-group--disabled":n}),children:[(0,_e.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),h?.(e)},disabled:n,...f,children:i}),a&&(0,_e.jsx)(mU,{offset:c,placement:A,ToggleButton:u,onToggle:p,children:BU(a)?(0,_e.jsx)(a,{}):a})]}),r&&(0,_e.jsx)("div",{className:"str-video__composite-button__caption",children:r})]})})),QU=(0,a.forwardRef)((function(e,t){let{menuShown:n}=e;return(0,_e.jsx)(UU,{className:Tn("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":n}),icon:n?"caret-down":"caret-up",ref:t})})),_U=e=>{const{isVisible:t,message:n,children:r,visibilityTimeout:i,resetIsVisible:s,placement:o="top",iconClassName:A="str-video__notification__icon",close:c}=e,{refs:l,x:u,y:d,strategy:h}=dU({placement:o,strategy:"absolute"});return(0,a.useEffect)((()=>{if(!t||!i||!s)return;const e=setTimeout((()=>{s()}),i);return()=>clearTimeout(e)}),[t,s,i]),(0,_e.jsxs)("div",{ref:l.setReference,children:[t&&(0,_e.jsxs)("div",{className:"str-video__notification",ref:l.setFloating,style:{position:h,top:d??0,left:u??0,overflowY:"auto"},children:[A&&(0,_e.jsx)("i",{className:A}),(0,_e.jsx)("span",{className:"str-video__notification__message",children:n}),c?(0,_e.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:c}):null]}),r]})},RU=e=>{let{children:t,referenceElement:n,tooltipClassName:r,tooltipPlacement:i="top",visible:s=!1}=e;const o=(0,a.useRef)(null),{refs:A,x:c,y:l,strategy:u,context:d}=dU({placement:i,strategy:"absolute",middleware:[ba({element:o})]});return(0,a.useEffect)((()=>{A.setReference(n)}),[n,A]),s?(0,_e.jsxs)("div",{className:Tn("str-video__tooltip",r),ref:A.setFloating,style:{position:u,top:l??0,left:c??0},children:[(0,_e.jsx)(qx,{ref:o,context:d,fill:"var(--str-video__tooltip--background-color)"}),t]}):null},PU=e=>{let{title:t,tooltipClassName:n,tooltipPlacement:r,tooltipDisabled:i,...s}=e;const{handleMouseEnter:o,handleMouseLeave:A,tooltipVisible:c}=function(){let{onMouseEnter:e,onMouseLeave:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=(0,a.useState)(!1);return{handleMouseEnter:(0,a.useCallback)((t=>{r(!0),e?.(t)}),[e]),handleMouseLeave:(0,a.useCallback)((e=>{r(!1),t?.(e)}),[t]),tooltipVisible:n}}(),[l,u]=(0,a.useState)(null),d=!i&&Boolean(t)&&c;return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(RU,{referenceElement:l,visible:d,tooltipClassName:n,tooltipPlacement:r,children:t||""}),(0,_e.jsx)("div",{ref:u,onMouseEnter:o,onMouseLeave:A,...s})]})},NU=((0,a.forwardRef)((function(e,t){return(0,_e.jsx)(FU,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,_e.jsx)(vU,{icon:"recording-off"})})})),{":like:":"\ud83d\udc4d",":raise-hand:":"\u270b",":fireworks:":"\ud83c\udf89",":dislike:":"\ud83d\udc4e",":heart:":"\u2764\ufe0f",":smile:":"\ud83d\ude00"}),OU=e=>{let{participant:{reaction:t,sessionId:n},hideAfterTimeoutInMs:r=5500,emojiReactionMap:i=NU}=e;const s=RT();if((0,a.useEffect)((()=>{if(!s||!t)return;const e=setTimeout((()=>{s.resetReaction(n)}),r);return()=>{clearTimeout(e)}}),[s,r,t,n]),!t)return null;const{emoji_code:o}=t;return(0,_e.jsx)("div",{className:"str-video__reaction",children:(0,_e.jsx)("span",{className:"str-video__reaction__emoji",children:o&&i[o]})})};(0,a.forwardRef)((function(e,t){let{menuShown:n}=e;const{t:r}=qT();return(0,_e.jsx)(PU,{title:r("Reactions"),tooltipDisabled:n,children:(0,_e.jsx)(FU,{ref:t,active:n,variant:"primary",children:(0,_e.jsx)(vU,{icon:"reactions"})})})}));(0,a.createContext)({}),(0,a.forwardRef)((function(e,t){let{menuShown:n}=e;const{t:r}=qT();return(0,_e.jsx)(UU,{className:Tn("str-video__device-settings__button",{"str-video__device-settings__button--active":n}),title:r("Toggle device menu"),icon:"device-settings",ref:t})})),(0,a.forwardRef)((function(e,t){let{menuShown:n}=e;const{t:r}=qT();return(0,_e.jsx)(PU,{title:r("Leave call"),tooltipDisabled:n,children:(0,_e.jsx)(UU,{icon:n?"close":"call-end",variant:n?"active":"danger","data-testid":"leave-call-button",ref:t})})})),(0,a.lazy)((()=>n.e(55).then(n.bind(n,55))));var LU;!function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(LU||(LU={}));(0,a.forwardRef)((function(e,t){const{t:n}=qT(),{caption:r,menuShown:i}=e;return(0,_e.jsx)(FU,{ref:t,active:i,caption:r,title:r||n("Statistics"),"data-testid":"stats-button",children:(0,_e.jsx)(vU,{icon:"stats"})})})),(0,a.forwardRef)((function(e,t){return(0,_e.jsx)(UU,{enabled:e.menuShown,icon:"ellipsis",ref:t})}));(0,a.forwardRef)((function(e,t){return(0,_e.jsx)(UU,{enabled:e.menuShown,icon:"filter",ref:t})})),(0,a.createContext)(null),sE.JOINING,sE.RINGING,sE.MIGRATING,sE.RECONNECTING,sE.RECONNECTING_FAILED,sE.OFFLINE,sE.IDLE,sE.UNKNOWN,sE.JOINED,sE.LEFT,(0,a.forwardRef)((function(e,t){const{permissionRequests:n,handleUpdatePermission:r,...i}=e,{t:s}=qT();return(0,_e.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...i,children:n.map(((e,t)=>{const{user:n,permissions:i}=e;return(0,_e.jsx)(a.Fragment,{children:i.map((t=>(0,_e.jsxs)("div",{className:"str-video__permission-request",children:[(0,_e.jsx)("div",{className:"str-video__permission-request__message",children:HU(n.name||n.id,t,s)}),(0,_e.jsx)(DU,{className:"str-video__permission-request__button--allow",type:"button",onClick:r(e,"grant"),children:s("Allow")}),(0,_e.jsx)(DU,{className:"str-video__permission-request__button--reject",type:"button",onClick:r(e,"revoke"),children:s("Revoke")}),(0,_e.jsx)(DU,{className:"str-video__permission-request__button--reject",type:"button",onClick:r(e,"dismiss"),children:s("Dismiss")})]},t)))},`${n.id}/${t}`)}))})}));const DU=e=>{const{className:t,...n}=e;return(0,_e.jsx)("button",{className:Tn("str-video__permission-request__button",t),...n})},HU=(e,t,n)=>{switch(t){case BC:return n("{{ userName }} is requesting to speak",{userName:e});case SC:return n("{{ userName }} is requesting to share their camera",{userName:e});case CC:return n("{{ userName }} is requesting to present their screen",{userName:e});default:return n("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},MU=(0,a.forwardRef)((function(e,t){return(0,_e.jsx)(UU,{enabled:e.menuShown,icon:"ellipsis",ref:t})})),jU=()=>{const e=RT(),{t:t}=qT();return(0,_e.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,_e.jsx)(vU,{icon:"screen-share-off"}),(0,_e.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,_e.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,_e.jsx)(vU,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},KU=e=>{let{indicatorsVisible:t=!0,menuPlacement:n="bottom-start",showMenuButton:r=!0,ParticipantActionsContextMenu:i=CU}=e;const{participant:s,trackType:o}=uU(),a=hE(s);return s.isLocalParticipant&&a&&"screenShareTrack"===o?(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)(jU,{}),(0,_e.jsx)(VU,{indicatorsVisible:t})]}):(0,_e.jsxs)(_e.Fragment,{children:[r&&(0,_e.jsx)(mU,{strategy:"fixed",placement:n,ToggleButton:MU,children:(0,_e.jsx)(i,{})}),(0,_e.jsx)(OU,{participant:s}),(0,_e.jsx)(VU,{indicatorsVisible:t})]})},VU=e=>{let{indicatorsVisible:t=!0}=e;const{participant:n}=uU(),{isLocalParticipant:r,connectionQuality:i,pin:s,sessionId:o,name:a,userId:A}=n,c=RT(),{t:l}=qT(),u=!!i&&fB.ConnectionQuality[i].toLowerCase(),d=dE(n),h=uE(n),p=!!s&&s.isLocalPin;return(0,_e.jsxs)(_e.Fragment,{children:[(0,_e.jsx)("div",{className:"str-video__participant-details",children:(0,_e.jsxs)("span",{className:"str-video__participant-details__name",children:[a||A,t&&!d&&(0,_e.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),t&&!h&&(0,_e.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),t&&p&&(0,_e.jsx)("span",{title:l("Unpin"),onClick:()=>c?.unpin(o),className:"str-video__participant-details__name--pinned"}),t&&(0,_e.jsx)(qU,{})]})}),t&&(0,_e.jsx)(_U,{isVisible:r&&i===fB.ConnectionQuality.POOR,message:l("Poor connection quality"),children:u&&(0,_e.jsx)("span",{className:Tn("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${u}`),title:u})})]})},qU=()=>{const{participant:e}=uU(),{isSpeaking:t,isDominantSpeaker:n}=e;return(0,_e.jsxs)("span",{className:Tn("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",n&&"str-video__speech-indicator--dominant"),children:[(0,_e.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,_e.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,_e.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},GU=(0,a.forwardRef)((function(e,t){let{participant:n,trackType:r="videoTrack",mirror:i,muteAudio:s,refs:{setVideoElement:o,setVideoPlaceholderElement:A}={},className:c,VideoPlaceholder:l,PictureInPicturePlaceholder:u,ParticipantViewUI:d=KU}=e;const{isLocalParticipant:h,isSpeaking:p,isDominantSpeaker:f,sessionId:g}=n,m=dE(n),w=uE(n),y=pE(n),[v,b]=(0,a.useState)(null),[C,B]=(0,a.useState)(null),[S,E]=(0,a.useState)(null);(e=>{let{trackedElement:t,dynascaleManager:n,sessionId:r,trackType:i}=e;const s=RT(),o=n??s?.dynascaleManager;(0,a.useEffect)((()=>{if(!t||!o||!s||"none"===i)return;const e=o.trackElementVisibility(t,r,i);return()=>{e()}}),[t,o,s,r,i])})({sessionId:g,trackedElement:v,trackType:r});const{useIncomingVideoSettings:k}=rx(),{isParticipantVideoEnabled:I}=k(),T=(0,a.useMemo)((()=>({participant:n,participantViewElement:v,videoElement:C,videoPlaceholderElement:S,trackType:r})),[C,S,n,v,r]),x=(0,a.useMemo)((()=>({setVideoElement:e=>{o?.(e),B(e)},setVideoPlaceholderElement:e=>{A?.(e),E(e)}})),[o,A]);return(0,_e.jsx)("div",{"data-testid":"participant-view",ref:e=>{SU(t,e),b(e)},className:Tn("str-video__participant-view",f&&"str-video__participant-view--dominant-speaker",p&&"str-video__participant-view--speaking",!w&&"str-video__participant-view--no-video",!m&&"str-video__participant-view--no-audio",c),children:(0,_e.jsxs)(lU.Provider,{value:T,children:[!h&&!s&&(0,_e.jsxs)(_e.Fragment,{children:[m&&(0,_e.jsx)(AU,{participant:n,trackType:"audioTrack"}),y&&(0,_e.jsx)(AU,{participant:n,trackType:"screenShareAudioTrack"})]}),(0,_e.jsx)(xU,{VideoPlaceholder:l,PictureInPicturePlaceholder:u,participant:n,trackType:r,refs:x,enabled:h||"videoTrack"!==r||I(n.sessionId),mirror:i,autoPlay:!0}),BU(d)?(0,_e.jsx)(d,{}):d]})})}));GU.displayName="ParticipantView";const $U=e=>{const{call:t,children:n}=e;return(0,_e.jsx)(_T.Provider,{value:t,children:n})};$U.displayName="StreamCall";function WU(e,t){return"$and"in t?t.$and.every((t=>WU(e,t))):"$or"in t?t.$or.some((t=>WU(e,t))):"$not"in t?!WU(e,t.$not):function(e,t){let n=!0;for(const r of Object.keys(t)){const i=t[r],s=i&&"object"===typeof i,o=e[r];if(s&&"$eq"in i){n&&(n=i.$eq===o)}else if(s&&"$neq"in i){n&&(n=i.$neq!==o)}else if(s&&"$in"in i){n&&(n=i.$in.includes(o))}else if(s&&"$contains"in i)if(Array.isArray(o)){const e=i;n&&(n=o.includes(e.$contains))}else n=!1;else{n&&(n=i===o)}if(!n)return!1}return!0}(e,t)}const zU=e=>{let{excludeLocalParticipant:t=!1,filterParticipants:n}=e;const{useParticipants:r,useRemoteParticipants:i}=rx(),s=r(),o=i();return(0,a.useMemo)((()=>{const e=t?o:s;return n?JU(e,n):e}),[s,o,t,n])},JU=(e,t)=>{const n="function"===typeof t?t:e=>{return WU({userId:e.userId,isSpeaking:e.isSpeaking,isDominantSpeaker:e.isDominantSpeaker,name:e.name,roles:e.roles,isPinned:(n=e,!!n.pin&&(n.pin.isLocalPin||n.pin.pinnedAt>0)),hasVideo:uE(e),hasAudio:dE(e)},t);var n};return e.filter(n)},YU=e=>{(0,a.useEffect)((()=>{if(e)return e.setSortParticipantsBy(IE),()=>{XU(e)}}),[e])},XU=e=>{const t=eI.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||EE)},ZU=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,eF=e=>{const{useParticipants:t,useRemoteParticipants:n,useHasOngoingScreenShare:r}=rx(),i=RT(),s=t(),[o]=s,a=n(),A=r(),c=A?s.find(hE):void 0;YU(i);const l=(0,_e.jsx)(tF,{showParticipantCount:e.showParticipantCount,showDuration:e.showDuration,showLiveBadge:e.showLiveBadge,showSpeakerName:e.showSpeakerName}),{floatingParticipantProps:u,muted:d}=e,h=A&&(0,_e.jsx)(tF,{showParticipantCount:u?.showParticipantCount??!1,showDuration:u?.showDuration??!1,showLiveBadge:u?.showLiveBadge??!1,showSpeakerName:u?.showSpeakerName??!0});return(0,_e.jsxs)("div",{className:"str-video__livestream-layout__wrapper",children:[!d&&(0,_e.jsx)(cU,{participants:a}),A&&c&&(0,_e.jsx)(GU,{className:"str-video__livestream-layout__screen-share",participant:c,ParticipantViewUI:l,trackType:"screenShareTrack",muteAudio:!0}),o&&(0,_e.jsx)(GU,{className:Tn(A&&Tn("str-video__livestream-layout__floating-participant",`str-video__livestream-layout__floating-participant--${u?.position??"top-right"}`)),participant:o,ParticipantViewUI:h||l,mirror:!1!==e.mirrorLocalParticipantVideo&&void 0,muteAudio:!0})]})},tF=e=>{const{enableFullScreen:t=!0,showParticipantCount:n=!0,showDuration:r=!0,showLiveBadge:i=!0,showSpeakerName:s=!1}=e,{participant:o}=uU(),{useParticipantCount:a}=rx(),A=a(),c=nF(),l=rF(),{t:u}=qT();return(0,_e.jsx)("div",{className:"str-video__livestream-layout__overlay",children:(0,_e.jsxs)("div",{className:"str-video__livestream-layout__overlay__bar",children:[i&&(0,_e.jsx)("span",{className:"str-video__livestream-layout__live-badge",children:u("Live")}),n&&(0,_e.jsx)("span",{className:"str-video__livestream-layout__viewers-count",children:A}),s&&(0,_e.jsx)("span",{className:"str-video__livestream-layout__speaker-name",title:o.name||o.userId||"",children:o.name||o.userId||""}),r&&(0,_e.jsx)("span",{className:"str-video__livestream-layout__duration",children:iF(c)}),t&&(0,_e.jsx)("span",{className:"str-video__livestream-layout__go-fullscreen",onClick:l})]})})};eF.displayName="LivestreamLayout";const nF=()=>{const{useIsCallLive:e,useCallSession:t}=rx(),n=e(),r=t(),[i,s]=(0,a.useState)((()=>{if(!r||!r.live_started_at)return 0;const e=new Date(r.live_started_at),t=new Date;return Math.floor((t.getTime()-e.getTime())/1e3)}));return(0,a.useEffect)((()=>{if(!n)return;const e=setInterval((()=>{s((e=>e+1))}),1e3);return()=>{clearInterval(e)}}),[n]),i},rF=()=>{const{participantViewElement:e}=uU(),[t,n]=(0,a.useState)(!1);return(0,a.useCallback)((()=>{t?document.exitFullscreen().then((()=>{n(!1)})):e?.requestFullscreen().then((()=>{n(!0)}))}),[t,e])},iF=e=>{const t=Math.floor(e/86400),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60;return`${t?t+" ":""}${n?n+":":""}${r<10?"0":""}${r}:${i<10?"0":""}${i}`},sF=16,oF=e=>{let{group:t,mirror:n,VideoPlaceholder:r,PictureInPicturePlaceholder:i,ParticipantViewUI:s}=e;return(0,_e.jsx)("div",{className:Tn("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===t.length,"str-video__paginated-grid-layout--two-four":t.length>=2&&t.length<=4,"str-video__paginated-grid-layout--five-nine":t.length>=5&&t.length<=9}),children:t.map((e=>(0,_e.jsx)(GU,{participant:e,muteAudio:!0,mirror:n,VideoPlaceholder:r,PictureInPicturePlaceholder:i,ParticipantViewUI:s},e.sessionId)))})};(e=>{const{groupSize:t=(e.groupSize||0)>0&&e.groupSize||sF,excludeLocalParticipant:n=!1,filterParticipants:r,mirrorLocalParticipantVideo:i=!0,pageArrowsVisible:s=!0,VideoPlaceholder:o,ParticipantViewUI:A=KU,PictureInPicturePlaceholder:c,muted:l}=e,[u,d]=(0,a.useState)(0),[h,p]=(0,a.useState)(null),f=RT(),{useRemoteParticipants:g}=rx(),m=g(),w=zU({excludeLocalParticipant:n,filterParticipants:r});YU(f),(0,a.useEffect)((()=>{if(!h||!f)return;const e=f.setViewport(h);return()=>e()}),[h,f]);const y=(0,a.useMemo)((()=>((e,t)=>{const n=Math.ceil(e.length/t);return Array.from({length:n},((n,r)=>e.slice(t*r,t*r+t)))})(w,t)),[w,t]),v=y.length;(0,a.useEffect)((()=>{u>v-1&&d(Math.max(0,v-1))}),[u,v]);const b=y[u],C=!!i&&void 0;return f?(0,_e.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:p,children:[!l&&(0,_e.jsx)(cU,{participants:m}),(0,_e.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[s&&v>1&&(0,_e.jsx)(UU,{icon:"caret-left",disabled:0===u,onClick:()=>d((e=>Math.max(0,e-1)))}),b&&(0,_e.jsx)(oF,{group:b,mirror:C,VideoPlaceholder:o,ParticipantViewUI:A,PictureInPicturePlaceholder:c}),s&&v>1&&(0,_e.jsx)(UU,{disabled:u===v-1,icon:"caret-right",onClick:()=>d((e=>Math.min(v-1,e+1)))})]})]}):null}).displayName="PaginatedGridLayout";const aF=()=>(0,_e.jsx)(KU,{menuPlacement:"top-end"});(e=>{let{ParticipantViewUIBar:t=aF,ParticipantViewUISpotlight:n=KU,VideoPlaceholder:r,PictureInPicturePlaceholder:i,participantsBarPosition:s="bottom",participantsBarLimit:o,mirrorLocalParticipantVideo:A=!0,excludeLocalParticipant:c=!1,filterParticipants:l,pageArrowsVisible:u=!0,muted:d}=e;const h=RT(),{useParticipants:p,useRemoteParticipants:f}=rx(),g=p(),m=f(),[w,...y]=zU({excludeLocalParticipant:c,filterParticipants:l}),[v,b]=(0,a.useState)(null),[C,B]=(0,a.useState)(null),[S,E]=(0,a.useState)(null),k=w&&hE(w),I=((e,t,n)=>{const[r,i]=(0,a.useState)({vertical:"number"===typeof n?n:null,horizontal:"number"===typeof n?n:null});return(0,a.useEffect)((()=>{if(!t||!e||"number"===typeof n||"undefined"===typeof n)return;let r=null,s=null;const o=new ResizeObserver(((n,o)=>{if(n.length>1){const e=t.firstChild;e&&(s=e.clientHeight,r=e.clientWidth,o.unobserve(t))}if(null===s||null===r)return;const a=Math.floor(e.clientHeight/s),A=Math.floor(e.clientWidth/r);i((e=>e.vertical!==a||e.horizontal!==A?{vertical:a,horizontal:A}:e))}));return o.observe(e),o.observe(t),()=>{o.disconnect()}}),[t,n,e]),r})(S,C,o),T="left"===s||"right"===s,x="top"===s||"bottom"===s;(0,a.useEffect)((()=>{if(!v||!h)return;const e=h.setViewport(v);return()=>e()}),[v,h]);const U=2===g.length;((e,t)=>{(0,a.useEffect)((()=>{if(e)return t?e.setSortParticipantsBy(cE(mE,ZU)):e.setSortParticipantsBy(kE),()=>{XU(e)}}),[e,t])})(h,U);let F=y;const Q=T?I.vertical:I.horizontal;"undefined"!==typeof o&&null!==Q&&(F=y.slice(0,Q-(k?1:0)));const _=!!A&&void 0;if(!h)return null;const R=s&&(F.length>0||k);return(0,_e.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[!d&&(0,_e.jsx)(cU,{participants:m}),(0,_e.jsxs)("div",{className:Tn("str-video__speaker-layout",s&&`str-video__speaker-layout--variant-${s}`),children:[(0,_e.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:w&&(0,_e.jsx)(GU,{participant:w,muteAudio:!0,mirror:_,trackType:k?"screenShareTrack":"videoTrack",ParticipantViewUI:n,VideoPlaceholder:r,PictureInPicturePlaceholder:i})}),R&&(0,_e.jsxs)("div",{ref:E,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,_e.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:b,children:(0,_e.jsxs)("div",{ref:B,className:"str-video__speaker-layout__participants-bar",children:[k&&(0,_e.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,_e.jsx)(GU,{participant:w,ParticipantViewUI:t,VideoPlaceholder:r,PictureInPicturePlaceholder:i,mirror:_,muteAudio:!0})},w.sessionId),F.map((e=>(0,_e.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,_e.jsx)(GU,{participant:e,ParticipantViewUI:t,VideoPlaceholder:r,PictureInPicturePlaceholder:i,mirror:_,muteAudio:!0})},e.sessionId)))]})}),u&&T&&(0,_e.jsx)(cF,{scrollWrapper:v}),u&&x&&(0,_e.jsx)(AF,{scrollWrapper:v})]})]})]})}).displayName="SpeakerLayout";const AF=e=>{let{scrollWrapper:t}=e;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[n,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(!e)return;const n=()=>{const n=e;return n.scrollWidth>n.clientWidth?n.scrollLeft<=t?r("start"):Math.abs(n.scrollWidth-n.scrollLeft-n.clientWidth)<=t?r("end"):void r("between"):r(null)},i=new ResizeObserver(n);return i.observe(e),e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n),i.disconnect()}}),[e,t]),n}(t);return(0,_e.jsxs)(_e.Fragment,{children:[n&&"start"!==n&&(0,_e.jsx)(UU,{onClick:()=>{t?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),n&&"end"!==n&&(0,_e.jsx)(UU,{onClick:()=>{t?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},cF=e=>{let{scrollWrapper:t}=e;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[n,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(!e)return;const n=()=>{const n=e;return n.scrollHeight>n.clientHeight?n.scrollTop<=t?r("top"):Math.abs(n.scrollHeight-n.scrollTop-n.clientHeight)<=t?r("bottom"):void r("between"):r(null)},i=new ResizeObserver(n);return i.observe(e),e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n),i.disconnect()}}),[e,t]),n}(t);return(0,_e.jsxs)(_e.Fragment,{children:[n&&"top"!==n&&(0,_e.jsx)(UU,{onClick:()=>{t?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),n&&"bottom"!==n&&(0,_e.jsx)(UU,{onClick:()=>{t?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},lF=e=>{const{t:t}=qT(),{excludeLocalParticipant:n=!1,filterParticipants:r,mirrorLocalParticipantVideo:i=!0,VideoPlaceholder:s,ParticipantViewUI:o=KU}=e,[A,c]=(0,a.useState)(null),l=RT(),u=zU({excludeLocalParticipant:n,filterParticipants:r}),d=u.find((e=>hE(e)));YU(l),(0,a.useEffect)((()=>{if(A&&l)return l.setViewport(A)}),[A,l]);const h=!!i&&void 0;return l?(0,_e.jsxs)("div",{className:"str-video__pip-layout",ref:c,children:[d&&(d.isLocalParticipant?(0,_e.jsxs)("div",{className:"str-video__pip-screen-share-local",children:[(0,_e.jsx)(vU,{icon:"screen-share-off"}),(0,_e.jsx)("span",{className:"str-video__pip-screen-share-local__title",children:t("You are presenting your screen")})]}):(0,_e.jsx)(GU,{participant:d,trackType:"screenShareTrack",muteAudio:!0,mirror:!1,VideoPlaceholder:s,ParticipantViewUI:o})),u.map((e=>(0,_e.jsx)(GU,{participant:e,muteAudio:!0,mirror:h,VideoPlaceholder:s,ParticipantViewUI:o},e.sessionId)))]}):null};lF.displayName="PipLayout.Pip";const uF=()=>{const{useRemoteParticipants:e}=rx(),t=e();return(0,_e.jsx)(cU,{participants:t})};uF.displayName="PipLayout.Host";const[dF,hF,pF]="1.17.1".split(".");var fF;fF={type:fB.SdkType.REACT,major:dF,minor:hF,patch:pF},$E=fF;var gF=n(239),mF=n.n(gF);const wF=(()=>{const e=new Date;return`${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}-${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}`})(),yF=()=>{const e=RT(),{useLocalParticipant:t,useRemoteParticipants:n}=rx(),r=t(),i=n(),s=(0,a.useRef)(null),o=(0,a.useRef)(null),[A,c]=(0,a.useState)(!1),l=(0,a.useRef)(null),u=(0,a.useRef)([]),d=(0,a.useRef)(null),h=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,a.useRef)(0),g=e=>{const t=new MediaRecorder(e,{mimeType:"video/webm"});u.current=[],t.ondataavailable=async e=>{if(e.data.size>0){const t=new Blob([e.data],{type:"video/webm"}),n=new FormData,r=f.current++;n.append("chunk",t,`recording-${r}.webm`);try{await fetch(`https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net/upload-chunk/Guest-${wF}/${r}`,{method:"POST",body:n})}catch(uH){console.error("Upload error:",uH)}}},t.start(),l.current=t};return(0,_e.jsxs)("div",{className:"rounded-lg border bg-white shadow-sm w-full mt-6",children:[(0,_e.jsx)("div",{className:"bg-blue-600 p-4",children:(0,_e.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Call"})}),(0,_e.jsxs)("div",{ref:s,className:"flex justify-center p-6 video-container gap-4",children:[i.map((e=>(0,_e.jsx)(GU,{participant:e},e.sessionId))),r&&(0,_e.jsx)(GU,{participant:r})]}),(0,_e.jsx)("canvas",{ref:o,style:{display:"none"}}),(0,_e.jsxs)("div",{className:"text-center mb-4",children:[A?(0,_e.jsxs)("button",{onClick:()=>{var e,t;clearInterval(d.current),clearInterval(h.current),"recording"===(null===(e=l.current)||void 0===e?void 0:e.state)&&l.current.stop(),null===(t=p.current)||void 0===t||t.getTracks().forEach((e=>e.stop())),c(!1)},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 mr-2",children:[(0,_e.jsx)(Rd,{className:"inline-block mr-2"})," Stop Recording"]}):(0,_e.jsxs)("button",{onClick:async()=>{if(!s.current||!o.current)return;const{offsetWidth:e,offsetHeight:t}=s.current;o.current.width=e,o.current.height=t,h.current=setInterval((()=>{mF()(s.current).then((n=>{const r=o.current.getContext("2d");r.clearRect(0,0,e,t),r.drawImage(n,0,0,e,t)}))}),100);const n=o.current.captureStream(30),r=await navigator.mediaDevices.getUserMedia({audio:!0}),i=new MediaStream([...n.getVideoTracks(),...r.getAudioTracks()]);p.current=i,g(i),d.current=setInterval((()=>{var e;"recording"===(null===(e=l.current)||void 0===e?void 0:e.state)&&(l.current.stop(),g(i))}),5e3),c(!0)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 mr-2",children:[(0,_e.jsx)(Pd,{className:"inline-block mr-2"})," Start Recording"]}),(0,_e.jsxs)("button",{onClick:()=>e.leave(),className:"bg-red-500 text-white rounded-lg py-2 px-4 hover:bg-red-600 focus:outline-none",children:[(0,_e.jsx)(_d,{className:"inline-block mr-2"})," End Call"]})]})]})},vF=new jI({apiKey:"mmhfdzb5evj2",user:{id:"Yoda",name:"Guest User"},token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL3Byb250by5nZXRzdHJlYW0uaW8iLCJzdWIiOiJ1c2VyL1lvZGEiLCJ1c2VyX2lkIjoiWW9kYSIsInZhbGlkaXR5X2luX3NlY29uZHMiOjYwNDgwMCwiaWF0IjoxNzQ3NzkxNTA4LCJleHAiOjE3NDgzOTYzMDh9.Qr8axoKCbQT06x01cllnKE3mYNYqeYvUZReUhNkUeok"}),bF=()=>{const e=WT().call("default","R3JIvvak1W0W");return(0,a.useEffect)((()=>(e.join({create:!0}),()=>e.leave())),[e]),(0,_e.jsx)($U,{call:e,children:(0,_e.jsx)(yF,{})})},CF=()=>(0,_e.jsx)($T,{client:vF,children:(0,_e.jsx)(bF,{})});function BF(){const e=new URLSearchParams(window.location.search).get("role");return(0,_e.jsxs)("div",{className:"h-screen flex overflow-hidden",children:["patient"!==e&&(0,_e.jsx)(Lr,{}),(0,_e.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,_e.jsx)(ei,{}),(0,_e.jsx)("main",{className:"flex-1 overflow-y-auto bg-neutral-50 p-6",children:(0,_e.jsxs)(M,{children:[(0,_e.jsx)(L,{path:"/",component:Is}),(0,_e.jsx)(L,{path:"/appointments",component:_l}),(0,_e.jsx)(L,{path:"/video-call",component:Od}),(0,_e.jsx)(L,{path:"/patients",component:zl}),(0,_e.jsx)(L,{path:"/reports",component:Jl}),(0,_e.jsx)(L,{path:"/settings",component:Yl}),(0,_e.jsx)(L,{path:"/meeting-room",component:CF}),(0,_e.jsx)(L,{component:Xl})]})})]})]})}const SF=function(){const e=zf(),{instance:t,accounts:n}=Wf(),[r,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{t.acquireTokenSilent({...Zf,account:n[0]}).then((e=>{console.log(e.idTokenClaims),e.idTokenClaims.roles&&"SeismicDoctors"in e.idTokenClaims.roles&&i(!0)}))}),[e]),(0,_e.jsxs)("div",{className:"App",children:[r?(0,_e.jsx)(Jf,{children:"Sign is successful but you dont previlaged role to view this app. Try contacting your admin"}):(0,_e.jsx)(Jf,{children:(0,_e.jsxs)(Ne,{client:Qe,children:[(0,_e.jsx)(BF,{}),(0,_e.jsx)(xr,{})]})}),(0,_e.jsxs)(Yf,{children:[(0,_e.jsx)("h5",{className:"card-title",children:"Please sign-in to see your profile information."}),(0,_e.jsx)(tg,{})]})]})};var EF=n(285),kF=n.n(EF),IF=n(382);const TF="AAD",xF="OIDC",UF="EAR",FF="none",QF="client_info_decoding_error",_F="client_info_empty_error",RF="token_parsing_error",PF="null_or_empty_token",NF="endpoints_resolution_error",OF="network_error",LF="openid_config_error",DF="hash_not_deserialized",HF="invalid_state",MF="state_mismatch",jF="state_not_found",KF="nonce_mismatch",VF="auth_time_not_found",qF="max_age_transpired",GF="multiple_matching_tokens",$F="multiple_matching_accounts",WF="multiple_matching_appMetadata",zF="request_cannot_be_made",JF="cannot_remove_empty_scope",YF="cannot_append_scopeset",XF="empty_input_scopeset",ZF="device_code_polling_cancelled",eQ="device_code_expired",tQ="device_code_unknown_error",nQ="no_account_in_silent_request",rQ="invalid_cache_record",iQ="invalid_cache_environment",sQ="no_account_found",oQ="no_crypto_object",aQ="unexpected_credential_type",AQ="invalid_assertion",cQ="invalid_client_credential",lQ="token_refresh_required",uQ="user_timeout_reached",dQ="token_claims_cnf_required_for_signedjwt",hQ="authorization_code_missing_from_server_response",pQ="binding_key_not_removed",fQ="end_session_endpoint_not_supported",gQ="key_id_missing",mQ="no_network_connectivity",wQ="user_canceled",yQ="missing_tenant_id_error",vQ="method_not_implemented",bQ="nested_app_auth_bridge_disabled",CQ={[QF]:"The client info could not be parsed/decoded correctly",[_F]:"The client info was empty",[RF]:"Token cannot be parsed",[PF]:"The token is null or empty",[NF]:"Endpoints cannot be resolved",[OF]:"Network request failed",[LF]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[DF]:"The hash parameters could not be deserialized",[HF]:"State was not the expected format",[MF]:"State mismatch error",[jF]:"State not found",[KF]:"Nonce mismatch error",[VF]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[qF]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[GF]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[$F]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[WF]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[zF]:"Token request cannot be made without authorization code or refresh token.",[JF]:"Cannot remove null or empty scope from ScopeSet",[YF]:"Cannot append ScopeSet",[XF]:"Empty input ScopeSet cannot be processed",[ZF]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[eQ]:"Device code is expired.",[tQ]:"Device code stopped polling for unknown reasons.",[nQ]:"Please pass an account object, silent flow is not supported without account information",[rQ]:"Cache record object was null or undefined.",[iQ]:"Invalid environment when attempting to create cache entry",[sQ]:"No account found in cache for given key.",[oQ]:"No crypto object detected.",[aQ]:"Unexpected credential type.",[AQ]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[cQ]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[lQ]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[uQ]:"User defined timeout for device code polling reached",[dQ]:"Cannot generate a POP jwt if the token_claims are not populated",[hQ]:"Server response does not contain an authorization code to proceed",[pQ]:"Could not remove the credential's binding key from storage.",[fQ]:"The provided authority does not support logout",[gQ]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[mQ]:"No network connectivity. Check your internet connection.",[wQ]:"User cancelled the flow.",[yQ]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[vQ]:"This method has not been implemented",[bQ]:"The nested app auth bridge is disabled"};class BQ extends Yh{constructor(e,t){super(e,t?`${CQ[e]}: ${t}`:CQ[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,BQ.prototype)}}function SQ(e,t){return new BQ(e,t)}const EQ={createNewGuid:()=>{throw SQ(vQ)},base64Decode:()=>{throw SQ(vQ)},base64Encode:()=>{throw SQ(vQ)},base64UrlEncode:()=>{throw SQ(vQ)},encodeKid:()=>{throw SQ(vQ)},async getPublicKeyThumbprint(){throw SQ(vQ)},async removeTokenBindingKey(){throw SQ(vQ)},async clearKeystore(){throw SQ(vQ)},async signJwt(){throw SQ(vQ)},async hashString(){throw SQ(vQ)}},kQ="@azure/msal-common",IQ="15.6.0";function TQ(e,t){const n=function(e){if(!e)throw SQ(PF);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw SQ(RF);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(uH){throw SQ(RF)}}function xQ(e,t){if(0===t||Date.now()-3e5>e+t)throw SQ(qF)}function UQ(){return Math.round((new Date).getTime()/1e3)}function FQ(e){return e.getTime()/1e3}function QQ(e){return e?new Date(1e3*Number(e)):new Date}function _Q(e,t){const n=Number(e)||0;return UQ()+t>n}function RQ(e){return[DQ(e),HQ(e),MQ(e),jQ(e),KQ(e)].join(fh).toLowerCase()}function PQ(e,t,n,r,i){return{credentialType:mh.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:i}}function NQ(e,t,n,r,i,s,o,a,A,c,l,u,d,h,p){const f={homeAccountId:e,credentialType:mh.ACCESS_TOKEN,secret:n,cachedAt:UQ().toString(),expiresOn:o.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:i,target:s,tokenType:l||Ih.BEARER};if(u&&(f.userAssertionHash=u),c&&(f.refreshOn=c.toString()),h&&(f.requestedClaims=h,f.requestedClaimsHash=p),f.tokenType?.toLowerCase()!==Ih.BEARER.toLowerCase())switch(f.credentialType=mh.ACCESS_TOKEN_WITH_AUTH_SCHEME,f.tokenType){case Ih.POP:const e=TQ(n,A);if(!e?.cnf?.kid)throw SQ(dQ);f.keyId=e.cnf.kid;break;case Ih.SSH:f.keyId=d}return f}function OQ(e,t,n,r,i,s,o){const a={credentialType:mh.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return s&&(a.userAssertionHash=s),i&&(a.familyId=i),o&&(a.expiresOn=o.toString()),a}function LQ(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function DQ(e){return[e.homeAccountId,e.environment].join(fh).toLowerCase()}function HQ(e){const t=e.credentialType===mh.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(fh).toLowerCase()}function MQ(e){return(e.target||"").toLowerCase()}function jQ(e){return(e.requestedClaimsHash||"").toLowerCase()}function KQ(e){return e.tokenType&&e.tokenType.toLowerCase()!==Ih.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function VQ(){return UQ()+bh}function qQ(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function GQ(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function $Q(e){return e.expiresAt<=UQ()}const WQ="redirect_uri_empty",zQ="claims_request_parsing_error",JQ="authority_uri_insecure",YQ="url_parse_error",XQ="empty_url_error",ZQ="empty_input_scopes_error",e_="invalid_prompt_value",t_="invalid_claims",n_="token_request_empty",r_="logout_request_empty",i_="invalid_code_challenge_method",s_="pkce_params_missing",o_="invalid_cloud_discovery_metadata",a_="invalid_authority_metadata",A_="untrusted_authority",c_="missing_ssh_jwk",l_="missing_ssh_kid",u_="missing_nonce_authentication_header",d_="invalid_authentication_header",h_="cannot_set_OIDCOptions",p_="cannot_allow_platform_broker",f_="authority_mismatch",g_={[WQ]:"A redirect URI is required for all calls, and none has been set.",[zQ]:"Could not parse the given claims request object.",[JQ]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[YQ]:"URL could not be parsed into appropriate segments.",[XQ]:"URL was empty or null.",[ZQ]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[e_]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[t_]:"Given claims parameter must be a stringified JSON object.",[n_]:"Token request was empty and not found in cache.",[r_]:"The logout request was null or undefined.",[i_]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[s_]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[o_]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[a_]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[A_]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[c_]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[l_]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[u_]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[d_]:"Invalid authentication header provided",[h_]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[p_]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[f_]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class m_ extends Yh{constructor(e){super(e,g_[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,m_.prototype)}}function w_(e){return new m_(e)}class y_{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,i]=e.split(/=(.+)/g,2);n&&i&&(t[r(n)]=r(i))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class v_{constructor(e){const t=e?y_.trimArrayEntries([...e]):[],n=t?y_.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw w_(ZQ);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||Ld.EMPTY_STRING).split(" ");return new v_(t)}static createSearchScopes(e){const t=new v_(e);return t.containsOnlyOIDCScopes()?t.removeScope(Ld.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new v_(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return Vd.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw SQ(YF)}}removeScope(e){if(!e)throw SQ(JF);this.scopes.delete(e.trim())}removeOIDCScopes(){Vd.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw SQ(XF);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw SQ(XF);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return Ld.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function b_(e,t){if(!e)throw SQ(_F);try{const n=t(e);return JSON.parse(n)}catch(n){throw SQ(QF)}}function C_(e){if(!e)throw SQ(QF);const t=e.split(gh,2);return{uid:t[0],utid:t.length<2?Ld.EMPTY_STRING:t[1]}}function B_(e,t){return!!e&&!!t&&e===t.split(".")[1]}function S_(e,t,n,r){if(r){const{oid:t,sub:n,tid:i,name:s,tfp:o,acr:a}=r,A=i||o||a||"";return{tenantId:A,localAccountId:t||n||"",name:s,isHomeTenant:B_(A,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:B_(n,e)}}function E_(e,t,n,r){let i=e;if(t){const{isHomeTenant:n,...r}=t;i={...e,...r}}if(n){const{isHomeTenant:t,...s}=S_(e.homeAccountId,e.localAccountId,e.tenantId,n);return i={...i,...s,idTokenClaims:n,idToken:r},i}return i}const k_=0,I_=1,T_=2,x_=3;function U_(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class F_{generateAccountId(){return[this.homeAccountId,this.environment].join(fh).toLowerCase()}generateAccountKey(){return F_.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(fh).toLowerCase()}static createAccount(e,t,n){const r=new F_;let i;t.authorityType===I_?r.authorityType=hh:t.protocolMode===xF?r.authorityType=ph:r.authorityType=dh,e.clientInfo&&n&&(i=b_(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const s=e.environment||t&&t.getPreferredCache();if(!s)throw SQ(iQ);r.environment=s,r.realm=i?.utid||U_(e.idTokenClaims)||"",r.localAccountId=i?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const o=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=o||a||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=S_(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new F_;return r.authorityType=e.authorityType||ph,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,i){if(t!==I_&&t!==T_){if(e)try{const t=b_(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(s){}n.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},i=t.idTokenClaims||{};r=n.iat===i.iat&&n.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Q_(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function __(e){if(!e||e.indexOf("=")<0)return null;try{const t=Q_(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(t){throw SQ(DF)}return null}function R_(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,i)=>{!t&&n&&i in n?r.push(`${i}=${e}`):r.push(`${i}=${encodeURIComponent(e)}`)})),r.join("&")}class P_{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw w_(XQ);e.includes("#")||(this._urlString=P_.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return y_.endsWith(t,"?")?t=t.slice(0,-1):y_.endsWith(t,"?/")&&(t=t.slice(0,-2)),y_.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw w_(YQ)}if(!e.HostNameAndPort||!e.PathSegments)throw w_(YQ);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw w_(JQ)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return P_.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==Xd&&n[0]!==Zd||(n[0]=e),P_.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw w_(YQ);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw w_(YQ);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===Ld.FORWARD_SLASH){const n=new P_(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new P_(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!__(e)}}const N_={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},O_={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},L_=new Set;function D_(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const i=H_(t,e);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function H_(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}O_.metadata.forEach((e=>{e.aliases.forEach((e=>{L_.add(e)}))}));const M_="cache_quota_exceeded",j_="cache_error_unknown",K_={[M_]:"Exceeded cache storage capacity.",[j_]:"Unexpected error occurred when using cache storage."};class V_ extends Error{constructor(e,t){const n=t||(K_[e]?K_[e]:K_[j_]);super(`${e}: ${n}`),Object.setPrototypeOf(this,V_.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class q_{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(kQ,IQ),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let i,s=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const o=this.getIdToken(e,t,n.tenantId);return o&&(i=TQ(o.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,r))?null:(s=E_(e,n,i,o?.secret),s)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let i=r.tenantProfiles||new Map;const s=this.getTokenKeys();if(t){const e=i.get(t);if(!e)return[];i=new Map([[t,e]])}const o=[];return i.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,s,e,n);t&&o.push(t)})),o}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw SQ(rQ);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,t),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new V_(M_)):new V_(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,t),new V_(j_))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=v_.fromString(e.target),s=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){v_.fromString(t.target).intersectingScopeSets(i)&&s.push(this.removeAccessToken(e))}})),await Promise.all(s),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const i={localAccountId:e?.localAccountId,name:e?.name},s=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,i)));s&&0===s.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(fh).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(fh).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(mh.ID_TOKEN.toLowerCase())&&-1===t.indexOf(mh.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(mh.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(mh.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(mh.REFRESH_TOKEN.toLowerCase())>-1){const e=`${mh.REFRESH_TOKEN}${fh}${this.clientId}${fh}`,n=`${mh.REFRESH_TOKEN}${fh}${yh}${fh}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===mh.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Ih.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===mh.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Ih.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw SQ(pQ)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=F_.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:mh.ID_TOKEN,clientId:this.clientId,realm:n},o=this.getIdTokensByFilter(s,t),a=o.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=o;if(!n){const n=new Map;o.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&i&&r.addFields({multiMatchedID:o.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,i,s){this.commonLogger.trace("CacheManager - getAccessToken called");const o=v_.createSearchScopes(t.scopes),a=t.authenticationScheme||Ih.BEARER,A=a&&a.toLowerCase()!==Ih.BEARER.toLowerCase()?mh.ACCESS_TOKEN_WITH_AUTH_SCHEME:mh.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:A,clientId:this.clientId,realm:r||e.tenantId,target:o,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},l=n&&n.accessToken||this.getTokenKeys().accessToken,u=[];l.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&u.push(t)}}));const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),u.forEach((e=>{this.removeAccessToken(RQ(e))})),i&&s&&i.addFields({multiMatchedAT:u.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=t?yh:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:mh.REFRESH_TOKEN,clientId:this.clientId,familyId:s},a=n&&n.refreshToken||this.getTokenKeys().refreshToken,A=[];a.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,o)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,o)&&A.push(t)}}));const c=A.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&i&&r.addFields({multiMatchedRT:c},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),A[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),i=r.length;if(i<1)return null;if(i>1)throw SQ(WF);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==yh)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const i=new P_(r).getUrlComponents().HostNameAndPort;n=D_(i,e.cloudDiscoveryMetadata?.metadata,Ch,t)||D_(i,O_.metadata,Eh,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==mh.ACCESS_TOKEN&&e.credentialType!==mh.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return v_.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(wh)}isAuthorityMetadata(e){return-1!==e.indexOf(vh)}generateAuthorityMetadataCacheKey(e){return`${vh}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class G_ extends q_{async setAccount(){throw SQ(vQ)}getAccount(){throw SQ(vQ)}async setIdTokenCredential(){throw SQ(vQ)}getIdTokenCredential(){throw SQ(vQ)}async setAccessTokenCredential(){throw SQ(vQ)}getAccessTokenCredential(){throw SQ(vQ)}async setRefreshTokenCredential(){throw SQ(vQ)}getRefreshTokenCredential(){throw SQ(vQ)}setAppMetadata(){throw SQ(vQ)}getAppMetadata(){throw SQ(vQ)}setServerTelemetry(){throw SQ(vQ)}getServerTelemetry(){throw SQ(vQ)}setAuthorityMetadata(){throw SQ(vQ)}getAuthorityMetadata(){throw SQ(vQ)}getAuthorityMetadataKeys(){throw SQ(vQ)}setThrottlingCache(){throw SQ(vQ)}getThrottlingCache(){throw SQ(vQ)}removeItem(){throw SQ(vQ)}getKeys(){throw SQ(vQ)}getAccountKeys(){throw SQ(vQ)}getTokenKeys(){throw SQ(vQ)}}const $_={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},W_={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:lf.Info,correlationId:Ld.EMPTY_STRING},z_={claimsBasedCachingEnabled:!1},J_={async sendGetRequestAsync(){throw SQ(vQ)},async sendPostRequestAsync(){throw SQ(vQ)}},Y_={sku:Ld.SKU,version:IQ,cpu:Ld.EMPTY_STRING,os:Ld.EMPTY_STRING},X_={clientSecret:Ld.EMPTY_STRING,clientAssertion:void 0},Z_={azureCloudInstance:FF,tenant:`${Ld.DEFAULT_COMMON_TENANT}`},eR={application:{appName:"",appVersion:""}};function tR(e){return e.authOptions.authority.options.protocolMode===xF}const nR={sendGetRequestAsync:()=>Promise.reject(SQ(vQ)),sendPostRequestAsync:()=>Promise.reject(SQ(vQ))},rR="acquireTokenByCode",iR="acquireTokenByRefreshToken",sR="acquireTokenSilent",oR="acquireTokenSilentAsync",aR="acquireTokenPopup",AR="acquireTokenPreRedirect",cR="acquireTokenRedirect",lR="cryptoOptsGetPublicKeyThumbprint",uR="cryptoOptsSignJwt",dR="silentCacheClientAcquireToken",hR="silentIframeClientAcquireToken",pR="awaitConcurrentIframe",fR="silentRefreshClientAcquireToken",gR="ssoSilent",mR="standardInteractionClientGetDiscoveredAuthority",wR="nativeInteractionClientAcquireToken",yR="networkClientSendPostRequestAsync",vR="refreshTokenClientExecutePostToTokenEndpoint",bR="authorizationCodeClientExecutePostToTokenEndpoint",CR="refreshTokenClientExecuteTokenRequest",BR="refreshTokenClientAcquireToken",SR="refreshTokenClientAcquireTokenWithCachedRefreshToken",ER="refreshTokenClientAcquireTokenByRefreshToken",kR="refreshTokenClientCreateTokenRequestBody",IR="acquireTokenFromCache",TR="silentFlowClientAcquireCachedToken",xR="silentFlowClientGenerateResultFromCacheRecord",UR="acquireTokenBySilentIframe",FR="initializeBaseRequest",QR="initializeSilentRequest",_R="initializeClientApplication",RR="initializeCache",PR="silentIframeClientTokenHelper",NR="silentHandlerInitiateAuthRequest",OR="silentHandlerMonitorIframeForHash",LR="silentHandlerLoadFrame",DR="silentHandlerLoadFrameSync",HR="standardInteractionClientCreateAuthCodeClient",MR="standardInteractionClientGetClientConfiguration",jR="standardInteractionClientInitializeAuthorizationRequest",KR="getAuthCodeUrl",VR="getStandardParams",qR="handleCodeResponseFromServer",GR="handleCodeResponse",$R="handleResponseEar",WR="handleResponsePlatformBroker",zR="handleResponseCode",JR="updateTokenEndpointAuthority",YR="authClientAcquireToken",XR="authClientExecuteTokenRequest",ZR="authClientCreateTokenRequestBody",eP="popTokenGenerateCnf",tP="popTokenGenerateKid",nP="handleServerTokenResponse",rP="deserializeResponse",iP="authorityFactoryCreateDiscoveredInstance",sP="authorityResolveEndpointsAsync",oP="authorityGetCloudDiscoveryMetadataFromNetwork",aP="authorityUpdateCloudDiscoveryMetadata",AP="authorityGetEndpointMetadataFromNetwork",cP="authorityUpdateEndpointMetadata",lP="authorityUpdateMetadataWithRegionalInformation",uP="regionDiscoveryDetectRegion",dP="regionDiscoveryGetRegionFromIMDS",hP="regionDiscoveryGetCurrentVersion",pP="acquireTokenByCodeAsync",fP="handleRedirectPromise",gP="handleNativeRedirectPromise",mP="nativeMessageHandlerHandshake",wP="removeHiddenIframe",yP="clearTokensAndKeysWithClaims",vP="cacheManagerGetRefreshToken",bP="importExistingCache",CP="setUserData",BP="localStorageUpdated",SP="generatePkceCodes",EP="generateCodeVerifier",kP="generateCodeChallengeFromVerifier",IP="sha256Digest",TP="getRandomValues",xP="generateHKDF",UP="generateBaseKey",FP="base64Decode",QP="urlEncodeArr",_P="encrypt",RP="decrypt",PP="generateEarKey",NP="decryptEarResponse",OP=(new Map([[rR,"ATByCode"],[iR,"ATByRT"],[sR,"ATS"],[oR,"ATSAsync"],[aR,"ATPopup"],[cR,"ATRedirect"],[lR,"CryptoGetPKThumb"],[uR,"CryptoSignJwt"],[dR,"SltCacheClientAT"],[hR,"SltIframeClientAT"],[fR,"SltRClientAT"],[gR,"SsoSlt"],[mR,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[wR,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[yR,"NetClientSendPost"],[vR,"RTClientExecPost"],[bR,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[CR,"RTClientExecTReq"],[BR,"RTClientAT"],[SR,"RTClientATWithCachedRT"],[ER,"RTClientATByRT"],[kR,"RTClientCreateTReqBody"],[IR,"ATFromCache"],[TR,"SltFlowClientATCached"],[xR,"SltFlowClientGenResFromCache"],[UR,"ATBySltIframe"],[FR,"InitBaseReq"],[QR,"InitSltReq"],[_R,"InitClientApplication"],[RR,"InitCache"],[bP,"importCache"],[CP,"setUserData"],[BP,"localStorageUpdated"],[PR,"SIClientTHelper"],[NR,"SHandlerInitAuthReq"],[OR,"SltHandlerMonitorIframeForHash"],[LR,"SHandlerLoadFrame"],[DR,"SHandlerLoadFrameSync"],[HR,"StdIntClientCreateAuthCodeClient"],[MR,"StdIntClientGetClientConf"],[jR,"StdIntClientInitAuthReq"],[KR,"GetAuthCodeUrl"],[qR,"HandleCodeResFromServer"],[GR,"HandleCodeResp"],[$R,"HandleRespEar"],[zR,"HandleRespCode"],[WR,"HandleRespPlatBroker"],[JR,"UpdTEndpointAuth"],[YR,"AuthClientAT"],[XR,"AuthClientExecTReq"],[ZR,"AuthClientCreateTReqBody"],[eP,"PopTGenCnf"],[tP,"PopTGenKid"],[nP,"HandleServerTRes"],[rP,"DeserializeRes"],[iP,"AuthFactCreateDiscInst"],[sP,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[oP,"AuthGetCDMetaFromNet"],[aP,"AuthUpdCDMeta"],[AP,"AuthUpdCDMetaFromNet"],[cP,"AuthUpdEndpointMeta"],[lP,"AuthUpdMetaWithRegInfo"],[uP,"RegDiscDetectReg"],[dP,"RegDiscGetRegFromIMDS"],[hP,"RegDiscGetCurrentVer"],[pP,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[fP,"HandleRedirectPromise"],[gP,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[mP,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[wP,"RemoveHiddenIframe"],[yP,"ClearTAndKeysWithClaims"],[vP,"CacheManagerGetRT"],[SP,"GenPkceCodes"],[EP,"GenCodeVerifier"],[kP,"GenCodeChallengeFromVerifier"],[IP,"Sha256Digest"],[TP,"GetRandomValues"],[xP,"genHKDF"],[UP,"genBaseKey"],[FP,"b64Decode"],[QP,"urlEncArr"],[_P,"encrypt"],[RP,"decrypt"],[PP,"genEarKey"],[NP,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class LP{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class DP{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:OP,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new LP}}startPerformanceMeasurement(){return new LP}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}class HP{navigateInternal(e,t){return HP.defaultNavigateWindow(e,t)}navigateExternal(e,t){return HP.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class MP extends Yh{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,MP.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function jP(e,t,n,r){return e.errorMessage=`${e.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new MP(e,t,n)}const KP="pkce_not_created",VP="ear_jwk_empty",qP="ear_jwe_empty",GP="crypto_nonexistent",$P="empty_navigate_uri",WP="hash_empty_error",zP="no_state_in_hash",JP="hash_does_not_contain_known_properties",YP="unable_to_parse_state",XP="state_interaction_type_mismatch",ZP="interaction_in_progress",eN="popup_window_error",tN="empty_window_error",nN="user_cancelled",rN="monitor_popup_timeout",iN="monitor_window_timeout",sN="redirect_in_iframe",oN="block_iframe_reload",aN="block_nested_popups",AN="iframe_closed_prematurely",cN="silent_logout_unsupported",lN="no_account_error",uN="silent_prompt_value_error",dN="no_token_request_cache_error",hN="unable_to_parse_token_request_cache_error",pN="auth_request_not_set_error",fN="invalid_cache_type",gN="non_browser_environment",mN="database_not_open",wN="no_network_connectivity",yN="post_request_failed",vN="get_request_failed",bN="failed_to_parse_response",CN="unable_to_load_token",BN="crypto_key_not_found",SN="auth_code_required",EN="auth_code_or_nativeAccountId_required",kN="spa_code_and_nativeAccountId_present",IN="database_unavailable",TN="unable_to_acquire_token_from_native_platform",xN="native_handshake_timeout",UN="native_extension_not_installed",FN="native_connection_not_established",QN="uninitialized_public_client_application",_N="native_prompt_not_supported",RN="invalid_base64_string",PN="invalid_pop_token_request",NN="failed_to_build_headers",ON="failed_to_parse_headers",LN="failed_to_decrypt_ear_response",DN="For more visit: aka.ms/msaljs/browser-errors",HN={[KP]:"The PKCE code challenge and verifier could not be generated.",[VP]:"No EAR encryption key provided. This is unexpected.",[qP]:"Server response does not contain ear_jwe property. This is unexpected.",[GP]:"The crypto object or function is not available.",[$P]:"Navigation URI is empty. Please check stack trace for more info.",[WP]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${DN}`,[zP]:"Hash does not contain state. Please verify that the request originated from msal.",[JP]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${DN}`,[YP]:"Unable to parse state. Please verify that the request originated from msal.",[XP]:"Hash contains state but the interaction type does not match the caller.",[ZP]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${DN}`,[eN]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[tN]:"window.open returned null or undefined window object.",[nN]:"User cancelled the flow.",[rN]:`Token acquisition in popup failed due to timeout.  ${DN}`,[iN]:`Token acquisition in iframe failed due to timeout.  ${DN}`,[sN]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[oN]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${DN}`,[aN]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[AN]:"The iframe being monitored was closed prematurely.",[cN]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[lN]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[uN]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[dN]:"No token request found in cache.",[hN]:"The cached token request could not be parsed.",[pN]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[fN]:"Invalid cache type",[gN]:"Login and token requests are not supported in non-browser environments.",[mN]:"Database is not open!",[wN]:"No network connectivity. Check your internet connection.",[yN]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[vN]:"Network request failed. Please check the network trace to determine root cause.",[bN]:"Failed to parse network response. Check network trace.",[CN]:"Error loading token to cache.",[BN]:"Cryptographic Key or Keypair not found in browser storage.",[SN]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[EN]:"An authorization code or nativeAccountId must be provided to this flow.",[kN]:"Request cannot contain both spa code and native account id.",[IN]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[TN]:`Unable to acquire token from native platform.  ${DN}`,[xN]:"Timed out while attempting to establish connection to browser extension",[UN]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[FN]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${DN}`,[QN]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${DN}`,[_N]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[RN]:"Invalid base64 encoded string.",[PN]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[NN]:"Failed to build request headers object.",[ON]:"Failed to parse response headers",[LN]:"Failed to decrypt ear response"};class MN extends Yh{constructor(e,t){super(e,HN[e],t),Object.setPrototypeOf(this,MN.prototype),this.name="BrowserAuthError"}}function jN(e,t){return new MN(e,t)}class KN{async sendGetRequestAsync(e,t){let n,r={},i=0;const s=VN(t);try{n=await fetch(e,{method:Cp,headers:s})}catch(o){throw jP(jN(window.navigator.onLine?vN:wN),void 0,void 0,o)}r=qN(n.headers);try{return i=n.status,{headers:r,body:await n.json(),status:i}}catch(o){throw jP(jN(bN),i,r,o)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=VN(t);let i,s=0,o={};try{i=await fetch(e,{method:Bp,headers:r,body:n})}catch(a){throw jP(jN(window.navigator.onLine?yN:wN),void 0,void 0,a)}o=qN(i.headers);try{return s=i.status,{headers:o,body:await i.json(),status:s}}catch(a){throw jP(jN(bN),s,o,a)}}}function VN(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw jP(jN(NN),void 0,void 0,t)}}function qN(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw jN(ON)}}function GN(e){return encodeURIComponent(WN(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function $N(e){return zN(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WN(e){return zN((new TextEncoder).encode(e))}function zN(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function JN(e){return(new TextDecoder).decode(YN(e))}function YN(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw jN(RN)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const XN="AES-GCM",ZN="HKDF",eO="SHA-256",tO=new Uint8Array([1,0,1]),nO="0123456789abcdef",rO=new Uint32Array(1),iO="raw",sO="encrypt",oO="decrypt",aO={name:"RSASSA-PKCS1-v1_5",hash:eO,modulusLength:2048,publicExponent:tO};async function AO(e,t,n){t?.addQueueMeasurement(IP,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(eO,r)}function cO(e){return window.crypto.getRandomValues(e)}function lO(){return window.crypto.getRandomValues(rO),rO[0]}function uO(){const e=Date.now(),t=1024*lO()+(1023&lO()),n=new Uint8Array(16),r=Math.trunc(t/2**30),i=t&2**30-1,s=lO();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=s>>>24,n[13]=s>>>16,n[14]=s>>>8,n[15]=s;let o="";for(let a=0;a<n.length;a++)o+=nO.charAt(n[a]>>>4),o+=nO.charAt(15&n[a]),3!==a&&5!==a&&7!==a&&9!==a||(o+="-");return o}async function dO(e){return window.crypto.subtle.exportKey("jwk",e)}async function hO(){const e=await fO(),t={alg:"dir",kty:"oct",k:$N(new Uint8Array(e))};return WN(JSON.stringify(t))}async function pO(e,t){const n=t.split(".");if(5!==n.length)throw jN(LN,"jwe_length");const r=await async function(e){const t=JN(e),n=YN(JSON.parse(t).k);return window.crypto.subtle.importKey(iO,n,XN,!1,[oO])}(e).catch((()=>{throw jN(LN,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=YN(n[2]),i=YN(n[3]),s=YN(n[4]),o=8*s.byteLength,a=new Uint8Array(i.length+s.length);a.set(i),a.set(s,i.length);const A=await window.crypto.subtle.decrypt({name:XN,iv:t,tagLength:o,additionalData:e},r,a);return(new TextDecoder).decode(A)}catch(i){throw jN(LN,"decrypt")}}async function fO(){const e=await window.crypto.subtle.generateKey({name:XN,length:256},!0,[sO,oO]);return window.crypto.subtle.exportKey(iO,e)}async function gO(e){return window.crypto.subtle.importKey(iO,e,ZN,!1,["deriveKey"])}async function mO(e,t,n){return window.crypto.subtle.deriveKey({name:ZN,salt:t,hash:eO,info:(new TextEncoder).encode(n)},e,{name:XN,length:256},!1,[sO,oO])}async function wO(e,t,n){const r=(new TextEncoder).encode(t),i=window.crypto.getRandomValues(new Uint8Array(16)),s=await mO(e,i,n),o=await window.crypto.subtle.encrypt({name:XN,iv:new Uint8Array(12)},s,r);return{data:$N(new Uint8Array(o)),nonce:$N(i)}}async function yO(e,t,n,r){const i=YN(r),s=await mO(e,YN(t),n),o=await window.crypto.subtle.decrypt({name:XN,iv:new Uint8Array(12)},s,i);return(new TextDecoder).decode(o)}async function vO(e){const t=await AO(e);return $N(new Uint8Array(t))}function bO(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"",`${e.location.origin}${e.location.pathname}${e.location.search}`)}function CO(){return window.parent!==window}function BO(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function SO(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${cp}.`))throw jN(aN)}function EO(){if("undefined"===typeof window)throw jN(gN)}function kO(e){if(!e)throw jN(QN)}function IO(e){EO(),function(){if(P_.hashContainsKnownProperties(window.location.hash)&&CO())throw jN(oN)}(),SO(),kO(e)}function TO(e,t){if(IO(e),function(e){if(CO()&&!e)throw jN(sN)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===bp&&!t.cache.storeAuthStateInCookie)throw ip(tp)}function xO(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const UO=1e4;const FO="4.12.0";class QO{static loggerCallback(e,t){switch(e){case lf.Error:return void console.error(t);case lf.Info:return void console.info(t);case lf.Verbose:return void console.debug(t);case lf.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:i,telemetry:s}=e;const o={clientId:Ld.EMPTY_STRING,authority:`${Ld.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Ld.EMPTY_STRING,authorityMetadata:Ld.EMPTY_STRING,redirectUri:"undefined"!==typeof window?BO():"",postLogoutRedirectUri:Ld.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:TF,OIDCOptions:{serverResponseType:Ah,defaultScopes:[Ld.OPENID_SCOPE,Ld.PROFILE_SCOPE,Ld.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:FF,tenant:Ld.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:vp,temporaryCacheLocation:vp,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==yp),claimsBasedCachingEnabled:!1},A={loggerCallback:()=>{},logLevel:lf.Info,piiLoggingEnabled:!1},c={...{...$_,loggerOptions:A,networkClient:t?new KN:nR,navigationClient:new HP,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||UO,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:lp},...i,loggerOptions:i?.loggerOptions||A},l={application:{appName:Ld.EMPTY_STRING,appVersion:Ld.EMPTY_STRING},client:new DP};n?.protocolMode!==xF&&n?.OIDCOptions&&new uf(c.loggerOptions).warning(JSON.stringify(w_(h_)));if(n?.protocolMode&&n.protocolMode===xF&&c?.allowPlatformBroker)throw w_(p_);return{auth:{...o,...n,OIDCOptions:{...o.OIDCOptions,...n?.OIDCOptions}},cache:{...a,...r},system:c,telemetry:{...l,...s}}}(e,this.browserEnvironment);try{t=window[vp]}catch(a){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),i="true"===r||"false"!==r&&void 0,s={...this.config.system.loggerOptions},o=n&&Object.keys(lf).includes(n)?lf[n]:void 0;o&&(s.loggerCallback=QO.loggerCallback,s.logLevel=o),void 0!==i&&(s.piiLoggingEnabled=i),this.logger=new uf(s,"@azure/msal-browser",FO),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class _O extends QO{getModuleName(){return _O.MODULE_NAME}getId(){return _O.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}_O.MODULE_NAME="",_O.ID="StandardOperatingContext";const RO="missing_kid_error",PO="missing_alg_error",NO={[RO]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[PO]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class OO extends Yh{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,OO.prototype)}}function LO(e){return new OO(e,NO[e])}class DO{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw LO(RO);if(!e.alg)throw LO(PO);const t=new DO({typ:e.typ||$h,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class HO{constructor(){this.dbName=ef,this.version=1,this.tableName=tf,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(jN(IN))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(jN(mN));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(jN(mN));const i=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);i.addEventListener("success",(()=>{this.closeConnection(),n()})),i.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(jN(mN));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(jN(mN));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(jN(mN));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(ef),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class MO{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class jO{constructor(e){this.inMemoryCache=new MO,this.indexedDBCache=new HO,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof MN&&e.errorCode===IN))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class KO{constructor(e,t,n){this.logger=e,function(e){if(!window)throw jN(gN);if(!window.crypto)throw jN(GP);if(!e&&!window.crypto.subtle)throw jN(GP,"crypto_subtle_undefined")}(n??!1),this.cache=new jO(this.logger),this.performanceClient=t}createNewGuid(){return uO()}base64Encode(e){return WN(e)}base64Decode(e){return JN(e)}base64UrlEncode(e){return GN(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(lR,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(aO,e,t)}(KO.EXTRACTABLE,KO.POP_KEY_USAGES),r=await dO(n.publicKey),i=VO({e:r.e,kty:r.kty,n:r.n}),s=await this.hashString(i),o=await dO(n.privateKey),a=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,aO,t,n)}(o,!1,["sign"]);return await this.cache.setItem(s,{privateKey:a,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),s}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const i=this.performanceClient?.startMeasurement(uR,r),s=await this.cache.getItem(t);if(!s)throw jN(BN);const o=await dO(s.publicKey),a=VO(o),A=GN(JSON.stringify({kid:t})),c=GN(DO.getShrHeaderString({...n?.header,alg:o.alg,kid:A}));e.cnf={jwk:JSON.parse(a)};const l=`${c}.${GN(JSON.stringify(e))}`,u=(new TextEncoder).encode(l),d=await async function(e,t){return window.crypto.subtle.sign(aO,e,t)}(s.privateKey,u),h=`${l}.${$N(new Uint8Array(d))}`;return i&&i.end({success:!0}),h}async hashString(e){return vO(e)}}function VO(e){return JSON.stringify(e,Object.keys(e).sort())}KO.POP_KEY_USAGES=["sign","verify"],KO.EXTRACTABLE=!0;const qO=(e,t,n,r,i)=>function(){n.trace(`Executing function ${t}`);const s=r?.startMeasurement(t,i);if(i){const e=t+"CallCount";r?.incrementFields({[e]:1},i)}try{const r=e(...arguments);return s?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(o){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(o))}catch(o){n.trace("Unable to print error message.")}throw s?.end({success:!1},o),o}},GO=(e,t,n,r,i)=>function(){n.trace(`Executing function ${t}`);const s=r?.startMeasurement(t,i);if(i){const e=t+"CallCount";r?.incrementFields({[e]:1},i)}return r?.setPreQueueTime(t,i),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),s?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw s?.end({success:!1},e),e}))};class $O{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(uP,this.correlationId);let n=e;if(n)t.region_source=Oh;else{const e=$O.IMDS_OPTIONS;try{const r=await GO(this.getRegionFromIMDS.bind(this),dP,this.logger,this.performanceClient,this.correlationId)(Ld.IMDS_VERSION,e);if(r.status===Rh&&(n=r.body,t.region_source=Lh),r.status===Ph){const r=await GO(this.getCurrentVersion.bind(this),hP,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=Nh,null;const i=await GO(this.getRegionFromIMDS.bind(this),dP,this.logger,this.performanceClient,this.correlationId)(r,e);i.status===Rh&&(n=i.body,t.region_source=Lh)}}catch(r){return t.region_source=Nh,null}}return n||(t.region_source=Nh),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(dP,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Ld.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,Ld.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(hP,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${Ld.IMDS_ENDPOINT}?format=json`,e);return t.status===Ph&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}$O.IMDS_OPTIONS={headers:{Metadata:"true"}};class WO{constructor(e,t,n,r,i,s,o,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=s,this.managedIdentity=a||!1,this.regionDiscovery=new $O(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Ld.CIAM_AUTH_URL))return x_;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Ld.ADFS:return I_;case Ld.DSTS:return T_}return k_}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new P_(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw SQ(NF)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw SQ(NF)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw SQ(NF)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw SQ(fQ);return this.replacePath(this.metadata.end_session_endpoint)}throw SQ(NF)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw SQ(NF)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw SQ(NF)}canReplaceTenant(e){return 1===e.PathSegments.length&&!WO.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===k_&&this.protocolMode!==xF}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new P_(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,i)=>{let s=r[i];if(0===i&&this.canReplaceTenant(n)){const e=new P_(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];s!==e&&(this.logger.verbose(`Replacing tenant domain name ${s} with id ${e}`),s=e)}e!==s&&(t=t.replace(`/${s}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===I_||this.protocolMode===xF&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(sP,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await GO(this.updateCloudDiscoveryMetadata.bind(this),aP,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await GO(this.updateEndpointMetadata.bind(this),cP,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:VQ(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==Bh&&n?.source!==Bh&&(e.expiresAt=VQ(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(cP,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Eh&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){qQ(e,await GO(this.updateMetadataWithRegionalInformation.bind(this),lP,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await GO(this.getEndpointMetadataFromNetwork.bind(this),AP,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await GO(this.updateMetadataWithRegionalInformation.bind(this),lP,this.logger,this.performanceClient,this.correlationId)(n)),qQ(e,n,!0),Sh;throw SQ(LF,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),qQ(e,t,!1),{source:Ch};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return qQ(e,t,!1),{source:Eh,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=$Q(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Bh}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new P_(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw w_(a_)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(AP,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in N_?N_[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(lP,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==Ld.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Dh,this.regionDiscoveryMetadata.region_used=t,WO.replaceWithRegionalInformation(e,t);const n=await GO(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),uP,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=Hh,this.regionDiscoveryMetadata.region_used=n,WO.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=Mh}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(aP,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await GO(this.getCloudDiscoveryMetadataFromNetwork.bind(this),oP,this.logger,this.performanceClient,this.correlationId)();if(n)return GQ(e,n,!0),Sh;throw w_(A_)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Ld.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Ld.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Ld.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),GQ(e,t,!1),Ch;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,H_(O_.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),GQ(e,t,!1),Eh;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=$Q(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Bh):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===x_)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),WO.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=H_(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),w_(o_)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),WO.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(oP,this.correlationId);const e=`${Ld.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let i,s;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))i=r.body,s=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),i=r.body,i.error===Ld.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=H_(s,this.hostnameAndPort)}catch(r){if(r instanceof Yh)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=WO.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&P_.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==FF){const e=t.tenant?t.tenant:Ld.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Ld.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw SQ(NF)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return L_.has(e)}static isPublicCloudAuthority(e){return Ld.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new P_(e);r.validateAsUri();const i=r.getUrlComponents();let s=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${t}.${Ld.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const o=P_.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:s}).urlString;return n?`${o}?${n}`:o}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=WO.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=WO.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=WO.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new P_(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(Ld.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${Ld.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function zO(e){return e.endsWith(Ld.FORWARD_SLASH)?e:`${e}${Ld.FORWARD_SLASH}`}WO.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Xd,eh,Zd]);const JO="no_tokens_found",YO="native_account_unavailable",XO="refresh_token_expired",ZO="bad_token",eL=["interaction_required","consent_required","login_required",ZO],tL=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],nL={[JO]:"No refresh token found in the cache. Please sign-in.",[YO]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[XO]:"Refresh token has expired.",[ZO]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class rL extends Yh{constructor(e,t,n,r,i,s,o,a){super(e,t,n),Object.setPrototypeOf(this,rL.prototype),this.timestamp=r||Ld.EMPTY_STRING,this.traceId=i||Ld.EMPTY_STRING,this.correlationId=s||Ld.EMPTY_STRING,this.claims=o||Ld.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=a}}function iL(e,t,n){const r=!!e&&eL.indexOf(e)>-1,i=!!n&&tL.indexOf(n)>-1,s=!!t&&eL.some((e=>t.indexOf(e)>-1));return r||s||i}function sL(e){return new rL(e,nL[e])}function oL(e,t,n){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}const aL=864e5,AL="Lax",cL="None";class lL{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[i,...s]=decodeURIComponent(e).trim().split("="),o=s.join("=");if(i===t)return o}return""}getUserData(){throw SQ(vQ)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:AL,s=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${i};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*aL);return n.toUTCString()}(n);s+=`expires=${e};`}(r||i===cL)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(SQ(vQ))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function uL(e){const t=e.getItem(Qp);return t?JSON.parse(t):[]}function dL(e,t){const n=t.getItem(`${_p}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const hL="msal.cache.encryption";class pL{constructor(e,t,n){if(!window.localStorage)throw ip(Zh);this.memoryStorage=new MO,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new lL,n=t.getItem(hL);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(i){}if(r.key&&r.id){const t=qO(YN,FP,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await GO(gO,xP,this.logger,this.performanceClient,e)(t)},await GO(this.importExistingCache.bind(this),bP,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=uO(),r=await GO(fO,UP,this.logger,this.performanceClient,e)(),i=qO($N,QP,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await GO(gO,xP,this.logger,this.performanceClient,e)(r)};const s={id:n,key:i};t.setItem(hL,JSON.stringify(s),0,!0,cL)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw jN(QN);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw jN(QN);const{data:r,nonce:i}=await GO(wO,_P,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),s={id:this.encryptionCookie.id,nonce:i,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(s)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();uL(this).forEach((e=>this.removeItem(e)));const e=dL(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(Ld.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=uL(this);t=await this.importArray(t,e),this.setItem(Qp,JSON.stringify(t));const n=dL(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${_p}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(i){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):GO(yO,RP,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const i=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(i)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(BP);t.add({isBackground:!0});const{key:n,value:r,context:i}=e.data;return n?i&&i!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class fL{constructor(){if(!window.sessionStorage)throw ip(Zh)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}class gL extends q_{constructor(e,t,n,r,i,s,o){super(e,n,r,o),this.cacheConfig=t,this.logger=r,this.internalStorage=new MO,this.browserStorage=mL(e,t.cacheLocation,r,i),this.temporaryCacheStorage=mL(e,t.temporaryCacheLocation,r,i),this.cookieStorage=new lL,this.performanceClient=i,this.eventHandler=s}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&F_.isAccountEntity(n)?q_.toObject(new F_,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await GO(this.browserStorage.setUserData.bind(this.browserStorage),CP,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===yp&&r&&this.eventHandler.emitEvent(gf,void 0,e.getAccountInfo())}getAccountKeys(){return uL(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(Qp,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(Qp,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===yp&&this.eventHandler.emitEvent(mf,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,mh.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,mh.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,mh.REFRESH_TOKEN)}getTokenKeys(){return dL(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case mh.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case mh.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case mh.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),SQ(aQ)}this.browserStorage.setItem(`${_p}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case mh.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case mh.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const i=n.accessToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case mh.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=n.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),SQ(aQ)}this.browserStorage.setItem(`${_p}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&LQ(r)&&r.hasOwnProperty("realm")&&r.credentialType===mh.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=RQ(e);await GO(this.browserStorage.setUserData.bind(this.browserStorage),CP,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,mh.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&LQ(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===mh.ACCESS_TOKEN||r.credentialType===mh.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=RQ(e);await GO(this.browserStorage.setUserData.bind(this.browserStorage),CP,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,mh.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&LQ(r)&&r.credentialType===mh.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,mh.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=RQ(e);await GO(this.browserStorage.setUserData.bind(this.browserStorage),CP,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,mh.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(i=n)&&0===r.indexOf(wh)&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,i}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[wh,t,n].join(fh).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(kh.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(vh)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(Rp,e),this.internalStorage.setItem(Pp,t)}getWrapperMetadata(){return[this.internalStorage.getItem(Rp)||Ld.EMPTY_STRING,this.internalStorage.getItem(Pp)||Ld.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(Yd),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(Yd);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(wf)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(Uh));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===yp){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(Ld.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(Ld.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(yP,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):y_.startsWith(e,Ld.CACHE_PREFIX)?e:`${Ld.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Tp)),this.removeTemporaryItem(this.generateCacheKey(xp)),this.removeTemporaryItem(this.generateCacheKey(kp)),this.removeTemporaryItem(this.generateCacheKey(Ip)),this.removeTemporaryItem(this.generateCacheKey(Fp)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=WN(JSON.stringify(e));if(this.setTemporaryCache(Tp,n,!0),t){const e=WN(t);this.setTemporaryCache(xp,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Tp,!0);if(!e)throw jN(dN);const t=this.getTemporaryCache(xp,!0);let n,r="";try{n=JSON.parse(JN(e)),t&&(r=JN(t))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),jN(hN)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Fp,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${Ld.CACHE_PREFIX}.${Up}`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(n){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),bO(window),null}}setInteractionInProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sp;const n=`${Ld.CACHE_PREFIX}.${Up}`;if(e){if(this.getInteractionInProgress())throw jN(ZP);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:t}),!1)}else e||this.getInteractionInProgress()?.clientId!==this.clientId||this.removeTemporaryItem(n)}async hydrateCache(e,t){const n=PQ(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const i={idToken:n,accessToken:NQ(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?FQ(e.expiresOn):0,e.extExpiresOn?FQ(e.extExpiresOn):0,JN,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(i,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof V_&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function mL(e,t,n,r){try{switch(t){case yp:return new pL(e,n,r);case vp:return new fL}}catch(i){n.error(i)}return new MO}class wL{constructor(e){this.eventCallbacks=new Map,this.logger=e||new uf({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||uO();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case gf:case mf:case wf:this.broadcastChannel?.postMessage(i);break;default:this.invokeCallbacks(i)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,i]=t;(0===i.length||i.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}const yL="home_account_id",vL="UPN",bL="client_id",CL="redirect_uri",BL="token_type",SL="req_cnf",EL="return_spa_code",kL="x-client-xtra-sku",IL="brk_client_id",TL="brk_redirect_uri",xL="instance_aware";function UL(e,t,n){if(!t)return;const r=e.get(bL);r&&e.has(IL)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(CL)},t)}function FL(e,t){e.set("response_type",t)}function QL(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Kd;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const i=n?[...t||[],...r]:t||[],s=new v_(i);e.set("scope",s.printScopes())}function _L(e,t){e.set(bL,t)}function RL(e,t){e.set(CL,t)}function PL(e,t){e.set("login_hint",t)}function NL(e,t){e.set(Wd,`UPN:${t}`)}function OL(e,t){e.set(Wd,`Oid:${t.uid}@${t.utid}`)}function LL(e,t){e.set("sid",t)}function DL(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw w_(t_)}else n={};t&&t.length>0&&(n.hasOwnProperty(th)||(n[th]={}),n[th][nh]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(i){throw w_(t_)}e.set("claims",r)}function HL(e,t){e.set("client-request-id",t)}function ML(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function jL(e,t){t?.appName&&e.set("x-app-name",t.appName),t?.appVersion&&e.set("x-app-ver",t.appVersion)}function KL(e,t){t&&e.set("state",t)}function VL(e,t){e.set("client_secret",t)}function qL(e,t){t&&e.set("client_assertion",t)}function GL(e,t){t&&e.set("client_assertion_type",t)}function $L(e,t){e.set("grant_type",t)}function WL(e){e.set("client_info","1")}function zL(e){e.has(xL)||e.set(xL,"true")}function JL(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function YL(e,t){t&&(e.set(BL,Ih.POP),e.set(SL,t))}function XL(e,t){t&&(e.set(BL,Ih.SSH),e.set(SL,t))}function ZL(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function eD(e){e.set("x-ms-lib-capability",Fh)}function tD(e,t,n){e.has(IL)||e.set(IL,t),e.has(TL)||e.set(TL,n)}async function nD(e,t,n,r,i,s,o){o?.addQueueMeasurement(iP,s);const a=WO.transformCIAMAuthority(zO(e)),A=new WO(a,t,n,r,i,s,o);try{return await GO(A.resolveEndpointsAsync.bind(A),sP,i,o,s)(),A}catch(c){throw SQ(NF)}}class rD extends Yh{constructor(e,t,n,r,i){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,rD.prototype)}}class iD{static generateThrottlingStorageKey(e){return`${Uh}.${JSON.stringify(e)}`}static preProcess(e,t){const n=iD.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new rD(r.errorCodes?.join(" ")||Ld.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(iD.checkResponseStatus(n)||iD.checkResponseForRetryAfter(n)){const r={throttleTime:iD.calculateThrottleTime(parseInt(n.headers[$d])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(iD.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty($d)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Th),n+xh))}static removeThrottle(e,t,n,r){const i=oL(t,n,r),s=this.generateThrottlingStorageKey(i);e.removeItem(s)}}class sD{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:i,storageInterface:s,networkInterface:o,cryptoInterface:a,clientCredentials:A,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}=e;const p={...W_,...r};return{authOptions:(f=t,{clientCapabilities:[],azureCloudOptions:Z_,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...f}),systemOptions:{...$_,...n},loggerOptions:p,cacheOptions:{...z_,...i},storageInterface:s||new G_(t.clientId,EQ,new uf(p)),networkInterface:o||J_,cryptoInterface:a||EQ,clientCredentials:A||X_,libraryInfo:{...Y_,...c},telemetry:{...eR,...l},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null};var f}(e),this.logger=new uf(this.config.loggerOptions,kQ,IQ),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[qd]=Ld.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case yL:try{const n=C_(e.credential);t[Wd]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case vL:t[Wd]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,i,s){s&&this.performanceClient?.addQueueMeasurement(s,i);const o=await this.sendPostRequest(r,e,{body:t,headers:n},i);return this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),o}async sendPostRequest(e,t,n,r){let i;iD.preProcess(this.cacheManager,e);try{i=await GO(this.networkClient.sendPostRequestAsync.bind(this.networkClient),yR,this.logger,this.performanceClient,r)(t,n);const e=i.headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[Jd]||"",requestId:e[zd]||""},r)}catch(s){if(s instanceof MP){const e=s.responseHeaders;throw e&&this.performanceClient?.addFields({httpVerToken:e[Jd]||"",requestId:e[zd]||"",contentTypeHeader:e[qd]||void 0,contentLengthHeader:e[Gd]||void 0,httpStatus:s.httpStatus},r),s.error}throw s instanceof Yh?s:SQ(OF)}return iD.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(JR,t);const n=`https://${e}/${this.authority.tenant}/`,r=await nD(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&tD(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&JL(t,e.tokenQueryParameters),HL(t,e.correlationId),UL(t,e.correlationId,this.performanceClient),R_(t)}}class oD{static setRequestState(e,t,n){const r=oD.generateLibraryState(e,n);return t?`${r}${Ld.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw SQ(oQ);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw SQ(oQ);if(!t)throw SQ(HF);try{const n=t.split(Ld.RESOURCE_DELIM),r=n[0],i=n.length>1?n.slice(1).join(Ld.RESOURCE_DELIM):Ld.EMPTY_STRING,s=e.base64Decode(r),o=JSON.parse(s);return{userRequestState:i||Ld.EMPTY_STRING,libraryState:o}}catch(n){throw SQ(HF)}}}const aD="sw";class AD{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(eP,e.correlationId);const n=await GO(this.generateKid.bind(this),eP,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(tP,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:aD}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:o,shrNonce:a,shrOptions:A}=n,c=s?new P_(s):void 0,l=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:UQ(),m:i?.toUpperCase(),u:l?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:l?.AbsolutePath,q:l?.QueryString?[[],l.QueryString]:void 0,client_claims:o||void 0,...r},t,A,n.correlationId)}}class cD{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class lD{constructor(e,t,n,r,i,s,o){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=o}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||Ld.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Ld.NOT_AVAILABLE} - Description: ${e.error_description||Ld.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Ld.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Ld.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,i=new rD(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=Md&&e.status<=jd)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${i}`);if(t&&e.status&&e.status>=Dd&&e.status<=Hd)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${i}`);if(iL(e.error,e.error_description,e.suberror))throw new rL(e.error,e.error_description,e.suberror,e.timestamp||Ld.EMPTY_STRING,e.trace_id||Ld.EMPTY_STRING,e.correlation_id||Ld.EMPTY_STRING,e.claims||Ld.EMPTY_STRING,r);throw i}}async handleServerTokenResponse(e,t,n,r,i,s,o,a,A){let c,l;if(this.performanceClient?.addQueueMeasurement(nP,e.correlation_id),e.id_token){if(c=TQ(e.id_token||Ld.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&c.nonce!==i.nonce)throw SQ(KF);if(r.maxAge||0===r.maxAge){const e=c.auth_time;if(!e)throw SQ(VF);xQ(e,r.maxAge)}}this.homeAccountIdentifier=F_.generateHomeAccountId(e.client_info||Ld.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,c),i&&i.state&&(l=oD.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const u=this.generateCacheRecord(e,t,n,r,c,s,i);let d;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new cD(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(d)),o&&!a&&u.account){const e=u.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await lD.generateAuthenticationResult(this.cryptoObj,t,u,!1,r,c,l,void 0,A)}await this.cacheStorage.saveCacheRecord(u,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&d&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(d))}return lD.generateAuthenticationResult(this.cryptoObj,t,u,!1,r,c,l,e,A)}generateCacheRecord(e,t,n,r,i,s,o){const a=t.getPreferredCache();if(!a)throw SQ(iQ);const A=U_(i);let c,l;e.id_token&&i&&(c=PQ(this.homeAccountIdentifier,a,e.id_token,this.clientId,A||""),l=uD(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,a,A,o,void 0,this.logger));let u=null;if(e.access_token){const i=e.scope?v_.fromString(e.scope):new v_(r.scopes||[]),o=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,l=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=n+o,h=d+c,p=l&&l>0?n+l:void 0;u=NQ(this.homeAccountIdentifier,a,e.access_token,this.clientId,A||t.tenant||"",i.printScopes(),d,h,this.cryptoObj.base64Decode,p,e.token_type,s,e.key_id,r.claims,r.requestedClaimsHash)}let d=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}d=OQ(this.homeAccountIdentifier,a,e.refresh_token,this.clientId,e.foci,s,t)}let h=null;return e.foci&&(h={clientId:this.clientId,environment:a,familyId:e.foci}),{account:l,idToken:c,accessToken:u,refreshToken:d,appMetadata:h}}static async generateAuthenticationResult(e,t,n,r,i,s,o,a,A){let c,l,u=Ld.EMPTY_STRING,d=[],h=null,p=Ld.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==Ih.POP||i.popKid)u=n.accessToken.secret;else{const t=new AD(e),{secret:r,keyId:s}=n.accessToken;if(!s)throw SQ(gQ);u=await t.signPopToken(r,s,i)}d=v_.fromString(n.accessToken.target).asArray(),h=QQ(n.accessToken.expiresOn),c=QQ(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(l=QQ(n.accessToken.refreshOn))}n.appMetadata&&(p=n.appMetadata.familyId===yh?yh:"");const f=s?.oid||s?.sub||"",g=s?.tid||"";a?.spa_accountid&&n.account&&(n.account.nativeAccountId=a?.spa_accountid);const m=n.account?E_(n.account.getAccountInfo(),void 0,s,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:f,tenantId:g,scopes:d,account:m,idToken:n?.idToken?.secret||"",idTokenClaims:s||{},accessToken:u,fromCache:r,expiresOn:h,extExpiresOn:c,refreshOn:l,correlationId:i.correlationId,requestId:A||Ld.EMPTY_STRING,familyId:p,tokenType:n.accessToken?.tokenType||Ld.EMPTY_STRING,state:o?o.userRequestState:Ld.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Ld.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Ld.EMPTY_STRING,code:a?.spa_code,fromNativeBroker:!1}}}function uD(e,t,n,r,i,s,o,a,A,c,l){l?.verbose("setCachedAccount called");const u=e.getAccountKeys().find((e=>e.startsWith(n)));let d=null;u&&(d=e.getAccount(u));const h=d||F_.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:s,environment:o,cloudGraphHostName:A?.cloud_graph_host_name,msGraphHost:A?.msgraph_host,nativeAccountId:c},t,r),p=h.tenantProfiles||[],f=a||h.realm;if(f&&!p.find((e=>e.tenantId===f))){const e=S_(n,h.localAccountId,f,i);p.push(e)}return h.tenantProfiles=p,h}class dD{static validateRedirectUri(e){if(!e)throw w_(WQ)}static validatePrompt(e){const t=[];for(const n in rh)t.push(rh[n]);if(t.indexOf(e)<0)throw w_(e_)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw w_(t_)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw w_(s_);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([ih.PLAIN,ih.S256].indexOf(e)<0)throw w_(i_)}}async function hD(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class pD extends sD{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(YR,e.correlationId),!e.code)throw SQ(zF);const n=UQ(),r=await GO(this.executeTokenRequest.bind(this),XR,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=r.headers?.[zd],s=new lD(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(r.body),GO(s.handleServerTokenResponse.bind(s),nP,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw w_(r_);const t=this.createLogoutUrlQueryString(e);return P_.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(XR,t.correlationId);const n=this.createTokenQueryParameters(t),r=P_.appendQueryString(e.tokenEndpoint,n),i=await GO(this.createTokenRequestBody.bind(this),ZR,this.logger,this.performanceClient,t.correlationId)(t);let s;if(t.clientInfo)try{const e=b_(t.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${e.uid}${gh}${e.utid}`,type:yL}}catch(A){this.logger.verbose("Could not parse client info for CCS Header: "+A)}const o=this.createTokenRequestHeaders(s||t.ccsCredential),a=oL(this.config.authOptions.clientId,t);return GO(this.executePostToTokenEndpoint.bind(this),bR,this.logger,this.performanceClient,t.correlationId)(r,i,o,a,t.correlationId,bR)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(ZR,e.correlationId);const t=new Map;if(_L(t,e.embeddedClientId||e.tokenBodyParameters?.[bL]||this.config.authOptions.clientId),this.includeRedirectUri?RL(t,e.redirectUri):dD.validateRedirectUri(e.redirectUri),QL(t,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(t,e.code),ML(t,this.config.libraryInfo),jL(t,this.config.telemetry.application),eD(t),this.serverTelemetryManager&&!tR(this.config)&&ZL(t,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&VL(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;qL(t,await hD(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),GL(t,n.assertionType)}if($L(t,lh),WL(t),e.authenticationScheme===Ih.POP){const n=new AD(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await GO(n.generateCnf.bind(n),eP,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}YL(t,r)}else if(e.authenticationScheme===Ih.SSH){if(!e.sshJwk)throw w_(c_);XL(t,e.sshJwk)}let n;if((!y_.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&DL(t,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=b_(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${gh}${t.utid}`,type:yL}}catch(r){this.logger.verbose("Could not parse client info for CCS Header: "+r)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case yL:try{OL(t,C_(n.credential))}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case vL:NL(t,n.credential)}return e.embeddedClientId&&tD(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&JL(t,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[EL]||JL(t,{[EL]:"1"}),UL(t,e.correlationId,this.performanceClient),R_(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&HL(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&KL(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&JL(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&zL(t),R_(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function fD(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:s}=e,o=new Map([[0,[n,r]],[2,[i,s]]]);let a=[];if(t?.length){if(a=t.split(","),a.length<4)return t}else a=Array.from({length:4},(()=>"|"));return o.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:i}=e;if(n>=t.length)return;t[n]=[r,i].join("|")}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})})),a.join(",")}class gD{constructor(e,t){this.cacheOutcome=jh,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Ld.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Ld.EMPTY_STRING,this.telemetryCacheKey=kh.CACHE_KEY+fh+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${kh.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(kh.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(kh.VALUE_SEPARATOR);return[kh.SCHEMA_VERSION,i,r].join(kh.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=gD.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(kh.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(kh.VALUE_SEPARATOR),i=e.errors.length,s=[i,t<i?kh.OVERFLOW_TRUE:kh.OVERFLOW_FALSE].join(kh.VALUE_SEPARATOR);return[kh.SCHEMA_VERSION,e.cacheHits,n,r,s].join(kh.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=kh.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Yh?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(kh.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=gD.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const i=e.errors.length;for(t=0;t<i;t++){const i=e.failedRequests[2*t]||Ld.EMPTY_STRING,s=e.failedRequests[2*t+1]||Ld.EMPTY_STRING,o=e.errors[t]||Ld.EMPTY_STRING;if(r+=i.toString().length+s.toString().length+o.length+3,!(r<kh.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Ld.EMPTY_STRING),e.push(this.regionSource||Ld.EMPTY_STRING),e.push(this.regionOutcome||Ld.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return fD(e)}}class mD{constructor(e,t,n,r,i,s,o,a,A){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=s,this.nativeMessageHandler=a,this.correlationId=A||uO(),this.logger=r.clone(up,FO,this.correlationId),this.performanceClient=o}async clearCacheOnLogout(e){if(e){F_.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(F_.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return P_.getAbsoluteUrl(t,BO())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new gD(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(mR,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,s=n?.length?"true"===n:this.config.auth.instanceAware,o=t&&s?this.config.auth.authority.replace(P_.getDomainFromUrl(i),t.environment):i,a=WO.generateAuthority(o,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),A=await GO(nD,iP,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!A.isAlias(t.environment))throw w_(f_);return A}}async function wD(e,t,n,r){n.addQueueMeasurement(FR,e.correlationId);const i=e.authority||t.auth.authority,s=[...e&&e.scopes||[]],o={...e,correlationId:e.correlationId,authority:i,scopes:s};if(o.authenticationScheme){if(o.authenticationScheme===Ih.SSH){if(!e.sshJwk)throw w_(c_);if(!e.sshKid)throw w_(l_)}r.verbose(`Authentication Scheme set to "${o.authenticationScheme}" as configured in Auth request`)}else o.authenticationScheme=Ih.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!y_.isEmptyObj(e.claims)&&(o.requestedClaimsHash=await vO(e.claims)),o}async function yD(e,t,n,r,i){r.addQueueMeasurement(QR,e.correlationId);const s=await GO(wD,FR,i,r,e.correlationId)(e,n,r,i);return{...e,...s,account:t,forceRefresh:e.forceRefresh||!1}}class vD extends mD{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||uO(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=P_.getAbsoluteUrl(e.postLogoutRedirectUri,BO())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=P_.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,BO())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=P_.getAbsoluteUrl(BO(),BO())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(HR,this.correlationId);const t=await GO(this.getClientConfiguration.bind(this),MR,this.logger,this.performanceClient,this.correlationId)(e);return new pD(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:s}=e;this.performanceClient.addQueueMeasurement(MR,this.correlationId);const o=await GO(this.getDiscoveredAuthority.bind(this),mR,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:s}),a=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:a.loggerCallback,piiLoggingEnabled:a.piiLoggingEnabled,logLevel:a.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:up,version:FO,cpu:Ld.EMPTY_STRING,os:Ld.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(jR,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},i=oD.setRequestState(this.browserCrypto,e&&e.state||Ld.EMPTY_STRING,r),s={...await GO(wD,FR,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:i,nonce:e.nonce||uO(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return s;const o=e.account||this.browserStorage.getActiveAccount();return o&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${o.homeAccountId}`,this.correlationId),s.account=o),s}}const bD="user_switch",CD={[bD]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class BD extends Yh{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,BD.prototype),this.name="NativeAuthError",this.ext=n}}function SD(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function ED(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return sL(YO);case"USER_INTERACTION_REQUIRED":return new rL(e,t);case"USER_CANCEL":return jN(nN);case"NO_NETWORK":return jN(wN)}return new BD(e,CD[e]||t,n)}class kD{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(mP)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:dp,extensionId:this.extensionId,responseId:uO(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new kD(e,t,n,hp);return await r.sendHandshakeRequest(),r}catch(r){const i=new kD(e,t,n);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:dp,extensionId:this.extensionId,responseId:uO(),body:{method:fp}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(jN(xN)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===dp&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===fp){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(jN(UN))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===wp){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(ED(e.code,e.description,e.ext));else{if(!e.result)throw Xh(Wh,"Event does not contain result.");e.result.code&&e.result.description?n.reject(ED(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===gp){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(uH){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${uH}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(uH):r&&r.reject(uH)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case Ih.BEARER:case Ih.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}function ID(e,t,n){const r=__(e);if(!r)throw Q_(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),jN(JP)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),jN(WP));return r}function TD(e,t,n){if(!e.state)throw jN(zP);const r=function(e,t){if(!t)return null;try{return oD.parseRequestState(e,t).libraryState.meta}catch(n){throw SQ(HF)}}(t,e.state);if(!r)throw jN(YP);if(r.interactionType!==n)throw jN(XP)}function xD(e,t,n,r){const i=t.correlationId,s=new Map;_L(s,t.embeddedClientId||t.extraQueryParameters?.[bL]||e.clientId);if(QL(s,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,e.authority.options.OIDCOptions?.defaultScopes),RL(s,t.redirectUri),HL(s,i),function(e,t){e.set("response_mode",t||ch)}(s,t.responseMode),WL(s),t.prompt&&(!function(e,t){e.set("prompt",t)}(s,t.prompt),r?.addFields({prompt:t.prompt},i)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(s,t.domainHint),r?.addFields({domainHintFromRequest:!0},i)),t.prompt!==rh.SELECT_ACCOUNT)if(t.sid&&t.prompt===rh.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),LL(s,t.sid),r?.addFields({sidFromRequest:!0},i);else if(t.account){const e=(o=t.account,o.idTokenClaims?.sid||null);let A=function(e){return e.idTokenClaims?.login_hint||null}(t.account);if(A&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),A=null),A){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),PL(s,A),r?.addFields({loginHintFromClaim:!0},i);try{OL(s,C_(t.account.homeAccountId))}catch(a){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===rh.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),LL(s,e),r?.addFields({sidFromClaim:!0},i);try{OL(s,C_(t.account.homeAccountId))}catch(a){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),PL(s,t.loginHint),NL(s,t.loginHint),r?.addFields({loginHintFromRequest:!0},i);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),PL(s,t.account.username),r?.addFields({loginHintFromUpn:!0},i);try{OL(s,C_(t.account.homeAccountId))}catch(a){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),PL(s,t.loginHint),NL(s,t.loginHint),r?.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");var o;return t.nonce&&function(e,t){e.set("nonce",t)}(s,t.nonce),t.state&&KL(s,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&DL(s,t.claims,e.clientCapabilities),t.embeddedClientId&&tD(s,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(xL)||zL(s),s}function UD(e,t,n,r){const i=R_(t,n,r);return P_.appendQueryString(e.authorizationEndpoint,i)}function FD(e,t){if(!e.state||!t)throw e.state?SQ(jF,"Cached State"):SQ(jF,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(i){throw SQ(HF,e.state)}try{r=decodeURIComponent(t)}catch(i){throw SQ(HF,e.state)}if(n!==r)throw SQ(MF);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(iL(e.error,e.error_description,e.suberror))throw new rL(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new rD(e.error||"",e.error_description,e.suberror,t)}}class QD{constructor(e,t,n,r,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(GR,t.correlationId);try{n=function(e,t){if(FD(e,t),!e.code)throw SQ(hQ);return e}(e,t.state)}catch(r){throw r instanceof rD&&r.subError===nN?jN(nN):r}return GO(this.handleCodeResponseFromServer.bind(this),qR,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(qR,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await GO(this.authModule.updateAuthority.bind(this.authModule),JR,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await GO(this.authModule.acquireToken.bind(this.authModule),YR,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:yL}:e.loginHint?{credential:e.loginHint,type:vL}:null}}class _D extends sD{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(TR,e.correlationId);let t=jh;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!y_.isEmptyObj(e.claims))throw this.setCacheOutcome(Kh,e.correlationId),SQ(lQ);if(!e.account)throw SQ(nQ);const n=e.account.tenantId||function(e){const t=new P_(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case Xd:case Zd:case eh:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!i)throw this.setCacheOutcome(Vh,e.correlationId),SQ(lQ);if(s=i.cachedAt,Number(s)>UQ()||_Q(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(qh,e.correlationId),SQ(lQ);var s;i.refreshOn&&_Q(i.refreshOn,0)&&(t=Gh);const o=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(o)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await GO(this.generateResultFromCacheRecord.bind(this),xR,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==jh&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(xR,t.correlationId),e.idToken&&(n=TQ(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw SQ(VF);xQ(e,t.maxAge)}return lD.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class RD extends vD{async acquireToken(e){this.performanceClient.addQueueMeasurement(dR,e.correlationId);const t=this.initializeServerTelemetryManager(Mp),n=await GO(this.getClientConfiguration.bind(this),MR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new _D(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await GO(r.acquireCachedToken.bind(r),TR,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(i){throw i instanceof MN&&i.errorCode===BN&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class PD extends mD{constructor(e,t,n,r,i,s,o,a,A,c,l,u){super(e,t,n,r,i,s,a,A,u),this.apiId=o,this.accountId=c,this.nativeMessageHandler=A,this.nativeStorageManager=l,this.silentCacheClient=new RD(e,this.nativeStorageManager,n,r,i,s,a,A,u);const d=this.nativeMessageHandler.getExtensionId()===hp?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=gD.makeExtraSkuString({libraryName:up,libraryVersion:FO,extensionName:d,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[kL]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(wR,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(wR,e.correlationId),r=UQ(),i=this.initializeServerTelemetryManager(this.apiId);try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(s){if(t===rf)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),s;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=o,A={method:mp,request:a},c=await this.nativeMessageHandler.sendMessage(A),l=this.validateNativeResponse(c);return await this.handleNativeResponse(l,o,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),i.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(s){throw s instanceof BD&&i.setNativeBrokerErrorCode(s.errorCode),s}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:v_.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),SQ(sQ);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw SQ(sQ);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),i={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:i}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),i={method:mp,request:r};try{const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e)}catch(a){if(a instanceof BD){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),SD(a))throw a}}this.browserStorage.setTemporaryCache(Fp,JSON.stringify(r),!0);const s={apiId:Np,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(o,s)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...i}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Fp));const s={method:mp,request:i},o=UQ();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,i,o),n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=TQ(e.id_token,JN),i=this.createHomeAccountIdentifier(e,r),s=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==s&&e.account.id!==t.accountId)throw ED(bD);const o=await this.getDiscoveredAuthority({requestAuthority:t.authority}),a=uD(this.browserStorage,o,i,JN,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const A=await this.generateAuthenticationResult(e,t,r,a,o.canonicalAuthority,n);return await this.cacheAccount(a),await this.cacheNativeTokens(e,t,i,r,e.access_token,A.tenantId,n),A}createHomeAccountIdentifier(e,t){return F_.generateHomeAccountId(e.client_info||Ld.EMPTY_STRING,k_,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?v_.fromString(e.scope):v_.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Ih.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new AD(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw SQ(gQ);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,i,s){const o=this.addTelemetryFromNativeResponse(e),a=e.scope?v_.fromString(e.scope):v_.fromString(t.scope),A=e.account.properties||{},c=A.UID||n.oid||n.sub||Ld.EMPTY_STRING,l=A.TenantId||n.tid||Ld.EMPTY_STRING,u=E_(r.getAccountInfo(),void 0,n,e.id_token);u.nativeAccountId!==e.account.id&&(u.nativeAccountId=e.account.id);const d=await this.generatePopAccessToken(e,t),h=t.tokenType===Ih.POP?Ih.POP:Ih.BEARER;return{authority:i,uniqueId:c,tenantId:l,scopes:a.asArray(),account:u,idToken:e.id_token,idTokenClaims:n,accessToken:d,fromCache:!!o&&this.isResponseFromCache(o),expiresOn:QQ(s+e.expires_in),tokenType:h,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,i,s,o){const a=PQ(n,t.authority,e.id_token||"",t.clientId,r.tid||""),A=o+(t.tokenType===Ih.POP?Ld.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e,t),l={idToken:a,accessToken:NQ(n,t.authority,i,t.clientId,r.tid||s,c.printScopes(),A,0,JN,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(l,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Xh(Wh,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new P_(t);n.validateAsUri();const{scopes:r,...i}=e,s=new v_(r||[]);s.appendScopes(Kd);const o={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case Lp:case Mp:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),rh.NONE}if(e.prompt)switch(e.prompt){case rh.NONE:case rh.CONSENT:case rh.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),jN(_N)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(o.signPopToken&&e.popKid)throw jN(PN);if(this.handleExtraBrokerParams(o),o.extraParameters=o.extraParameters||{},o.extraParameters.telemetry=pp,e.authenticationScheme===Ih.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new AD(this.browserCrypto);let r;if(o.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:o.keyId})),o.signPopToken=!1;else{const i=await GO(n.generateCnf.bind(n),eP,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=i.reqCnfString,o.keyId=i.kid,o.signPopToken=!0}o.reqCnf=r}return this.addRequestSKUs(o),o}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(IL)&&e.extraParameters.hasOwnProperty(TL)&&e.extraParameters.hasOwnProperty(bL);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[TL],n=e.extraParameters[bL]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}async function ND(e,t,n,r,i){const s=xD({...e.auth,authority:t},n,r,i);if(ML(s,{sku:up,version:FO,os:"",cpu:""}),e.auth.protocolMode!==xF&&jL(s,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(s),n.authenticationScheme===Ih.POP)){const e=new KO(r,i),t=new AD(e);let o;if(n.popKid)o=e.encodeKid(n.popKid);else{o=(await GO(t.generateCnf.bind(t),eP,r,i,n.correlationId)(n,r)).reqCnfString}YL(s,o)}return UL(s,n.correlationId,i),s}async function OD(e,t,n,r,i){if(!n.codeChallenge)throw w_(s_);const s=await GO(ND,VR,r,i,n.correlationId)(e,t,n,r,i);return FL(s,sh),function(e,t,n){if(!t||!n)throw w_(s_);e.set("code_challenge",t),e.set("code_challenge_method",n)}(s,n.codeChallenge,Ld.S256_CODE_CHALLENGE_METHOD),JL(s,n.extraQueryParameters||{}),UD(t,s,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function LD(e,t,n,r,i,s){if(!r.earJwk)throw jN(VP);const o=await ND(t,n,r,i,s);FL(o,oh),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(o,r.earJwk);const a=new Map;JL(a,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const i=e.createElement("input");i.hidden=!0,i.name=n,i.value=t,r.appendChild(i)})),e.body.appendChild(r),r}(e,UD(n,a,t.auth.encodeExtraQueryParams,r.extraQueryParameters),o)}async function DD(e,t,n,r,i,s,o,a,A,c){if(!c)throw jN(FN);const l=new KO(a,A),u=new PD(r,i,l,a,o,r.system.navigationClient,n,A,c,t,s,e.correlationId),{userRequestState:d}=oD.parseRequestState(l,e.state);return GO(u.acquireToken.bind(u),wR,a,A,e.correlationId)({...e,state:d,prompt:void 0})}async function HD(e,t,n,r,i,s,o,a,A,c,l,u){if(iD.removeThrottle(o,i.auth.clientId,e),t.accountId)return GO(DD,WR,c,l,e.correlationId)(e,t.accountId,r,i,o,a,A,c,l,u);const d={...e,code:t.code||"",codeVerifier:n},h=new QD(s,o,d,c,l);return await GO(h.handleCodeResponse.bind(h),GR,c,l,e.correlationId)(t,e)}async function MD(e,t,n,r,i,s,o,a,A,c,l){if(iD.removeThrottle(s,r.auth.clientId,e),FD(t,e.state),!t.ear_jwe)throw jN(qP);if(!e.earJwk)throw jN(VP);const u=JSON.parse(await GO(pO,NP,A,c,e.correlationId)(e.earJwk,t.ear_jwe));if(u.accountId)return GO(DD,WR,A,c,e.correlationId)(e,u.accountId,n,r,s,o,a,A,c,l);const d=new lD(r.auth.clientId,s,new KO(A,c),A,null,null,c);d.validateTokenResponse(u);const h={code:"",state:e.state,nonce:e.nonce,client_info:u.client_info,cloud_graph_host_name:u.cloud_graph_host_name,cloud_instance_host_name:u.cloud_instance_host_name,cloud_instance_name:u.cloud_instance_name,msgraph_host:u.msgraph_host};return await GO(d.handleServerTokenResponse.bind(d),nP,A,c,e.correlationId)(u,i,UQ(),e,h,void 0,void 0,void 0,void 0)}async function jD(e,t,n){e.addQueueMeasurement(SP,n);const r=qO(KD,EP,t,e,n)(e,t,n);return{verifier:r,challenge:await GO(VD,kP,t,e,n)(r,e,t,n)}}function KD(e,t,n){try{const r=new Uint8Array(32);qO(cO,TP,t,e,n)(r);return $N(r)}catch(r){throw jN(KP)}}async function VD(e,t,n,r){t.addQueueMeasurement(kP,r);try{const i=await GO(AO,IP,n,t,r)(e,t,r);return $N(new Uint8Array(i))}catch(i){throw jN(KP)}}class qD extends vD{constructor(e,t,n,r,i,s,o,a,A,c){super(e,t,n,r,i,s,o,A,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=a,this.eventHandler=i}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||Kd,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(n){return Promise.reject(n)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,i))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await GO(this.initializeAuthorizationRequest.bind(this),jR,this.logger,this.performanceClient,this.correlationId)(e,Vp.Popup);t.popup&&xO(r.authority);const i=kD.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===UF?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(Op),s=n||await GO(jD,SP,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...e,codeChallenge:s.challenge};try{const n=await GO(this.createAuthCodeClient.bind(this),HR,this.logger,this.performanceClient,r)({serverTelemetryManager:i,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),a=await GO(OD,KR,this.logger,this.performanceClient,r)(this.config,n.authority,o,this.logger,this.performanceClient),A=this.initiateAuthRequest(a,t);this.eventHandler.emitEvent(Rf,Vp.Popup,{popupWindow:A},null);const c=await this.monitorPopupForHash(A,t.popupWindowParent),l=qO(ID,rP,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await GO(HD,zR,this.logger,this.performanceClient,r)(e,l,s.verifier,Op,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(a){throw t.popup?.close(),a instanceof Yh&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}async executeEarFlow(e,t){const n=e.correlationId,r=await GO(this.getDiscoveredAuthority.bind(this),mR,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await GO(hO,PP,this.logger,this.performanceClient,n)(),s={...e,earJwk:i},o=t.popup||this.openPopup("about:blank",t);(await LD(o.document,this.config,r,s,this.logger,this.performanceClient)).submit();const a=await GO(this.monitorPopupForHash.bind(this),OR,this.logger,this.performanceClient,n)(o,t.popupWindowParent),A=qO(ID,rP,this.logger,this.performanceClient,this.correlationId)(a,this.config.auth.OIDCOptions.serverResponseType,this.logger);return GO(MD,$R,this.logger,this.performanceClient,n)(s,A,Op,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Pf,Vp.Popup,e);const i=this.initializeServerTelemetryManager(Kp);try{await this.clearCacheOnLogout(e.account);const s=await GO(this.createAuthCodeClient.bind(this),HR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n,account:e.account||void 0});try{s.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&s.authority.protocolMode===xF){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Nf,Vp.Popup,e),r){const e={apiId:Kp,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=P_.getAbsoluteUrl(r,BO());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const o=s.getLogoutUri(e);this.eventHandler.emitEvent(Nf,Vp.Popup,e);const a=this.openPopup(o,t);if(this.eventHandler.emitEvent(Rf,Vp.Popup,{popupWindow:a},null),await this.monitorPopupForHash(a,t.popupWindowParent).catch((()=>{})),r){const e={apiId:Kp,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=P_.getAbsoluteUrl(r,BO());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(s){throw t.popup?.close(),s instanceof Yh&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),this.eventHandler.emitEvent(Of,Vp.Popup,null,s),this.eventHandler.emitEvent(Lf,Vp.Popup),s}this.eventHandler.emitEvent(Lf,Vp.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),jN($P)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(jN(nN));let i="";try{i=e.location.href}catch(a){}if(!i||"about:blank"===i)return;clearInterval(r);let s="";const o=this.config.auth.OIDCOptions.serverResponseType;e&&(s=o===ah?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(s)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw jN(tN);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),jN(eN)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:i}=t;const s=i.screenLeft?i.screenLeft:i.screenX,o=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,A=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=r.popupSize?.width,l=r.popupSize?.height,u=r.popupPosition?.top,d=r.popupPosition?.left;return(!c||c<0||c>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=ap),(!l||l<0||l>A)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=Ap),(!u||u<0||u>A)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,A/2-Ap/2+o)),(!d||d<0||d>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,a/2-ap/2+s)),i.open(e,n,`width=${c}, height=${l}, top=${u}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${cp}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${cp}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class GD extends vD{constructor(e,t,n,r,i,s,o,a,A,c){super(e,t,n,r,i,s,o,A,c),this.nativeStorage=a}async acquireToken(e){const t=await GO(this.initializeAuthorizationRequest.bind(this),jR,this.logger,this.performanceClient,this.correlationId)(e,Vp.Redirect);t.platformBroker=kD.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(Df,Vp.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(kp,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===UF?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(i){throw i instanceof Yh&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),i}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(Np),i=await GO(jD,SP,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),s={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(s,i.verifier);try{const n=await GO(this.createAuthCodeClient.bind(this),HR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),i=await GO(OD,KR,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(i,t)}catch(o){throw o instanceof Yh&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}async executeEarFlow(e){const t=e.correlationId,n=await GO(this.getDiscoveredAuthority.bind(this),mR,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await GO(hO,PP,this.logger,this.performanceClient,t)(),i={...e,earJwk:r};this.browserStorage.cacheAuthorizeRequest(i);(await LD(document,this.config,n,i,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.initializeServerTelemetryManager(Dp);try{const[s,o]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(kp,!0)||Ld.EMPTY_STRING,A=P_.removeHashFromUrl(a);if(A===P_.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(s,t,n,i)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,t,n,i);if(!CO()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Ip,o,!0);const e={apiId:Dp,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),r=await this.navigationClient.navigateInternal(a,e);else{const t=function(){const e=new P_(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(kp,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(s,t,n,i)}return null}catch(s){throw s instanceof Yh&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===ah?window.location.search:window.location.hash);let n=__(t);if(n){try{TD(n,this.browserCrypto,Vp.Redirect)}catch(i){return i instanceof Yh&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return bO(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const r=this.browserStorage.getTemporaryCache(Ip,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ip)),r&&(n=__(r),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,r]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw jN(zP);if(e.ear_jwe){const n=await GO(this.getDiscoveredAuthority.bind(this),mR,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return GO(MD,$R,this.logger,this.performanceClient,t.correlationId)(t,e,Np,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const i=await GO(this.createAuthCodeClient.bind(this),HR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return GO(HD,zR,this.logger,this.performanceClient,t.correlationId)(t,e,n,Np,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:Np,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),jN($P)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(jp);try{this.eventHandler.emitEvent(Pf,Vp.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:jp,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=await GO(this.createAuthCodeClient.bind(this),HR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(i.authority.protocolMode===xF)try{i.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Nf,Vp.Redirect,t)}const s=i.getLogoutUri(t);if(this.eventHandler.emitEvent(Nf,Vp.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Ep),void await this.navigationClient.navigateExternal(s,r);if(!1!==e.onRedirectNavigate(s))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Ep),void await this.navigationClient.navigateExternal(s,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof Yh&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(Of,Vp.Redirect,null,r),this.eventHandler.emitEvent(Lf,Vp.Redirect),r}this.eventHandler.emitEvent(Lf,Vp.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return P_.getAbsoluteUrl(t,BO())}}async function $D(e,t,n,r,i){if(t.addQueueMeasurement(NR,r),!e)throw n.info("Navigate url is empty"),jN($P);return i?GO(JD,LR,n,t,r)(e,i,t,r):qO(YD,DR,n,t,r)(e)}async function WD(e,t,n,r,i){const s=XD();if(!s.contentDocument)throw"No document associated with iframe!";return(await LD(s.contentDocument,e,t,n,r,i)).submit(),s}async function zD(e,t,n,r,i,s,o){return r.addQueueMeasurement(OR,s),new Promise(((r,s)=>{t<UO&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const a=window.setTimeout((()=>{window.clearInterval(A),s(jN(iN))}),t),A=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(s){}if(!t||"about:blank"===t)return;let i="";n&&(i=o===ah?n.location.search:n.location.hash),window.clearTimeout(a),window.clearInterval(A),r(i)}),n)})).finally((()=>{qO(ZD,wP,i,r,s)(e)}))}function JD(e,t,n,r){return n.addQueueMeasurement(LR,r),new Promise(((n,r)=>{const i=XD();window.setTimeout((()=>{i?(i.src=e,n(i)):r("Unable to load iframe")}),t)}))}function YD(e){const t=XD();return t.src=e,t}function XD(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function ZD(e){document.body===e.parentNode&&document.body.removeChild(e)}class eH extends vD{constructor(e,t,n,r,i,s,o,a,A,c,l){super(e,t,n,r,i,s,a,c,l),this.apiId=o,this.nativeStorage=A}async acquireToken(e){this.performanceClient.addQueueMeasurement(hR,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==rh.NONE&&t.prompt!==rh.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${rh.NONE}`),t.prompt=rh.NONE):t.prompt=rh.NONE;const n=await GO(this.initializeAuthorizationRequest.bind(this),jR,this.logger,this.performanceClient,e.correlationId)(t,Vp.Silent);return n.platformBroker=kD.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme),xO(n.authority),this.config.auth.protocolMode===UF?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await GO(this.createAuthCodeClient.bind(this),HR,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await GO(this.silentTokenHelper.bind(this),PR,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(r){if(r instanceof Yh&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),!t||!(r instanceof Yh)||r.errorCode!==op)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await GO(this.silentTokenHelper.bind(this),PR,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await GO(this.getDiscoveredAuthority.bind(this),mR,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await GO(hO,PP,this.logger,this.performanceClient,t)(),i={...e,earJwk:r},s=await GO(WD,NR,this.logger,this.performanceClient,t)(this.config,n,i,this.logger,this.performanceClient),o=this.config.auth.OIDCOptions.serverResponseType,a=await GO(zD,OR,this.logger,this.performanceClient,t)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,o),A=qO(ID,rP,this.logger,this.performanceClient,t)(a,o,this.logger);return GO(MD,$R,this.logger,this.performanceClient,t)(i,A,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(jN(cN))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(PR,n);const r=await GO(jD,SP,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i={...t,codeChallenge:r.challenge},s=await GO(OD,KR,this.logger,this.performanceClient,n)(this.config,e.authority,i,this.logger,this.performanceClient),o=await GO($D,NR,this.logger,this.performanceClient,n)(s,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),a=this.config.auth.OIDCOptions.serverResponseType,A=await GO(zD,OR,this.logger,this.performanceClient,n)(o,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),c=qO(ID,rP,this.logger,this.performanceClient,n)(A,a,this.logger);return GO(HD,zR,this.logger,this.performanceClient,n)(t,c,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}class tH extends sD{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(BR,e.correlationId);const t=UQ(),n=await GO(this.executeTokenRequest.bind(this),CR,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[zd],i=new lD(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),GO(i.handleServerTokenResponse.bind(i),nP,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw w_(n_);if(this.performanceClient?.addQueueMeasurement(ER,e.correlationId),!e.account)throw SQ(nQ);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await GO(this.acquireTokenWithCachedRefreshToken.bind(this),SR,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof rL&&t.errorCode===JO,r=t instanceof rD&&t.errorCode===Qh&&t.subError===_h;if(n||r)return GO(this.acquireTokenWithCachedRefreshToken.bind(this),SR,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return GO(this.acquireTokenWithCachedRefreshToken.bind(this),SR,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(SR,e.correlationId);const n=qO(this.cacheManager.getRefreshToken.bind(this.cacheManager),vP,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw sL(JO);if(n.expiresOn&&_Q(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),sL(XO);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Ih.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:yL}};try{return await GO(this.acquireToken.bind(this),BR,this.logger,this.performanceClient,e.correlationId)(r)}catch(i){if(i instanceof rL&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),i.subError===ZO)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=RQ(n);this.cacheManager.removeRefreshToken(e)}throw i}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(CR,e.correlationId);const n=this.createTokenQueryParameters(e),r=P_.appendQueryString(t.tokenEndpoint,n),i=await GO(this.createTokenRequestBody.bind(this),kR,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),o=oL(this.config.authOptions.clientId,e);return GO(this.executePostToTokenEndpoint.bind(this),vR,this.logger,this.performanceClient,e.correlationId)(r,i,s,o,e.correlationId,vR)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(kR,e.correlationId);const t=new Map;if(_L(t,e.embeddedClientId||e.tokenBodyParameters?.[bL]||this.config.authOptions.clientId),e.redirectUri&&RL(t,e.redirectUri),QL(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),$L(t,uh),WL(t),ML(t,this.config.libraryInfo),jL(t,this.config.telemetry.application),eD(t),this.serverTelemetryManager&&!tR(this.config)&&ZL(t,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(t,e.refreshToken),this.config.clientCredentials.clientSecret&&VL(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;qL(t,await hD(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),GL(t,n.assertionType)}if(e.authenticationScheme===Ih.POP){const n=new AD(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await GO(n.generateCnf.bind(n),eP,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}YL(t,r)}else if(e.authenticationScheme===Ih.SSH){if(!e.sshJwk)throw w_(c_);XL(t,e.sshJwk)}if((!y_.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&DL(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case yL:try{OL(t,C_(e.ccsCredential.credential))}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case vL:NL(t,e.ccsCredential.credential)}return e.embeddedClientId&&tD(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&JL(t,e.tokenBodyParameters),UL(t,e.correlationId,this.performanceClient),R_(t)}}class nH extends vD{async acquireToken(e){this.performanceClient.addQueueMeasurement(fR,e.correlationId);const t=await GO(wD,FR,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Mp),i=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return GO(i.acquireTokenByRefreshToken.bind(i),ER,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(jN(cN))}async createRefreshTokenClient(e){const t=await GO(this.getClientConfiguration.bind(this),MR,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new tH(t,this.performanceClient)}}class rH{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw jN(gN);const r=e.correlationId||uO(),i=t.id_token?TQ(t.id_token,JN):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.authority?new WO(WO.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||uO()):void 0,a=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,i,o),A=await this.loadIdToken(t,a.homeAccountId,a.environment,a.realm,r),c=await this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n,r),l=await this.loadRefreshToken(t,a.homeAccountId,a.environment,r);return this.generateAuthenticationResult(e,{account:a,idToken:A,accessToken:c,refreshToken:l},i,o)}async loadAccount(e,t,n,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=F_.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),jN(CN);const s=F_.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),o=r?.tid,a=uD(this.storage,i,s,JN,r,t,i.hostnameAndPort,o,void 0,void 0,this.logger);return await this.storage.setAccount(a,n),a}async loadIdToken(e,t,n,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=PQ(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(s,i),s}async loadAccessToken(e,t,n,r,i,s,o){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?v_.fromString(t.scope):new v_(e.scopes),A=s.expiresOn||t.expires_in+UQ(),c=s.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+UQ(),l=NQ(n,r,t.access_token,this.config.auth.clientId,i,a.printScopes(),A,c,JN);return await this.storage.setAccessTokenCredential(l,o),l}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=OQ(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,t,n,r){let i,s="",o=[],a=null;t?.accessToken&&(s=t.accessToken.secret,o=v_.fromString(t.accessToken.target).asArray(),a=QQ(t.accessToken.expiresOn),i=QQ(t.accessToken.extendedExpiresOn));const A=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:o,account:A.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:s,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:i,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:A.cloudGraphHostName||"",msGraphHost:A.msGraphHost||"",fromNativeBroker:!1}}}class iH extends pD{constructor(e){super(e),this.includeRedirectUri=!1}}class sH extends vD{constructor(e,t,n,r,i,s,o,a,A,c){super(e,t,n,r,i,s,a,A,c),this.apiId=o}async acquireToken(e){if(!e.code)throw jN(SN);const t=await GO(this.initializeAuthorizationRequest.bind(this),jR,this.logger,this.performanceClient,e.correlationId)(e,Vp.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},i=await GO(this.getClientConfiguration.bind(this),MR,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),s=new iH(i);this.logger.verbose("Auth code client created");const o=new QD(s,this.browserStorage,r,this.logger,this.performanceClient);return await GO(o.handleCodeResponseFromServer.bind(o),qR,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Yh&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(jN(cN))}}function oH(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function aH(e,t){try{IO(e)}catch(n){throw t.end({success:!1},n),n}}class AH{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new KO(this.logger,this.performanceClient):EQ,this.eventHandler=new wL(this.logger),this.browserStorage=this.isBrowserEnvironment?new gL(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw w_(o_)}return{canonicalAuthority:e.authority?zO(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):((e,t,n,r)=>new gL(e,{cacheLocation:bp,temporaryCacheLocation:bp,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},EQ,t,n,r))(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:bp,temporaryCacheLocation:bp,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new gL(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new rH(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new AH(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(ff);const n=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(_R,n);if(this.eventHandler.emitEvent(pf),!t)try{this.logMultipleInstances(i)}catch{}if(await GO(this.browserStorage.initialize.bind(this.browserStorage),RR,this.logger,this.performanceClient,n)(n),r)try{this.nativeExtensionProvider=await kD.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await GO(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),yP,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(ff),i.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),kO(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const t=this.browserStorage.getInteractionInProgress()?.type;if(t===Ep)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&kD.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let s,o;this.eventHandler.emitEvent(Qf,Vp.Redirect);try{if(i&&this.nativeExtensionProvider){s=this.performanceClient.startMeasurement(cR,r?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new PD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Dp,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);o=GO(e.handleRedirectPromise.bind(e),gP,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;s=this.performanceClient.startMeasurement(cR,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const i=this.createRedirectClient(r);o=GO(i.handleRedirectPromise.bind(i),fP,this.logger,this.performanceClient,s.event.correlationId)(e,t,n,s)}}catch(a){throw this.browserStorage.resetRequestCache(),a}return o.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(vf,Vp.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Bf,Vp.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:oH(e.account)})}else s.event.errorCode?s.end({success:!1}):s.discard();return this.eventHandler.emitEvent(_f,Vp.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(Sf,Vp.Redirect,null,t):this.eventHandler.emitEvent(bf,Vp.Redirect,null,t),this.eventHandler.emitEvent(_f,Vp.Redirect),s.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(AR,t);n.add({accountType:oH(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const i=this.getAllAccounts().length>0;try{let r;if(TO(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Sp),i?this.eventHandler.emitEvent(Cf,Vp.Redirect,e):this.eventHandler.emitEvent(yf,Vp.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new PD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Np,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof BD&&SD(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof rL){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(s){throw this.browserStorage.resetRequestCache(),n.end({success:!1},s),i?this.eventHandler.emitEvent(Sf,Vp.Redirect,null,s):this.eventHandler.emitEvent(bf,Vp.Redirect,null,s),s}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(aR,t);n.add({scenarioId:e.scenarioId,accountType:oH(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),aH(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,Sp)}catch(o){return Promise.reject(o)}const r=this.getAllAccounts();let i;r.length>0?this.eventHandler.emitEvent(Cf,Vp.Popup,e):this.eventHandler.emitEvent(yf,Vp.Popup,e);const s=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))i=this.acquireTokenNative({...e,correlationId:t},Op).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:oH(e.account)}),e))).catch((n=>{if(n instanceof BD&&SD(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,s)}if(n instanceof rL){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,s)}throw n}));else{i=this.createPopupClient(t).acquireToken(e,s)}return i.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(vf,Vp.Popup,e):this.eventHandler.emitEvent(Bf,Vp.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:oH(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(Sf,Vp.Popup,null,e):this.eventHandler.emitEvent(bf,Vp.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(gR,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:oH(e.account)}),aH(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(kf,Vp.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,Lp).catch((e=>{if(e instanceof BD&&SD(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(If,Vp.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:oH(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Tf,Vp.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(rR,t);aH(this.initialized,n),this.eventHandler.emitEvent(xf,Vp.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw jN(kN);if(e.code){const r=e.code;let i=this.hybridAuthCodeResponses.get(r);return i?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Uf,Vp.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:oH(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Ff,Vp.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,i)),await i}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},Hp,e.nativeAccountId).catch((e=>{throw e instanceof BD&&SD(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:oH(r.account),success:!0}),r}throw jN(TN)}throw jN(EN)}catch(r){throw this.eventHandler.emitEvent(Ff,Vp.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(pP,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(IR,e.correlationId),t){case nf:case rf:case sf:const t=this.createSilentCacheClient(e.correlationId);return GO(t.acquireToken.bind(t),dR,this.logger,this.performanceClient,e.correlationId)(e);default:throw SQ(lQ)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(iR,e.correlationId),t){case nf:case sf:case of:case af:const t=this.createSilentRefreshClient(e.correlationId);return GO(t.acquireToken.bind(t),fR,this.logger,this.performanceClient,e.correlationId)(e);default:throw SQ(lQ)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(UR,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return GO(t.acquireToken.bind(t),hR,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);TO(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Ep);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);IO(this.initialized),this.browserStorage.setInteractionInProgress(!0,Ep);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=F_.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw jN(FN);return new PD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!kD.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case rh.NONE:case rh.CONSENT:case rh.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new qD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new GD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new eH(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Lp,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new RD(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new nH(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new sH(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Hp,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return EO(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===yp?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===yp?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?uO():Ld.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||Xp})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||Xp})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(sR,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),aH(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw jN(lN);return n.add({accountType:oH(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),{...r,state:e.state,correlationId:t}))).catch((e=>{throw e instanceof Yh&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=oL(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:n},t.homeAccountId),i=JSON.stringify(r),s=this.activeSilentTokenRequests.get(i);if("undefined"===typeof s){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=GO(this.acquireTokenSilentAsync.bind(this),oR,this.logger,this.performanceClient,n)({...e,correlationId:n},t);return this.activeSilentTokenRequests.set(i,r),r.finally((()=>{this.activeSilentTokenRequests.delete(i)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),s}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(oR,e.correlationId),this.eventHandler.emitEvent(Cf,Vp.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await GO(yD,QR,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||nf;return this.acquireTokenSilentNoIframe(r,i).catch((async e=>{const t=function(e,t){const n=!(e instanceof rL&&e.subError!==ZO),r=e.errorCode===op||e.errorCode===lQ,i=n&&r||e.errorCode===JO||e.errorCode===XO,s=cf.includes(t);return i&&s}(e,i);if(t){if(this.activeIframeRequest){if(i!==Af){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const s=this.performanceClient.startMeasurement(pR,r.correlationId);s.add({awaitIframeCorrelationId:n});const o=await t;if(s.end({success:o}),o)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),GO(this.acquireTokenBySilentIframe.bind(this),UR,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),GO(this.acquireTokenBySilentIframe.bind(this),UR,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Bf,Vp.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(Sf,Vp.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return kD.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Mp,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof BD&&SD(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,SQ(lQ);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===rf&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),GO(this.acquireTokenFromCache.bind(this),IR,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===rf)throw n;return this.eventHandler.emitEvent(Ef,Vp.Silent,e),GO(this.acquireTokenByRefreshToken.bind(this),iR,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await GO(jD,SP,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,n){const r=window.msal?.clientIds||[],i=r.length,s=r.filter((t=>t===e)).length;s>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:i,sameClientIdInstanceCount:s})}(t,e,this.logger)}}class cH{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new _O(e);return await n.initialize(),AH.createController(n,t)}(e);return new cH(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new AH(new _O(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}window.process=kF(),window.Buffer=window.Buffer||IF.hp;const lH=new cH(Xf);c.createRoot(document.getElementById("root")).render((0,_e.jsx)(a.StrictMode,{children:(0,_e.jsx)($f,{instance:lH,children:(0,_e.jsx)(SF,{})})}))})()})();
//# sourceMappingURL=main.27caaaa3.js.map